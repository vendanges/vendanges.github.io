<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Dcat Admin 入门 | 琼瑶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="琼瑶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">琼瑶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">梦入琼楼寒有月，行过石树冻无烟</h2>
	</header>

	<main>
		<article>
	
		<h1>Dcat Admin 入门</h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/dcatadmin/" rel="tag">dcatadmin</a> <a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>Dcat Admin 是一个基于 Admin admin 二次开发的后台构建工具，支持页面一键生成 CURD 代码且具有丰富的后台组件。并拥有简洁的 API 和用户、权限、菜单管理，同时使用 PJAX 构建盒子模型（支持按需加载静态资源，可无限扩展但不影响性能）并采用松耦合的页面构建雨数据操作和涉及。</p>
<p>打牌自定义页面和主题配色，以及多主题的切换让其变得高颜值并支持插件、可视化代码生成器以及数据表格的构建，支持表头、数据导出和搜索等批量操作以及异步上传文件等。</p>
<p>对于构建 Dcat Admin 可以通过 composer 在构建完 Laravel 之后的操作，即使用 </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">composer create-project --prefer-dist laravel/laravel dcat-admin</span><br><span class="line"></span><br><span class="line">!!! ad-warning</span><br><span class="line">	title: Laravel 版本控制</span><br><span class="line">	collapse: close</span><br><span class="line">	同样的你可以通过 composer create-project --prefer-dist laravel/laravel dcat-admin 7.</span><br></pre></td></tr></table></figure>

<p>之后通过 <code>.env</code> 配置文件，在此基础上填写 Mysql 文件以及安装 <code>dcat-admin</code> 等，在此基础上直接通过 <code>composer require dcat/laravel-admin:&quot;2.**&quot; -vvv</code> ，之后 <code>php artisan admin:publish</code> 完成后。</p>
<p>通过 <code>composer install\composer update</code> 完成依赖的安装，使用 <code>php artisan migrate</code> 完成 Model 的定义，并通过 <code>php artisan admin:install</code> 将 Dactadmin 的必要数据(user and pass)数据映射到数据库中。</p>
<p>之后 Dcat-admin 的所有配置都在 <code>config/admin.php</code> 文件夹和目录中，之后的后台目录 <code>app/Admin</code> 中来进行开发：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">app/Admin</span><br><span class="line">	├── Controllers //存放 Dcat-admin 启动文件 </span><br><span class="line">│   ├── AuthController.php //DcatAdmin 登录鉴权控制器</span><br><span class="line">│   └── HomeController.php //DcatAdmin 首页控制器</span><br><span class="line">├── Metrics //数据统计卡片 Demo</span><br><span class="line">│   └── Examples</span><br><span class="line">│       ├── NewDevices.php</span><br><span class="line">│       ├── NewUsers.php</span><br><span class="line">│       ├── ProductOrders.php</span><br><span class="line">│       ├── Sessions.php</span><br><span class="line">│       ├── Tickets.php</span><br><span class="line">│       └── TotalUsers.php</span><br><span class="line">├── bootstrap.php  //Dcat-admin 启动文件</span><br><span class="line">└── routes.php //后台路由文件</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DcatAdmin 的前端静态文件在 ```/public/vendor/dcat-admin``` 目录下，同样的对应数据库迁移文件于同步文件在 ```/database/migrations/``` 目录中。</span><br></pre></td></tr></table></figure>

<p>由于是基于 Laravel Admin 而二次开发的，因此他的语言文件包在 <code>/resources/lang</code> 目录中，可根据环境自行进行选择。</p>
<p>之后，我们还需要在开发环境中开启 <strong>Debug</strong> 模式，这主要是因为 DactAdmin 所提供的开发工具需要在 debug 下才可使用，我们只需要在 <code>.env</code> 配置文件中的 <code>APP_DEBUG</code> 值设置为 <code>true</code> 即可。</p>
<h2 id="Controller-生成"><a href="#Controller-生成" class="headerlink" title="Controller 生成"></a>Controller 生成</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20220214153714.png"></p>
<p>可以通过访问 <a target="_blank" rel="noopener" href="http://127.0.0.1:8000/admin/helpers/scaffold">Admin | 代码生成器</a> 新建并提交一个数据表文件，之后 DcatAdmin 会在 <code>app/Admin/Controllers</code> 中生成一个名为 <code>UserController</code> 的控制器，并会在 <code>App\Models\</code> 中自动创建一个名为 <code>User</code> 的模型。</p>
<p>之后我们需要做的是只需要在 <code>app/Admin/routes.php</code> 加入一条路由语法 <code>$router-&gt;resource(&#39;name&#39; , &#39;UserController&#39;);</code>，即可，就会生成一组数据列表 <a target="_blank" rel="noopener" href="http://127.0.0.1:8000/admin/users">Admin | 管理员</a>，在下一章节中将会详细讲解并使用 DcatAdmin 构建的表格。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">之后打开 [Admin | 菜单](http://127.0.0.1:8000/admin/auth/menu) 就可以查看对应的 menu 即在管理后台左侧页面中查看用户管理的页面链接路口，同样的你还可以进行相应的编辑。</span><br></pre></td></tr></table></figure>


<h2 id="Repositories"><a href="#Repositories" class="headerlink" title="Repositories"></a>Repositories</h2><p>Dcat Admin 在 Laravel Admin 中引入了一个新的概念，即 Dcat Admin 构建的页面并不直接依赖于 Model，而是直接引入 Repositories 作为中间层，不在与数据的读写产生强耦合的关系。</p>
<p>比如之前我们通过代码生成器所构建的 User，他也会在数据仓库即 <code>app\Admin\Repositories\User</code> 中创建同名的数据仓库文件，其内容为：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Admin</span>\<span class="title class_">Repositories</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Repositories</span>\<span class="title">EloquentRepository</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">User</span> <span class="keyword">as</span> <span class="title">UserModel</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">EloquentRepository</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">     <span class="keyword">protected</span> <span class="variable">$eloquentClass</span> = <span class="title class_">UserModel</span>::<span class="variable language_">class</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="Import-js"><a href="#Import-js" class="headerlink" title="Import js"></a>Import js</h2><p>Dcat Admin 使用的是 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/jquery-pjax">jquery-pjax - npm (npmjs.com)</a> 所构建的无刷页面， 你可以通过 <a target="_blank" rel="noopener" href="https://liuyib.github.io/2019/09/24/use-pjax-to-your-site/">集成 Pjax 实现网站无刷新加载 | Liuyib’s Blog</a> 这一文档来了解 Pjax 的实现过程。因此引入 Js 的方式也与传统的引入方法不同。</p>
<p>由于 Dcat Admin 构建的是一个单页应用，加载 JS 只会被执行以此，所以在框架为问哦们提供的 <code>Admin::script</code> 方法的载入非常实用，主要分为两个场景，引入文件和引入 JS Code.</p>
<h3 id="JS-file-import"><a href="#JS-file-import" class="headerlink" title="JS file import"></a>JS file import</h3><p>DcatAdmin 所提供的两种方式，主要使用的是 <code>Admin:script</code> 以及 <code>Dcat.ready</code> ，主要使用的是 <code>Renderable</code> 契约来进行实现，对于文件官方给了一套详细的写法说明：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Contracts</span>\<span class="title">Support</span>\<span class="title">Renderable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Admin</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Card</span> <span class="keyword">implements</span> <span class="title">Renderable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$js</span> = [</span><br><span class="line">        <span class="comment">// js脚本不能直接包含初始化操作，否则页面刷新后无效</span></span><br><span class="line">        <span class="string">&#x27;xxx/js/card.min.js&#x27;</span>,</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="variable">$css</span> = [</span><br><span class="line">        <span class="string">&#x27;xxx/css/card.min.css&#x27;</span>,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">script</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&lt;&lt;&lt;JS</span></span><br><span class="line"><span class="string">        console.log(&#x27;所有JS</span>脚本都加载完了<span class="string">&#x27;);</span></span><br><span class="line"><span class="string">        // 初始化操作</span></span><br><span class="line"><span class="string">        $(&#x27;</span>xxx<span class="string">&#x27;).card();</span></span><br><span class="line"><span class="string">JS;        </span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    public function render()</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        // 在这里可以引入你的js或css文件</span></span><br><span class="line"><span class="string">        Admin::js(static::$js);</span></span><br><span class="line"><span class="string">        Admin::css(static::$css);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        // 需要在页面执行的JS代码，例如初始化代码</span></span><br><span class="line"><span class="string">        // 通过 Admin::script 设置的JS代码会自动在所有JS脚本都加载完毕后执行</span></span><br><span class="line"><span class="string">        Admin::script($this-&gt;script());</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        return view(&#x27;</span>...<span class="string">&#x27;)-&gt;render();</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>之后即可通过刚刚写完的 <code>Card</code> 组件引入到 Controller 中，以此来使用 Card 组件，需要注意的是，Card 组件需要用到的静态文件只会在当前请求中加载，以此符合“按需引入”的概念。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需要注意的是 ```Card``` class 并没有强制要求的存放目录，理论上来说只要能加载，放在什么地方都可以。</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Content</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Card</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeController</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params">Content <span class="variable">$content</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// 使用上面的Card组件</span></span><br><span class="line">        <span class="comment">// Card组件需要用到的静态文件只会在当前请求加载</span></span><br><span class="line">        <span class="comment">// 其他请求不会加载 </span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$content</span>-&gt;<span class="title function_ invoke__">body</span>(<span class="keyword">new</span> <span class="title class_">Card</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="blade-import-JS"><a href="#blade-import-JS" class="headerlink" title="blade import JS"></a>blade import JS</h3><p>至于 Js Code 的引入则较为方便，直接在 Laravel模板文件中添加即可，但需要注意的是需要把 Js code 放入 <code>Dcat.ready</code> 中执行。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Admin</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Admin</span>\<span class="title">Metrics</span>\<span class="title">Examples</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Dashboard</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Column</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Content</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Row</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Admin</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params">Content <span class="variable">$content</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$content</span></span><br><span class="line">            -%<span class="number">3</span>Eheader(<span class="string">&#x27;Dashboard&#x27;</span>)</span><br><span class="line">            -&gt;<span class="title function_ invoke__">description</span>(<span class="string">&#x27;Description...&#x27;</span>)</span><br><span class="line">            -&gt;<span class="title function_ invoke__">body</span>(function (Row <span class="variable">$row</span>) &#123;</span><br><span class="line">                <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, function (Column <span class="variable">$column</span>) &#123;</span><br><span class="line">                    <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="title class_">Dashboard</span>::<span class="title function_ invoke__">title</span>());</span><br><span class="line">                    <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="keyword">new</span> <span class="title class_">Examples\Tickets</span>());</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">                <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, function (Column <span class="variable">$column</span>) &#123;</span><br><span class="line">                    <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(function (Row <span class="variable">$row</span>) &#123;</span><br><span class="line">                        <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, <span class="keyword">new</span> <span class="title class_">Examples\NewUsers</span>());</span><br><span class="line">                        <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, <span class="keyword">new</span> <span class="title class_">Examples\NewDevices</span>());</span><br><span class="line">                    &#125;);</span><br><span class="line"></span><br><span class="line">                    <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="keyword">new</span> <span class="title class_">Examples\Sessions</span>());</span><br><span class="line">                    <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="keyword">new</span> <span class="title class_">Examples\ProductOrders</span>());</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">                <span class="title class_">Admin</span>::<span class="title function_ invoke__">script</span>(</span><br><span class="line">                    <span class="string">&lt;&lt;&lt;JS</span></span><br><span class="line"><span class="string">(function () &#123;</span></span><br><span class="line"><span class="string">    var name = &#x27;test&#x27;;</span></span><br><span class="line"><span class="string">    console.log(&#x27;all end&#x27;, name)</span></span><br><span class="line"><span class="string">&#125;)()</span></span><br><span class="line"><span class="string">JS</span></span><br><span class="line">                );</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;&gt;)</span><br></pre></td></tr></table></figure>

<p>为了方便理解我们可以将上述代码分为两个部分，我们都知道，DactAdmin 主要使用了 Bootstrap + Jquery 主要满足了 Dact Admin 外观以及无刷加载、动画等方面的功能，因此，你可以将下面 Code 分为 Bootstrap 附加功能：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Admin</span>\<span class="title class_">Controllers</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Admin</span>\<span class="title">Metrics</span>\<span class="title">Examples</span>;  </span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Controller</span>;  </span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Dashboard</span>;  </span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Column</span>;  </span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Content</span>;  </span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Layout</span>\<span class="title">Row</span>;  </span><br><span class="line"><span class="keyword">use</span> <span class="title">Dcat</span>\<span class="title">Admin</span>\<span class="title">Admin</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeController</span> <span class="keyword">extends</span> <span class="title">Controller</span>  </span></span><br><span class="line"><span class="class"></span>&#123;  </span><br><span class="line"> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params">Content <span class="variable">$content</span></span>)  </span></span><br><span class="line"><span class="function"> </span>&#123; <span class="keyword">return</span> <span class="variable">$content</span>  </span><br><span class="line"> -&gt;<span class="title function_ invoke__">header</span>(<span class="string">&#x27;Dashboard&#x27;</span>)  </span><br><span class="line"> -&gt;<span class="title function_ invoke__">description</span>(<span class="string">&#x27;Description...&#x27;</span>)  </span><br><span class="line"> -&gt;<span class="title function_ invoke__">body</span>(function (Row <span class="variable">$row</span>) &#123;  </span><br><span class="line"> <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, function (Column <span class="variable">$column</span>) &#123;  </span><br><span class="line"> <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="title class_">Dashboard</span>::<span class="title function_ invoke__">title</span>());  </span><br><span class="line"> <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="keyword">new</span> <span class="title class_">Examples\Tickets</span>());  </span><br><span class="line"> &#125;);  </span><br><span class="line">  </span><br><span class="line"> <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, function (Column <span class="variable">$column</span>) &#123;  </span><br><span class="line"> <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(function (Row <span class="variable">$row</span>) &#123;  </span><br><span class="line"> <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, <span class="keyword">new</span> <span class="title class_">Examples\NewUsers</span>());  </span><br><span class="line"> <span class="variable">$row</span>-&gt;<span class="title function_ invoke__">column</span>(<span class="number">6</span>, <span class="keyword">new</span> <span class="title class_">Examples\NewDevices</span>());  </span><br><span class="line"> &#125;);  </span><br><span class="line">  </span><br><span class="line"> <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="keyword">new</span> <span class="title class_">Examples\Sessions</span>());  </span><br><span class="line"> <span class="variable">$column</span>-&gt;<span class="title function_ invoke__">row</span>(<span class="keyword">new</span> <span class="title class_">Examples\ProductOrders</span>());  </span><br><span class="line"> &#125;);  </span><br><span class="line"> &#125;);  </span><br><span class="line"> &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这主要是 Dact Admin 下的布局，也就是使用的 bootstap 的栅格系统，在此需要认清楚，<code>row</code> 是行的意思，而 <code>column</code> 是列的意思，至于详细的你可以访问 <a target="_blank" rel="noopener" href="https://learnku.com/docs/dcat-admin/2.x/required-reading-before-development/8083#4bd4cc">开发前必读 | 入门 |《Dcat Admin 中文文档 2.x》| Laravel China 社区 (learnku.com)</a> 查阅 Dcat Admin 的官方文档。</p>
<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20220215104543.png"></p>
<p>而之后以 <code>Admin::script</code> 起头的 DcatAdmin 方法主要是引入 JS Code，而在此之后 DcatAdmin 还提供了类似于模板的语法操作 <code>Dcat.ready</code> 方法，但在此之前我们主要先了解下 Js Code 在 Controller 的使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="title class_">Admin</span>::<span class="title function_">script</span>(  </span><br><span class="line"> &lt;&lt;<span class="language-xml"><span class="tag">&lt;<span class="name">JS</span>  </span></span></span><br><span class="line"><span class="tag"><span class="language-xml">(<span class="attr">function</span> () &#123;  </span></span></span><br><span class="line"><span class="tag"><span class="language-xml"> <span class="attr">var</span> <span class="attr">name</span> = <span class="string">&#x27;test&#x27;</span>; <span class="attr">console.log</span>(&#x27;<span class="attr">javaScript</span> <span class="attr">code</span> &gt;</span>&#x27;, name)&#125;)()  </span></span><br><span class="line"><span class="language-xml">JS  </span></span><br><span class="line"><span class="language-xml"> );</span></span><br></pre></td></tr></table></figure>

<p>之后你就可以访问 <a target="_blank" rel="noopener" href="http://127.0.0.1:8000/admin">Admin | Dashboard</a> 页面来查看该 JavaSCript Code 的执行效果，而在此之后我们主要会在页面组件中去使用下一个方法。</p>

	

	
		<span class="different-posts"><a href="/2022/04/21/php/laravel/dcatadmin/1.Dcat%20Admin%20%E5%9F%BA%E7%A1%80/" onclick="window.history.go(-1); return false;">⬅️ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>欢迎来到我的 blog <br><br> 通过 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> 进行构建的，存放在 <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> 上。</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
