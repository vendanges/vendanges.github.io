<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>琼瑶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="琼瑶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">琼瑶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">梦入琼楼寒有月，行过石树冻无烟</h2>
	</header>

	<main>
		



	<article>
	
		<h1><a href="/2022/04/21/math/微积分/2.函数/">函数</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/" rel="tag">微积分</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">数学</a>
			</span>
		
	</div>

	

	
		<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210404010821.png"><br>函数（<code>function</code>）是<strong>将一个对象转化成另外一个对象的规则</strong>，假设出<code>f(x)=x^2</code>，那么就会定义出一个函数<code>f</code>，他会将任何数变为自己的平方，假设你将<code>f(2)=4</code>的时候，那么<code>f</code>作为函数是被<code>引用</code>，<code>f(2)</code>所对应的数值是<code>4</code>，这样的道理在计算机中也依然运用。</p>
<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210404010837.png"><br>之后我们将<code>f(x)=x^2</code>修改为<code>g(x)=x^2</code>，我们可以把<code>x</code>看作变量，我们可以随便的<code>赋值</code>，在定义域中，<strong>仅仅可以包含一个大于或等于零的数值</strong>，我们通常将这类数称之为：“<code>非负数</code>”。</p>
<h2 id="定义域"><a href="#定义域" class="headerlink" title="定义域"></a>定义域</h2><p>例如我们新建一个函数<code>g(-1/2)</code>他的定义域是<code>非负数</code>，而<code>f(-1/2)=1/4</code>，但是 <code>g(-1/2)</code>没有被定义，值得注意的是，函数<code>g</code>会<strong>拒绝他非定义域中的一切</strong>数值，但是由于<code>g</code>和<code>f</code>有类似的数据，换而言之可以说<code>g</code>的数据是基于<code>f</code>得来的，且还拒绝<strong>非负数外的数据</strong>，所以自然而然要比<code>函数 f</code>小一点，且函数<code>g</code>是由限制<code>f</code>的定义域所产生的。</p>
<p>对于定义域，目前我们将<code>h(x)=x</code>，那么假设<code>h</code>的定义域是所有动物的集合，那么这样我们就可得到<code>h(马)=4</code>，其中马的数值是<code>4</code>，因为所有动物的腿都是<code>非负数</code>，所以<code>函数 h</code>上的都是所有<code>非负整数的集合</code>。</p>
<p><strong>一个函数必须给每一个有效的输入指定唯一的输出</strong>，为了印证这个道理，首先我们假设你有一只狗狗，他的名字叫 <code>one</code>，他每次吃饭的时候都会吐出来，one 将食物变成了很恶心的东西，我们此时尅通过使用 <code>j(x)=one</code>，<code>x</code>是 one 每次吐出的颜色，其中<code>x</code>的定义域是<code>one</code>每次吃的食物集合，而<code>上域</code>是一切有可能输出的颜色集合。</p>
<p>为了使得遵守<strong>一个函数必须给每一个有效的输入指定唯一输出</strong>，我们假设 <code>one</code>吃了面包，吐的时候是<code>黑色</code>的，如果有时候吐的是<code>黑色</code>，有时候吐的是<code>白色</code>就不符合这个定理。</p>
<h2 id="值域"><a href="#值域" class="headerlink" title="值域"></a>值域</h2><p>对于值域，我们只需要注意到当我们<code>输入</code>的时候，他是<strong>定义域</strong>，而当他输出的时候，他是一个<code>值域</code>，值域虽然是上域的子集，但值域与上域的区别就是，上域是<strong>可能</strong>输出的集合，而<strong>值域</strong>确实<code>实际</code>上输出的集合。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/math/微积分/2.1.1 函数的区间表述法/">函数的区间表述法</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/" rel="tag">微积分</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">数学</a>
			</span>
		
	</div>

	

	
		<p>区间（<code>interval</code>），假设函数上域<code>R</code>包含了所有<strong>有可能输出的集合</strong>，那么定义与也有肯能会和上域<code>R</code>差不多。就像是<code>&#123;x:2 ≤ x &lt; 5&#125;</code>这样的<strong>连通区间</strong>，而他的本质意思是<strong>介于2和5之间的所有数，包括2,但不包括5（”≤” 可以包括 “x &#x3D; 2”，也可以包括小于”2”以下的数，但”&lt;”只能包括小于”5”的数，不能包含”5”）</strong>，因此为了让数学的表示更加简洁，出现了区间表示法。</p>
<h2 id="闭区间"><a href="#闭区间" class="headerlink" title="闭区间"></a>闭区间</h2><p>区间表述法主要分为<code>(a,b)</code>代表了<strong>开区间</strong>以及<code>[a,b]</code>表示<strong>闭区间</strong>，其中<strong>闭区间</strong>是指<code>a ～ b</code>端点间的所有<strong>实数，并包括 a,b</strong>。如 <code>[2,5]</code>代表了所有<strong>介于 “2” 和 “5”   之间的实数集合，同时也包括了 2 and 5</strong>，按照开头的表述方法就是 <code>x:2 ≤ x ≤ 5</code></p>
<h2 id="开区间"><a href="#开区间" class="headerlink" title="开区间"></a>开区间</h2><p>开区间，主要表示<code>不想包括的</code>，通常也必须以<code>[]</code>表示，假设<code>(2,5)</code>及表示<strong>介于“2” 和 “5” 之间的所有实数集合，但不包含“2”和“5”</strong>，按照开头的表示方法就是<code>x:2 &lt; x &lt; 5</code>。</p>
<h2 id="半开区间"><a href="#半开区间" class="headerlink" title="半开区间"></a>半开区间</h2><p>半开区间主要就是<code>闭区间</code>和<code>开区间</code>的一种集合，将他们分别混合组成为<code>(2,5]</code>那么将会表述<strong>介于2和5之间的所有实数，但不包括”2”，只包括小于“2”的数，包括“5”和以下的实数。</strong>，按照开头的表述方法就是<code>x:2 &lt; x ≤ 5</code></p>
<p>那将半开区间换过来就是<code>[5,2)</code>表述出<strong>介于2和5之间的所有实数，但不包括”5”，包括“2”</strong>，也就是咱一开始的表述方法<code>[x:2 ≤ x &lt; 5]</code></p>
<h2 id="∞"><a href="#∞" class="headerlink" title="∞"></a>∞</h2><p><code>∞</code>主要表述无穷大（<code>infinite</code>）假设<code>(2,∞)</code>那么将会表示出<strong>大于 2 但不包括”2”的所有实数</strong>，当然<code>∞</code>也可以用<code>-∞</code>来表示出<strong>无穷小</strong>，也可以配合半开区间使用，例如：<code>[a,∞)</code>则表示出<strong>大于”2”且包括”2”的所有实数</strong></p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/math/微积分/1.什么是微积分/">什么是微积分</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/" rel="tag">微积分</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">数学</a>
			</span>
		
	</div>

	

	
		<p>微积分（<code>Calculus</code>）主要分为<code>微分（Differentiation</code>）以及<code>积分(Integration)</code>，重点研究包括了极限、函数、切线、积分、微分及其应用。通常<strong>积分</strong>用于计算曲线面积，<strong>微分</strong>用于计算瞬时速度（<code>物理瞬时速度</code>，即近似值）。</p>
<h2 id="常用符号"><a href="#常用符号" class="headerlink" title="常用符号"></a>常用符号</h2><p>通常的情况下，<code>微分</code>会通过使用<code>dx/dy</code>等进行代替，其中<code>d</code>源于拉丁语中的<code>差（Differentia）</code>的地一个字母。</p>
<p>而积分符号，会通过使用 <code> ∫</code>来进行代替，他也是拉丁语中<code>总和（Summa）</code>的第一个字母所拉长的效果。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/pinia/1.pinia 概述/">pinia 基础</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/pinia/" rel="tag">pinia</a> <a class="article__tag-none-link" href="/tags/vue/" rel="tag">vue</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<h1 id="pinia-overview"><a href="#pinia-overview" class="headerlink" title="pinia overview"></a>pinia overview</h1><p>Pinia 是一个适用于 Vue2~3 <strong>的跨组件共享状态维持</strong>项目，与 vuex、bus 等原理类似，但都比前者简单高效许多，在 2019 年 11 年重新被设计使用，其维护团队为 Vuejs。</p>
<p>特点在于更加容易调试，可以使得 <code>store</code> 出现在其他组件中并使用，以及在不重新加载页面的情况下修改 <code>store</code> 共享数据，并保持现有状态，同时占用空间小的特点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">反观 Vuex 和专注于兄弟组件之间通信的 Bus 相比，Pinia 根据简单和[官方](https://github.com/vuejs/pinia)团队维护等特点深受开发人员喜爱。</span><br></pre></td></tr></table></figure>

<h2 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h2><p>首先，Pinia 拥有和 Vuex 类似的特性及功能（毕竟是同类型项目），而 Store 的定义主要是可以让该数据被所有组件共享。</p>
<p>在本文中，我们主要通过 vue-cli 来构建 vue3 project，并使用 <code>vue add vue-cli-plugin-pinia</code> 来添加 pinia 支持。</p>
<p>之后可以在 <code>src/store/</code> 下看到其自动帮我们所创建的 pinia store，之后我们可以重命名或者直接在此基础上进行开发，来进行共享数据。</p>
<p>同时他也会在 <code>mian.js</code> 文件下为我们引入 pinia 并使用，返回给 Vue。</p>
<p>在使用的时候，你需要记得，在 <a target="_blank" rel="noopener" href="https://pinia.vuejs.org/core-concepts/">store</a> 目录下的共享数据内的方里，默认的会为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCounterStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;counter&#x27;</span>, &#123;  </span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;  </span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span>  </span><br><span class="line"> &#125;),  </span><br><span class="line">  <span class="attr">getters</span>: &#123;  </span><br><span class="line">    <span class="attr">double</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">count</span> * <span class="number">2</span>,  </span><br><span class="line">  &#125;,  </span><br><span class="line">  <span class="attr">actions</span>: &#123;  </span><br><span class="line">    <span class="title function_">increment</span>(<span class="params"></span>) &#123;  </span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++  </span><br><span class="line">    &#125;,  </span><br><span class="line">  &#125;,  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>我们需要记得导出的方法，也就是 <code>useCounterStore</code> 之后在组件中直接 <code>import &#123; useCounterStore &#125;  from &quot;@/stores/index&quot;</code> 这么引用，然后在 <code>setup()</code> 语法糖下赋值给 <code>store</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="keyword">const</span> store = <span class="title function_">useCounterStore</span>()  </span><br><span class="line">    <span class="keyword">return</span> &#123;  </span><br><span class="line">      store,  </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;,  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>这之后在 <code>template</code> 下，就可以通过插值 <code>&#123;&#123; store.count &#125;&#125;</code> 来直接进行使用了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这在官方文档关于定义 Store 中有详细的描述：“并且它需要一个唯一的名称，作为第一个参数传递”</span><br></pre></td></tr></table></figure>


<h2 id="State"><a href="#State" class="headerlink" title="State"></a>State</h2><p><a target="_blank" rel="noopener" href="https://pinia.vuejs.org/core-concepts/state.html">State</a> 是 <code>Stores</code> 所定义的中心部分，也就是共享数据\状态的起点，在 PInia 中会被定义为返回初始的状态函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTabStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;tab&#x27;</span>, &#123;  </span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;  </span><br><span class="line">	<span class="comment">/*  </span></span><br><span class="line"><span class="comment">		return &#123;Array&#125; </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	<span class="attr">rowItems</span>: []  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Getters-amp-Actions"><a href="#Getters-amp-Actions" class="headerlink" title="Getters &amp; Actions"></a>Getters &amp; Actions</h2><h3 id="Actions"><a href="#Actions" class="headerlink" title="Actions"></a>Actions</h3><p>在此之前，我们需要知道，<code>getters</code> 是被动获取，也就是说需要有组件取调用这个方法。而 <a target="_blank" rel="noopener" href="https://pinia.vuejs.org/core-concepts/actions.html">Actions</a> 则是可以实现在文章开头，Pinia 所说的特性之一：”Stores appear in components where they are used”，即可以在组件中实现将组件的数据，传入到 State 中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">需要注意的是，在一般情况下，Vuex、和 Bus 很难去解决组件和组件之间的传值，需要通过 emit，props 等方法，先将兄弟组件的数据传给父组件，父组件再将数据传给兄弟组件，以此来实现传值。</span><br></pre></td></tr></table></figure>

<p>在组件传值之前，我们首先需要在 <code>store</code> 下定义参数，准备接受组件所传来的数据，并之后传给 <code>state()</code> 下的共享状态变量 <code>rowItems</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTabStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;tab&#x27;</span>, &#123;  </span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> (&#123;  </span><br><span class="line">    <span class="comment">/*  </span></span><br><span class="line"><span class="comment"> return &#123;Array&#125; */</span> <span class="attr">rowItems</span>: []  </span><br><span class="line">  &#125;),  </span><br><span class="line">  <span class="attr">actions</span>: &#123;  </span><br><span class="line">      <span class="title function_">addItem</span>(<span class="params">name</span>) &#123;  </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">rowItems</span>.<span class="title function_">push</span>(name)  </span><br><span class="line">    &#125;,  </span><br><span class="line">  &#125;,  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在真实的开发环境中，一般先定义 ```state``` 下的共享变量，再去定义 ```actions```，之后才是 ```getters```</span><br></pre></td></tr></table></figure>

<p>上述 Code 中，我们主要通过 <code>this.rowItems.push</code> 方法，来将获取到的 <code>name</code> 参数传递给 <code>state</code>，之后 <code>getters</code> 来获取 <code>state</code> 下的共享数据&#x2F;状态变量。</p>
<p>下面，我们需要通过在传递数据的组件内，引入 <code>import &#123; useTabStore &#125; from &quot;@/stores&quot;;</code>，之后按照 <code>setup()</code> 语法糖：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;  </span><br><span class="line">  setup (props, &#123;emit&#125;) &#123;  </span><br><span class="line">    <span class="keyword">const</span> tab = <span class="title function_">useTabStore</span>()  </span><br><span class="line">    <span class="keyword">return</span> &#123;  </span><br><span class="line">	  tab</span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>由于我们是按照 <code>setup()</code> 语法糖的 Vue3 的写法，那么基本上数据是在 <code>setup()</code> 下的 <code>return</code> 来进行编写，我们需要做的就是通过 <code>tab.addItem(value)</code> 将数据传递给 <code>stores</code>，之后就完成了组件的传递。</p>
<h3 id="Getters"><a href="#Getters" class="headerlink" title="Getters"></a>Getters</h3><figure class="highlight plaintext"><figcaption><span>可以理解为获得数据，他与 ```state``` 所定义的数据/状态是完全等价的，且处于被动，也就是说可以通过组件访问 ```getters``` 所关联的 ```state``` ：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">import &#123; defineStore &#125; from &#x27;pinia&#x27;  </span><br><span class="line">  </span><br><span class="line">export const useTabStore = defineStore(&#x27;tab&#x27;, &#123;  </span><br><span class="line">  state: () =&gt; (&#123;  </span><br><span class="line">    /*  </span><br><span class="line"> return &#123;Array&#125; */ rowItems: []  </span><br><span class="line">  &#125;),  </span><br><span class="line">  getters: &#123;  </span><br><span class="line">    items: (state) =&gt;  </span><br><span class="line">        state.rowItems.reduce((items, item) =&gt; &#123;  </span><br><span class="line">            console.log(&#123;name: item&#125;,&#x27;&#123;name: item&#125;&#x27;)  </span><br><span class="line">            items.push(&#123;name: item&#125;)  </span><br><span class="line">          return items  </span><br><span class="line">        &#125;, []),  </span><br><span class="line">  &#125;,  </span><br><span class="line">  actions: &#123;  </span><br><span class="line">      addItem(name) &#123;  </span><br><span class="line">        this.rowItems.push(name)  </span><br><span class="line">        console.log(name,&#x27;-&gt;&gt;&gt;&gt;&gt;&gt;YES&#x27;)  </span><br><span class="line">    &#125;,  </span><br><span class="line">  &#125;,  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在上述的 Code 中，我们首先在 <code>state</code> 先定义共享状态 <code>rowItems</code> 变量，当获取数据的时候，我们需要他可以循环遍历，那么就通过 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/web/javascript/reference/global_objects/array/reduce">reduce</a>之后 方法来按照数组的顺序来进行返回。</p>
<p>然后通过 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push">push</a> 方法将元素添加至数组的末尾，最后返回 <code>items</code> 变量，这是通过 <code>actions</code> 所获取到的数据并输出。</p>
<p>在数据的获取部分，我们需要在组件中同样引入 <code>import &#123; useTabStore &#125;  from &quot;@/stores/index&quot;</code>，然后按照 <code>setup()</code> 语法糖的写法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineComponent</span>(&#123;  </span><br><span class="line">  setup (props, &#123;emit&#125;) &#123;  </span><br><span class="line">    <span class="keyword">const</span> tab = <span class="title function_">useTabStore</span>()  </span><br><span class="line">    <span class="keyword">return</span> &#123;  </span><br><span class="line">	  tab</span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>之后通过 <code>template</code> 的模板语法以及 <code>v-for</code> 和 <code>v-bind</code> 就可以完成共享数据的循环输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-<span class="keyword">for</span>=<span class="string">&quot;item in store.items&quot;</span> :key=<span class="string">&quot;item.name&quot;</span>&gt;  </span><br><span class="line">  &#123;&#123; item.<span class="property">name</span> &#125;&#125;  </span><br><span class="line">&lt;/li&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/axios/2.axios base and package/">vue and axios</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/axios/" rel="tag">axios</a> <a class="article__tag-none-link" href="/tags/vue/" rel="tag">vue</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<h2 id="Get-or-Post"><a href="#Get-or-Post" class="headerlink" title="Get or Post"></a>Get or Post</h2><p>在上一个章节中我们了解到 Axios 是一个基于 Promise 的网络请求库，通常运用在 node.js 中，使得可以完成在原来之前传统开发环境下的 ajax，在此之前，我们还需要通过下述命令完成安装和添加的操作：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure>

<p>在安装完成后，我们需要在自己的 Vue 项目中添加 axios 来作为库并进行使用，可以通过 <code>vue add axiso</code> 在 <code>export default</code> 中定义如下方法：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue add axios</span><br></pre></td></tr></table></figure>

<p>然后在 .vue 文件下 <code>script</code> 元素中的 <code>export default</code> 方法中增加 <code>created()</code> 方法中，以此来调入接口，之后通过：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">	axios.<span class="title function_">get</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(resp)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/55943ee864d74ab6ef1bacc7b969ab3.png"></p>
<p>通过上述的 code 来请求 api，并输出全部响应到的数据后，我们就可以通过在之前请求相应的数据中进行单个解析:</p>
<p><a href="!%5B%5D(https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20220323033500.png)"></a><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/bdadd47535e66dc829bb166e207a851.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> _this = <span class="variable language_">this</span></span><br><span class="line">	axios.<span class="title function_">get</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		_this.<span class="property">tableData</span> = res.<span class="property">data</span>.<span class="property">content</span></span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>除了上述方法外，我们还可以使用下述方法来进行实现其同样的效果，但主要的区别就是在于代码的可视性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">	<span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">	<span class="attr">uri</span>: <span class="string">&#x27;API&#x27;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>假设你如果要发送 POST 请求，那么我们可以将上述的 Code 改为下述示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">	<span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">	<span class="attr">uri</span>: <span class="string">&#x27;uri&#x27;</span>,</span><br><span class="line">	<span class="attr">name</span>: <span class="string">&#x27;administrator&#x27;</span>,</span><br><span class="line">	<span class="attr">pass</span>: <span class="string">&#x27;123456789&#x27;</span></span><br><span class="line">&#125;).<span class="title function_">them</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>需要注意的是，在上述 POST 请求中，<code>user</code> 和 <code>pass</code> 是 API 中需要我们所传入的信息，当然，这些可以根据实际情况自行进行调整。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在 ```created``` 方法中写入 Axios 是为了在加载时第一时间获取到数据，如果是需要触发才会发生的事件，那么建议你在 ```methods``` 方法中定义一个方法事件。</span><br></pre></td></tr></table></figure>

<p>在上述的 code 中，我们首先通过 <code>_this</code> 来解决作用域的问题，并通过 <code>axios</code> 的解析目标 API 所相应的数据(data) 下的 <code>content</code> Key，然之后就需要在数据表格中写入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">tableData</span>: <span class="literal">null</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于我们拿到的是数组数据，我们可以通过在其组件外在套一件 <code>template</code> 并通过 <code>v-for</code> 指令来进行循环输出，在此之后，我们就可以通过翻阅 Axios 的<a target="_blank" rel="noopener" href="https://axios-http.com/zh/">官方文档</a>，来满足我们大部分的需求。</p>
<h2 id="Backage"><a href="#Backage" class="headerlink" title="Backage"></a>Backage</h2><p>在正常的开发环境中，一般情况下我们很少会直接去使用 Axios 来直接去写入到方法中，更多的情况是定义一个<a target="_blank" rel="noopener" href="https://axios-http.com/zh/docs/instance">实例</a> 来满足请求(request)\响应(response)拦截器(interceptors) ，这通常被称之为《封装》</p>
<p>在此之前，我们需要在当前的 Vue 项目中率先构建出一个封装目录，可以在 <code>src/request</code> 目录也可以直接在根目录中新建一个 <code>utils</code> 目录进行封装。</p>
<h3 id="实例-Create"><a href="#实例-Create" class="headerlink" title="实例 (Create)"></a>实例 (Create)</h3><p>之后还需要在此目录中创建两个 <code>.js</code> 文件，分别为 <code>request.js</code> 和 <code>api.js</code> 两个，并在 <code>request.js</code> 中定义一个实列：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">	<span class="attr">baseURL</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">	<span class="attr">timeout</span>: <span class="number">10000</span></span><br><span class="line">	<span class="attr">headers</span>: &#123;<span class="string">&#x27;X-Custom-Header&#x27;</span>: <span class="string">&#x27;foobar&#x27;</span>&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在上一段 Code 中， <code>baseURL</code> 是我们 API 的基础 URI，举个例子，假设我的 API 是 <code>https://axios-http.com/zh/docs/instance</code> ，那么 <code>baseURL</code> 就是 <code>https://axios-http.com</code>。</p>
<p>而之后的两个参数就是 <code>timeout</code> 超时时间的设置以及 <code>headers</code> 请求头的加入。</p>
<h4 id="拦截器-Interceptors"><a href="#拦截器-Interceptors" class="headerlink" title="拦截器 (Interceptors)"></a>拦截器 (Interceptors)</h4><p>拦截器的定义主要分为 request &amp; response 即请求和相应的拦截，因为 Axios 是基于 <a target="_blank" rel="noopener" href="https://javascript.info/promise-basics">promise</a> 上构建的，Code 如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(callback, callback)</span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(callback, callback)</span><br></pre></td></tr></table></figure>

<p>在上述的拦截器中，所返回的 <code>callback</code> 中，第一个代表成功，而第二个表示错误的拦截，是不是很像 Promise，现在，我们在此基础上再次进行编写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">&#125;, er r=&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(res = &gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在上述 Code 中，在请求中，如果有特定需要你可以在 <code>config</code> 中来进行添加你的 Code，这会在请求的同时发送出去，而之后的响应在没有特定需要的情况下，可以直接返回响应即可。</p>
<p>同样的你也可以在这里编写一个处理响应的 Code 在返回，这都根据你的项目需要来进行编写。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance;</span><br></pre></td></tr></table></figure>

<p>最后，我们需要通过 Node 所提供的 Model 概念来将我们的实例导出，然后在 <code>api.js</code> 中进行使用</p>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>之后在 <code>api.js</code> 文件中，需要引入我们刚刚全部导出的封装，来将他整体引入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/request/request.js&#x27;</span></span><br></pre></td></tr></table></figure>

<p>由于我们已经引入了之前的 <code>request.js</code> 实例，之后我们需要在当前文件中写入需要的 API 进行请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">GetUser</span> = (<span class="params"></span>) =&gt; request.<span class="title function_">get</span>(<span class="string">&#x27;uri&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>而之后的使用我们可以在之前的 <code>.vue</code> 文件中，在 <code>created</code> 或 <code>methods</code> 方法，定义一个参数，但在此之前我们还需要引入之前封装的 <code>api.js</code> 文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GetUser</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/request/api.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">	<span class="title class_">UserLogin</span>() &#123;</span><br><span class="line">		<span class="title class_">GetUser</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通常 ，在少部分的情况下的功能需求会让我们在请求时加入一些参数，而封装之后的参数部分定义主要可以体现在 Post 请求的发送过程上：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">PostUser</span> = (<span class="params">params</span>) =&gt; request.<span class="title function_">post</span>(<span class="string">&#x27;uri&#x27;</span>, params);</span><br></pre></td></tr></table></figure>

<p>假设如果是 POST 方法的请求，那么我们可以在 <code>.Vue</code> 文件的 <code>created</code> 或 <code>methods</code> 方法下同样和 Get 一样定义个参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">GetUser</span>, <span class="title class_">PostUser</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/request/api.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">	<span class="title class_">UserLogin</span>() &#123;</span><br><span class="line">		<span class="title class_">GetUser</span>().<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="title class_">PostRegister</span>() &#123;</span><br><span class="line">		<span class="title class_">PostUser</span>(&#123;</span><br><span class="line">			<span class="attr">user</span>: <span class="string">&#x27;administrator&#x27;</span>,</span><br><span class="line">			<span class="attr">pass</span>: <span class="string">&#x27;123456789&#x27;</span></span><br><span class="line">		&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过对 axios 的实例封装使得我们可以通过上述 Code 非常简单的来实现对 API 的操作，通过 <code>params</code> 增加了 Code 的可读性和后期维护的成本。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/axios/1.axios and promise/">vue and axios</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/axios/" rel="tag">axios</a> <a class="article__tag-none-link" href="/tags/vue/" rel="tag">vue</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<h2 id="Callbacks-and-Asynchronous"><a href="#Callbacks-and-Asynchronous" class="headerlink" title="Callbacks and Asynchronous"></a>Callbacks and Asynchronous</h2><p>AXIOS 正如<a target="_blank" rel="noopener" href="https://axios-http.com/zh/docs/intro">文档</a>中所描述的，它是一个基于 <a target="_blank" rel="noopener" href="https://javascript.info/promise-basics">promise</a>用于因此 的网络请求库，即异步(async) 和 同步(await) 同时也在文档中描述了一段故事：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">想象一下，你是一位顶级歌手，粉丝没日没夜的询问你什么时候发送新歌，为了从中解放，你承诺（promise）会在单曲发布的第一时间发给他们。你给了粉丝们一个列表。他们可以在上面填写他们的电子邮件地址，以便当歌曲发布后，让所有订阅了的人能够立即收到。即便遇到不测，例如录音室发生了火灾，以致你无法发布新歌，他们也能及时收到相关通知。</span><br><span class="line"></span><br><span class="line">每个人都很开心：你不会被任何人催促，粉丝们也不用担心错过歌曲发行。</span><br><span class="line"></span><br><span class="line">这是我们在编程中经常遇到的事儿与真实生活的类比：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1. 生产者代码，会做一些事并且需要一定时间，例如通过网络加载数据的 code；</span><br><span class="line">2. 消费者代码，想要在生产者代码完成工作的第一时间就可获得回馈(也就是工作结果)，可以理解为粉丝。</span><br></pre></td></tr></table></figure>

<p>而 promise 就是将上述两者连接在一起的特殊 JavaScript 对象，使得可以立即获得相关信息，这也被称之为 “异步”，因为 Promise 是 AXOPS 的基础，所以本章也会从 Promise 开始来进行学习。</p>
<p>在此之前我们需要了解下 <code>Promise</code> 对象，他主要用于表示一个异步操作最终完成的结果，当然也会包含失败的结果值。</p>
<h3 id="Callbacks"><a href="#Callbacks" class="headerlink" title="Callbacks"></a>Callbacks</h3><p>又被称之为或调参数，即将一个参数传递给另一个参数的过程被称之为<strong>回调</strong>，在 <a target="_blank" rel="noopener" href="https://www.w3schools.com/js/js_callback.asp">JavaScript 回调 (w3schools.com)</a> 这一章节中您可以清除的了解到 callback 的主要用法。</p>
<p>抛出基础问题不谈，Callbacks 主要就针对 <strong>调用</strong> 两个字来进行深入，以及将参数带入函数中进行计算，完成后回调，这里 W3 的例子是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h2&gt;JavaScript Callbacks&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;p&gt;Do a calculation and then display the result.&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;p id=&quot;demo&quot;&gt;&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">function myDisplayer(something) &#123;</span><br><span class="line">  document.getElementById(&quot;demo&quot;).innerHTML = something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function myCalculator(num1, num2, myCallback) &#123;</span><br><span class="line">  let sum = num1 + num2;</span><br><span class="line">  myCallback(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">myCalculator(5, 5, myDisplayer);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>在上述的 code 中，<code>myDisplayer</code> 函数中的 <code>something</code> 参数被之后的 <code>document……</code> 方法引入，之后 <code>myCalculator</code> 将 <code>num1</code> 和 <code>num2</code> 参数通过 <code>myCallback</code> 回调给 sun，之后当 <code>myCalculator</code> 被调用时所添加的参数也会被解析到 <code>sun</code> 这个变量中进行计算，并将 <code>myCalculator</code> 函数绑定返回给 <code>myDisplayer</code></p>
<h3 id="Asynchronous"><a href="#Asynchronous" class="headerlink" title="Asynchronous"></a>Asynchronous</h3><p>异步通常与 Callbacks 一起使用，同样在 <a target="_blank" rel="noopener" href="https://www.w3schools.com/js/js_asynchronous.asp">w3</a> 这一章节中所提供的例子使得我们可以快速了解 Asynchronous 和 Callbacks 一起使用的范例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myDisplayer</span>(<span class="params">some</span>) &#123;  </span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = some;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getFile</span>(<span class="params">myCallback</span>) &#123;  </span><br><span class="line"> <span class="keyword">let</span> req = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();  </span><br><span class="line"> req.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&quot;mycar.html&quot;</span>);  </span><br><span class="line"> req.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line"> <span class="keyword">if</span> (req.<span class="property">status</span> == <span class="number">200</span>) &#123;  </span><br><span class="line"> <span class="title function_">myCallback</span>(<span class="variable language_">this</span>.<span class="property">responseText</span>);  </span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line"> <span class="title function_">myCallback</span>(<span class="string">&quot;Error: &quot;</span> + req.<span class="property">status</span>);  </span><br><span class="line"> &#125;  </span><br><span class="line"> &#125;  </span><br><span class="line"> req.<span class="title function_">send</span>();  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="title function_">getFile</span>(myDisplayer);</span><br></pre></td></tr></table></figure>

<p>在异步的定位中，主要将与其他函数并行运行的函数为异步，结合上述的 Code 我们可以知道，<code>getFile</code> 与 <code>myDisplayer</code> 是同时执行的，这加快了网站加载的速度以及用户的体验。</p>
<p>同样是在 <code>getFile</code> 下的 <code>myCallback</code> 参数，之后该参数返回的则是当前的请求信息和错误，以至于最后如果 GET 请求成功的情况下可以获取到 <code>mycar.html</code> 的上下文信息。</p>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>在了解过回调(callbacks)和异步(Asyncchronous)之后，回归正题，Axios 主要是基于 Promise 来进行构建，那么 Promise 在通过一开始所介绍的 “故事” 内，我们知道，生产者代码需要一些时间，而消费者代码是可以得到反馈的。</p>
<h3 id="Promise-Object"><a href="#Promise-Object" class="headerlink" title="Promise Object"></a>Promise Object</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myPromise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">myResolve, myReject</span>) &#123;  </span><br><span class="line"><span class="comment">// &quot;Producing Code&quot; (May take some time)  </span></span><br><span class="line">  </span><br><span class="line"> <span class="title function_">myResolve</span>(); <span class="comment">// when successful  </span></span><br><span class="line"> <span class="title function_">myReject</span>(); <span class="comment">// when error  </span></span><br><span class="line">&#125;);  </span><br><span class="line">  </span><br><span class="line"><span class="comment">// &quot;Consuming Code&quot; (Must wait for a fulfilled Promise)  </span></span><br><span class="line">myPromise.<span class="title function_">then</span>(  </span><br><span class="line"> <span class="keyword">function</span>(<span class="params">value</span>) &#123; <span class="comment">/* code if successful */</span> &#125;,  </span><br><span class="line"> <span class="keyword">function</span>(<span class="params">error</span>) &#123; <span class="comment">/* code if some error */</span> &#125;  </span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>JavaScript Promise Object 包含了上述中生产者带么和消费者代码的实现，当之后 Promise 执行时，他会调用两个回调方法，如果时结果值那么就 successful，否则 error，这也对应着 Promise Object 所支持的两个属性，状态和结果。</p>
<h3 id="then"><a href="#then" class="headerlink" title=".then()"></a>.then()</h3><p>最终，Promise 会通过 <code>.then()</code> 来返回成功和失败的回调函数，他的概念主要还是 Promise Object 所支持的两个属性，更加详细的可以参考下 MDN 的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/then#%E8%BF%94%E5%9B%9E%E5%80%BC">Promise.prototype.then() - JavaScript | MDN (mozilla.org)</a> 详细了解具体原理。</p>
<p>最后总结一点是，如果 Promise 返回了一个值，那么 <code>then</code> 将会成为接受（accept）状态，没返回任何值，<code>then</code> 同样会返回接收状态，并将接受状态的回调参数设置为 <code>undefined</code>。</p>
<p>假设抛出一个错误，那么 <code>then</code> 也会返回一个拒绝状态，并将错误信息回调到参数值中。但如果是一个接受的 Promise，那么 <code>then</code> 就会将状态设置为 <code>fulfilled</code>，反之则是 <code>rejected</code>。</p>
<p>如果遇到一个未定状态(<code>pending</code>)，那么 <code>then</code> 所返回的 Promise 也会是未定的，在 W3 中，同样给了我们一个非常简单的例子供我们进行理解：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>JavaScript Promise<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">myDisplayer</span>(<span class="params">some</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = some;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> myPromise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">myResolve, myReject</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">let</span> x = <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// some code (try to change x to 5)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">myResolve</span>(<span class="string">&quot;OK&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">myReject</span>(<span class="string">&quot;Error&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">myPromise.<span class="title function_">then</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">function</span>(<span class="params">value</span>) &#123;<span class="title function_">myDisplayer</span>(value);&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">function</span>(<span class="params">error</span>) &#123;<span class="title function_">myDisplayer</span>(error);&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在上述的 Code 中，同样的有两个最后的状态进行输出，一个是成功的而另一个则是错误的状态信息进行输出，通过 <code>.then()</code> 使得我们可以处理异步中的错误，以及成功返回的信息。</p>
<h2 id="Async-x2F-Await"><a href="#Async-x2F-Await" class="headerlink" title="Async&#x2F;Await"></a>Async&#x2F;Await</h2><h3 id="Async"><a href="#Async" class="headerlink" title="Async"></a>Async</h3><p>在 async 和 await 还未出现之前，异步编程通常会苦恼当前的开发人员，但在 ECMAScript 2017 中，async&#x2F;await 通过 promises 使得将异步的编写更加容易和方便，同时增加的阅读性。</p>
<p>我们可以将 async 和 await 拆分下来（虽然 <code>await</code> 离开了 async 些许并没有什么作用），async 可以理解为 promise 中的生产者代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello,world!&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">hello</span>();</span><br></pre></td></tr></table></figure>

<p>上述代码中的 <code>async</code> 同等与传统方法中的 <code>function</code>，之后，我们还需要配合 <code>await</code> 来进行使用。</p>
<h3 id="Await"><a href="#Await" class="headerlink" title="Await"></a>Await</h3><p>而之后的 await，他实际上就是 <code>.then</code>，只可以和 <code>async</code> 搭配进行使用，基于 promise 的函数之前。它会暂停代码在该行上，直到 promise 完成，然后返回结果值。在暂停的同时，其他正在等待执行的代码就有机会执行了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> greeting = <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">hello</span>().<span class="title function_">then</span>(alert);</span><br></pre></td></tr></table></figure>

<p>顾名思义，也就是在 <code>await</code> 的同时，他会来进行回调的调用，来代替之前我们之前直接一个函数来进行回调，同时他也完成了 <code>then</code> 的部分工作，使得 <code>then</code> 会减少使用。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/3.0/9.Vue.js form at v-model/">Vue.js form at v-model</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<p>vue 的表单处理主要通过<code>v-model</code>指令，且仅仅限制于在<code>&lt;input&gt;、&lt;select&gt;、&lt;textarea&gt;</code>等HTML表单元素创建双向数据绑定。<strong>v-model</strong>可以根据HTML控件的类型来自动<strong>选取正确</strong>的方法来进行更新。</p>
<blockquote>
<p>当使用输入法如中日韩等语言时，需要使用 <code>value</code> 绑定，而不是 <code>v-model</code></p>
</blockquote>
<p>需要值得注意的是<code>v-model</code>指令会忽略所有的表单<code>value、checked、selected</code>等属性的初始值，所以需在<code>js</code>内的<code>data</code>选项中声明初始值。</p>
<figure class="highlight plaintext"><figcaption><span>指令在内部为不同的输入元素使用了不同的属性并抛出不同的事件：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">|       Name       |                Info                |</span><br><span class="line">| ---------------- | ---------------------------------- |</span><br><span class="line">| text &amp; textarea  | 使用value 属性和input 事件         |</span><br><span class="line">| checkbox &amp; radio | 使用 checked 属性 和 change 事件   |</span><br><span class="line">| select           | 将以value 作为属性并和 change 事件 |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## Demo</span><br><span class="line">### input</span><br><span class="line">![](https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/2277112239194.png)</span><br><span class="line">当使用 ```v-model``` 绑定 message 属性的时候，通过 Mustache 表达式获取 message 属性值来达到双向绑定的效果。</span><br><span class="line"></span><br><span class="line">&gt; 在 ```&lt;input&gt;``` 元素中所设置的 value 默认值将不会被绑定，这是因为 ```v-model``` 指令会忽略所有表单元素的 value、checked、selected 属性的初始值，更或者说该指令只会获取 ```v-model``` 所绑定的 message 属性值。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">&lt;ui id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;message&quot; placeholder=&quot;echo&quot; /&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                message: null</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            echo(message, event) &#123;</span><br><span class="line">                alert(message)</span><br><span class="line">                if (event) &#123;</span><br><span class="line">                    alert(&#x27;v-on:&#x27; + event.target.tagName)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a>checkbox</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/1549826585809.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>This is message: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">echo</span>(<span class="params">message, event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(message)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h5 id="复选框-value-绑定"><a href="#复选框-value-绑定" class="headerlink" title="复选框 value 绑定"></a>复选框 value 绑定</h5><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/3874725859964.png"></p>
<p>直接通过 <code>checkbox</code> 的 value 来写入 message 数组当中，当显示的时候也是以数组的形式进行处理。 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Vue&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jquery&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Jquery<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Ajax&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Ajax<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;D3.js&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>D3.js<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Lodash&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Lodash<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Web<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;Node.js&quot;&gt;&lt;label&gt;Node.js&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;Java&quot;&gt;&lt;label&gt;Java&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;PHP&quot;&gt;&lt;label&gt;PHP&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;GO&quot;&gt;&lt;label&gt;GO&lt;/label&gt;</span><br><span class="line">    &lt;h2&gt;SQL&lt;/h2&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;MySQL&quot;&gt;&lt;label&gt;MySQL&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;Redis&quot;&gt;&lt;label&gt;Redis&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;SQL&quot;&gt;&lt;label&gt;SQL&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;HBase&quot;&gt;&lt;label&gt;HBase&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;message&quot; value=&quot;ORACLE&quot;&gt;&lt;label&gt;ORACLE&lt;/label&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;p&gt;This is message: &#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                message: []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            echo(message, event) &#123;</span><br><span class="line">                alert(message)</span><br><span class="line">                if (event) &#123;</span><br><span class="line">                    alert(&#x27;v-on:&#x27; + event.target.tagName)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="radio"><a href="#radio" class="headerlink" title="radio"></a>radio</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/4832563546606.png"><br>对于 <code>radio</code> 类型的 <code>&lt;input&gt;</code> 元素依然可以使用 value 对 message 进行双向的数据绑定</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>JavaScript<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Vue&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jquery&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Jquery<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Ajax&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Ajax<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;D3.js&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>D3.js<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Lodash&quot;</span> /&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">label</span>&gt;</span>Lodash<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Web<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;Node.js&quot;&gt;&lt;label&gt;Node.js&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;Java&quot;&gt;&lt;label&gt;Java&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;PHP&quot;&gt;&lt;label&gt;PHP&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;GO&quot;&gt;&lt;label&gt;GO&lt;/label&gt;</span><br><span class="line">    &lt;h2&gt;SQL&lt;/h2&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;MySQL&quot;&gt;&lt;label&gt;MySQL&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;Redis&quot;&gt;&lt;label&gt;Redis&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;SQL&quot;&gt;&lt;label&gt;SQL&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;HBase&quot;&gt;&lt;label&gt;HBase&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;message&quot; value=&quot;ORACLE&quot;&gt;&lt;label&gt;ORACLE&lt;/label&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;p&gt;This is message: &#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                message: []</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            echo(message, event) &#123;</span><br><span class="line">                alert(message)</span><br><span class="line">                if (event) &#123;</span><br><span class="line">                    alert(&#x27;v-on:&#x27; + event.target.tagName)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="textarea"><a href="#textarea" class="headerlink" title="textarea"></a>textarea</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/5637024239194.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;echo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is message: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;white-space: pre-line&quot;</span>&gt;</span>This is message: &#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="literal">null</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">echo</span>(<span class="params">message, event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(message)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>元素通常用于处理较多的文字输入，因此对他双向绑定可以使用 [white-space](https://developer.mozilla.org/zh-CN/docs/Web/CSS/white-space) 来处理用户的换行输入。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### select</span><br><span class="line">![](https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/1237909103084.png)</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">&lt;ui id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;select v-model=&quot;message&quot;&gt;</span><br><span class="line">        &lt;option disabled value=&quot;&quot;&gt;Select&lt;/option&gt;</span><br><span class="line">        &lt;option value=&quot;vue&quot;&gt;Vue&lt;/option&gt;</span><br><span class="line">        &lt;option value=&quot;Jqery&quot;&gt;Jquery&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;p&gt;This is message: &#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                message: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            echo(message, event) &#123;</span><br><span class="line">                alert(message)</span><br><span class="line">                if (event) &#123;</span><br><span class="line">                    alert(&#x27;v-on:&#x27; + event.target.tagName)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在上述的code当中，我们主要通过使用 value 来设置 option 被选择时的属性，此时 value 依然会写入 message，之后 <code>&lt;p&gt;</code> 元素对 message 进行数据绑定。</p>
<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><p>在 vue中，自然而然的也为表单处理所加入了一些较为常用的修饰符，如<code>.lazy、.number、.trim</code>，他们分别对输入和输出进行提供了修改：</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>.lazy</td>
<td>当输入完成时在同步信息</td>
</tr>
<tr>
<td>.number</td>
<td>将输入的值自动转换为 <code>number</code>类型</td>
</tr>
<tr>
<td>.trim</td>
<td>自动过滤首尾空白</td>
</tr>
</tbody></table>
<h3 id="lazy"><a href="#lazy" class="headerlink" title=".lazy"></a>.lazy</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/204965917428.png"></p>
<p>在未使用 <code>.lazy</code> 的情况下，<code>&lt;input&gt;</code> 所接受到触点事件将会记录我们所写入的信息，自然而然的也会传入到 <code>message</code> 属性中，而 <code>.lazy</code> 的主要作用就是当 <code>&lt;input&gt;</code> 触点事件结束时才开始将数据发送给 message</p>
<h3 id="trim"><a href="#trim" class="headerlink" title=".trim"></a>.trim</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/1765082787614.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">&lt;ui id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;textarea v-model.trim=&quot;message&quot; placeholder=&quot;start&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">    &lt;textarea v-model=&quot;trims&quot; placeholder=&quot;start&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;p&gt;This is message: &#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;This is message: &#123;&#123;trims&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                message: &#x27;&#x27;,</span><br><span class="line">                trims: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            echo(message, event) &#123;</span><br><span class="line">                alert(message)</span><br><span class="line">                if (event) &#123;</span><br><span class="line">                    alert(&#x27;v-on:&#x27; + event.target.tagName)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="number"><a href="#number" class="headerlink" title=".number"></a>.number</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/9.vue.js%20form%20at%20v-model.md/2668214503294.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; 但需要输入头部数据是 number 类型，否则 ```.number``` 修饰符的作用不大</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">&lt;ui id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;textarea v-model.number=&quot;message&quot; placeholder=&quot;echo&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;p&gt;This is message: &#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/ui&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                message: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            echo(message, event) &#123;</span><br><span class="line">                alert(message)</span><br><span class="line">                if (event) &#123;</span><br><span class="line">                    alert(&#x27;v-on:&#x27; + event.target.tagName)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/3.0/8.Vue.js events/">Vue.js events</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<p>v-on 的缩写为 <code>@</code>，其参数为 <code>event</code>即监听对应的事件是否被触发，这主要用法就是绑定事件监听器，事件的类型都由修饰符进行指定。也可监听鼠标、键盘等事件来运行相应的 JavaScript，如 <code>v-on:click=&quot;methodName&quot;</code> 或 <code>@click=&quot;methodName&quot;</code>：</p>
<h2 id="click"><a href="#click" class="headerlink" title="@click"></a>@click</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;counts +=1&quot;</span>&gt;</span>Add 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;counts -=1&quot;</span>&gt;</span>Remove 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is &#123;&#123;counts&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">counts</span>: <span class="number">0</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="click-function"><a href="#click-function" class="headerlink" title="@click function"></a>@click function</h3><p>为应对更加复杂的业务环境，<code>v-on</code> 还提供调用 <code>function</code> 的支持，这会让 <code>@click</code> 的功能的监听更加的多样化。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">counts</span>: <span class="string">&#x27;Hey,v-on&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">add</span>(<span class="params">event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(<span class="string">&#x27;This is &#x27;</span> + <span class="variable language_">this</span>.<span class="property">counts</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="内链处理方法"><a href="#内链处理方法" class="headerlink" title="内链处理方法"></a>内链处理方法</h3><p>鼠标左击处理也是通过内链直接调用的，所谓内链就是与html 标签元素写在一起即大多数都被称之为内链。</p>
<blockquote>
<p>Vue 使用的是 $ 前缀来通过组件实例所暴露自己的内置 API，对于内部还提供了 _ 前缀。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;echo(&#x27;hey,world!&#x27;,$event)&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">echo</span>(<span class="params">message, event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(message)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><table>
<thead>
<tr>
<th>Name</th>
<th>Info</th>
<th>Full</th>
</tr>
</thead>
<tbody><tr>
<td>click.stop</td>
<td>调用 <code>event.stopPropagation()</code></td>
<td>阻止捕获和冒泡阶段中当前事件的进一步传播</td>
</tr>
<tr>
<td>click.prevent</td>
<td>调用 <code>event.preventDefault()</code></td>
<td>阻止默认的点击事件执行</td>
</tr>
<tr>
<td>.capture</td>
<td>添加事件侦听器时使用capture(捕获) 模式</td>
<td></td>
</tr>
<tr>
<td>.self</td>
<td>只当事件从侦听器绑定元素本身触发时才进行回调</td>
<td></td>
</tr>
<tr>
<td>&#96;&#96;&#96;.{keyCode</td>
<td>keyAlias}&#96;&#96;&#96;</td>
<td>只当事件从特定键触发时才进行回调</td>
</tr>
<tr>
<td>.once</td>
<td>只触发一次回调</td>
<td></td>
</tr>
<tr>
<td>.left</td>
<td>只当点击鼠标左键时触发</td>
<td></td>
</tr>
<tr>
<td>.right</td>
<td>只当鼠标点击右键时触发</td>
<td></td>
</tr>
<tr>
<td>.middle</td>
<td>当鼠标中键时触发</td>
<td></td>
</tr>
<tr>
<td>.passive</td>
<td>以 { passive: true } 模式添加侦听器</td>
<td></td>
</tr>
</tbody></table>
<p>事件的修饰符处理通常是调用 <code>event.stoppPropagation()</code> 方法来进行实现的，但只有纯粹的数据逻辑而不是处理 DOM 事件，因此 Vue <code>v-on</code> 指令提供了修饰符。</p>
<p>我们主要以 <code>prevent</code> 为例，监听其 submit 元素是否被触发，并组织默认的单击事件执行：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:click.prevent</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;home&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> <span class="title class_">App</span> = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="string">&#x27;Go Jiangxue Team&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">home</span>: <span class="string">&#x27;https://www.jiangxue.team/&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>或者通过 <code>v-on</code> 的简写 <code>@</code> 来实现没有表达式的阻止默认行为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">form</span> @<span class="attr">click.prevent</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;home&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> <span class="title class_">App</span> = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="string">&#x27;Go Jiangxue Team&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">home</span>: <span class="string">&#x27;https://www.jiangxue.team/&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(<span class="title class_">App</span>).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>可参考下 Vue 官方文档中所提供的实例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 方法处理器 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 动态事件 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:</span>[<span class="attr">event</span>]=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 内联语句 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doThat(&#x27;hello&#x27;, $event)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 缩写 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 动态事件缩写 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @[<span class="attr">event</span>]=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 停止冒泡 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 阻止默认行为 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span>	<span class="regexp">/ &lt;form @click.prevent&gt;&lt;/</span>form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 阻止默认行为，没有表达式 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">form</span> @<span class="attr">click.prevent</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 串联修饰符 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop.prevent</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 键修饰符，键别名 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;onEnter&quot;</span> /&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 点击回调只会触发一次 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.once</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 对象语法 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on</span>=<span class="string">&quot;&#123; mousedown: doThis, mouseup: doThat &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="click-1"><a href="#click-1" class="headerlink" title="@click"></a>@click</h3><p>众所周知，Jquery 很多方法都需要使用鼠标事件，如鼠标单击事件，而vue 在2.2.0版本中，也增加了一个鼠标按钮修饰符，还比 Jq 的更加简单便捷：</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Img</th>
</tr>
</thead>
<tbody><tr>
<td>.left</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/3405362043084.png"></td>
</tr>
<tr>
<td>.right</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/5264310857428.png"></td>
</tr>
<tr>
<td>.middle</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/1720121727614.png"></td>
</tr>
</tbody></table>
<p>例如可以监听鼠标的 <code>right</code>事件来返回一个消息，当然你也可以监听 <code>.middle</code> 滚轮中键点击等：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.right</span>=<span class="string">&quot;echo(&#x27;hey,world!&#x27;,$event)&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">echo</span>(<span class="params">message, event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(message)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="keyup"><a href="#keyup" class="headerlink" title="@keyup"></a>@keyup</h3><p>v-on 指令并不仅仅支持鼠标的事件操作，还支持按键，这在官方文档中也被称之为按键修饰符，通过监听键盘事件，在<code>v-on</code>指令中共支持了 9 个按键修饰符：</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Img</th>
</tr>
</thead>
<tbody><tr>
<td>.enter</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/5264919505809.png"></td>
</tr>
<tr>
<td>.tab</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/1555143831560.png"></td>
</tr>
<tr>
<td>.delete</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/1917284827428.png"></td>
</tr>
<tr>
<td>.esc</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/3325794697614.png"></td>
</tr>
<tr>
<td>.space</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/4224326791754.png"></td>
</tr>
<tr>
<td>.up</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/78223413294.png"></td>
</tr>
<tr>
<td>.down</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/5448425746717.png"></td>
</tr>
<tr>
<td>.left</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/1944343189194.png"></td>
</tr>
<tr>
<td>.right</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/3916569642072.png"></td>
</tr>
</tbody></table>
<p>通过 Vue 的按键修饰符可以监听目前常用的按键事件来执行对应的操作，例如监听 <code>tab</code> 按键从而返回消息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">keyup.tab</span>=<span class="string">&quot;echo(&#x27;hey,world!&#x27;,$event)&quot;</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">echo</span>(<span class="params">message, event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(message)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="系统修饰符"><a href="#系统修饰符" class="headerlink" title="系统修饰符"></a>系统修饰符</h3><p>当然，vue的<code>v-on</code>指令还不仅仅以上这些，自然而然的还支持了系统修饰符，我们可以通过按下响应的按键触发监听器：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>.ctrl</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/5449540535809.png"></td>
</tr>
<tr>
<td>.alt</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/1379764861560.png"></td>
</tr>
<tr>
<td>.shift</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/2630328809964.png"></td>
</tr>
<tr>
<td>.meta</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/vue/vue%203.0/8.vue.js%20events.md/3411059496606.png" alt="win 键 或 ⌘ 键"></td>
</tr>
</tbody></table>
<p>Vue 对几个系统按键提供了多个支持，以及多个按键(<code>@keyup</code>)或鼠标(<code>@click</code>)之间的组合监听，需要注意的是在 Mac 系统键盘上，meta 对应 command 键 (⌘)。在 Windows 系统键盘 meta 对应 Windows 徽标键 (⊞)。在 Sun 操作系统键盘上，meta 对应实心宝石键 (◆)。在其他特定键盘上，尤其在 MIT 和 Lisp 机器的键盘、以及其后继产品，比如 Knight 键盘、space-cadet 键盘，meta 被标记为“META”。在 Symbolics 键盘上，meta 被标记为“META”或者“Meta”。</p>
<p>比如下述的实例中，通过 <code>ctrl</code> 和 <code>@click</code> 按键，当按下 <code>ctrl</code> 并点击该事件才会进行触发 <code>echo</code> 事件，或者通过 <code>ctrl</code> + <code>enter</code> 组合进行触发。</p>
<blockquote>
<p>需要注意的是，修饰符键于常规的不同，当<code>keyup</code>事件一起使用的时候，修饰符键必须处于<strong>按下的状态</strong>，只有当按住<code>tab</code>的情况下释放其他案件，才能被触发，所以如果需要实现那种行为，可以尝试下使用 <a target="_blank" rel="noopener" href="http://blogs.longwin.com.tw/lifetype/key_codes.html">KeyCodes</a></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.ctrl</span>=<span class="string">&quot;echo(&#x27;hey,world!&#x27;,$event)&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> @<span class="attr">keyup.ctrl.enter</span>=<span class="string">&quot;echo(&#x27;hey,world!&#x27;,$event)&quot;</span> /&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">echo</span>(<span class="params">message, event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">alert</span>(message)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (event) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="title function_">alert</span>(<span class="string">&#x27;v-on:&#x27;</span> + event.<span class="property">target</span>.<span class="property">tagName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>为了增强修饰符之间的组合使用，在 Vue 2.5.0 中还提供了 <code>.exact</code> 属性用于精准控制系统修饰符组合并合并触发事件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 即使 <span class="title class_">Alt</span> 或 <span class="title class_">Shift</span> 被一同按下时也会触发 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.ctrl</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 有且只有 <span class="title class_">Ctrl</span> 被按下的时候才触发 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.ctrl.exact</span>=<span class="string">&quot;onCtrlClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 没有任何系统修饰符被按下的时候才触发 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.exact</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/3.0/7.Vue.js v-for at list/">Vue.js v-for at list</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<h2 id="array"><a href="#array" class="headerlink" title="array"></a>array</h2><p>Vue 的循环就是通过 <code>v-for</code> 指令得以实现，通常可以通过循环的方式来渲染一个列表对象。同样 <code>v-for</code> 指令还需使用 <code>item in items</code> 形式的特殊语法进行渲染：</p>
<blockquote>
<p>通常 item 是被迭代数组的别名，而 items 则是数组的元数据</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123;item.message&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">items</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">message</span>: <span class="string">&#x27;This is one&#x27;</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">message</span>: <span class="string">&#x27;This is two&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="父作用域属性"><a href="#父作用域属性" class="headerlink" title="父作用域属性"></a>父作用域属性</h3><p>在 <code>v-for</code> 指令中，我们所有可以访问的父作用域属还支持可选的第二参数，主要用于索引和加入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in items&quot;</span>&gt;</span>&#123;&#123;index&#125;&#125;-&#123;&#123;item.message&#125;&#125;——&#123;&#123;message&#125;&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="string">&#x27;Hey,v-for&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">items</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">message</span>: <span class="string">&#x27;This is one&#x27;</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">message</span>: <span class="string">&#x27;This is two&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><p>除数组以外，<code>v-for</code> 指令同样支持对象的循环渲染以及父作用域属性的使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">items</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">title</span>: <span class="string">&#x27;Start Vue 3.0&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">author</span>: <span class="string">&#x27;lk.sun&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="父作用域"><a href="#父作用域" class="headerlink" title="父作用域"></a>父作用域</h3><p>需要注意的是父作用域中的第二参数的格式和位置需要按照 <code>value、name、index</code> 的形式进行排序，否则在数据渲染的时候将会出现混乱。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, name, index) in items&quot;</span>&gt;</span>index: &#123;&#123;index&#125;&#125; - name: &#123;&#123;name&#125;&#125; - value: &#123;&#123;value&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">items</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">title</span>: <span class="string">&#x27;Start Vue 3.0&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">author</span>: <span class="string">&#x27;lk.sun&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="维护状态"><a href="#维护状态" class="headerlink" title="维护状态"></a>维护状态</h2><p>当 <code>v-for</code> 渲染的元素列表发生改变时，会默认使用 <strong>就地更新</strong> 测罗，如果数据被改变 vue 将不会移动 DOM 元素来匹配数据项的顺序，为了确保他们每个需渲染后索引位置正确，在节点中加入一个唯一的 <code>key</code> 属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">items</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">title</span>: <span class="string">&#x27;Start Vue 3.0&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">author</span>: <span class="string">&#x27;lk.sun&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>在官方文档中建议我们尽可能的时候 <code>v-for</code> 时可以提供 <code>key</code> 属性，除非遍历输出的 DOM 内容非常简单，或是希望可以减少性能上的提升。</p>
<h2 id="数组的更新检测"><a href="#数组的更新检测" class="headerlink" title="数组的更新检测"></a>数组的更新检测</h2><h3 id="变更方法"><a href="#变更方法" class="headerlink" title="变更方法"></a>变更方法</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>push()</td>
<td>增加一个方法</td>
</tr>
<tr>
<td>2</td>
<td>pop()</td>
<td>从下往上突然的删除一个方法</td>
</tr>
<tr>
<td>3</td>
<td>shift()</td>
<td>从上往下删除一个方法</td>
</tr>
<tr>
<td>4</td>
<td>unshift()</td>
<td>从上方新加入一个方法</td>
</tr>
<tr>
<td>5</td>
<td>splice()</td>
<td><code>splice()</code>方法可用于<strong>添加、删除、替换</strong>数组内的值</td>
</tr>
<tr>
<td>6</td>
<td>sort()</td>
<td>用于排序方法</td>
</tr>
<tr>
<td>7</td>
<td>reverse()</td>
<td>主要用于排序倒序</td>
</tr>
<tr>
<td>8</td>
<td>filter()</td>
<td>过滤器或筛选</td>
</tr>
<tr>
<td>9</td>
<td>slice()</td>
<td>切片</td>
</tr>
</tbody></table>
<p>假设我们需要增加一个新的数组，可以通过使用 <code>push()</code> 变更方法在控制台中直接使用 <code>vm.items.push(&#123;message: &#39;A4TECH&#39;&#125;)</code> 进行加入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span>&#123;&#123;item.message&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">items</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#123;<span class="attr">message</span>: <span class="string">&#x27;LG&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="过滤和排序"><a href="#过滤和排序" class="headerlink" title="过滤和排序"></a>过滤和排序</h2><h3 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h3><p>在 Vue 3.0 中，将 <code>filters</code> 属性移除并向变更方法中新增了一个 <code>filter()</code> 方法作为过滤器进行使用，在 Vue 2.x 中，开发者可以使用 <code>filters</code> 来处理通用的文本格式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Bank Account Balance<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; accountBalance | currencyUSD &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">accountBalance</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">type</span>: <span class="title class_">Number</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">required</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">filters</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">currencyUSD</span>(<span class="params">value</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> <span class="string">&#x27;$&#x27;</span> + value</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>在 Vue 3.x 中可以通过使用 <code>fliter()</code> 来处理数组来进行过滤：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in evenNumbers&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">numbers</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">evenNumbers</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">number</span> =&gt;</span> number % <span class="number">2</span> === <span class="number">0</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h3><p>除了 <code>filter()</code> 可以通过表达式进行过滤，还可以通过 <code>sort</code> 来对数组进行排序:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in evenNumbers&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">numbers</span>: [<span class="number">1</span>, <span class="number">20</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">100</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">evenNumbers</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">numbers</span>.<span class="title function_">sort</span>(sortNumbers)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">sortNumbers</span>(<span class="params">a,b</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> a-b;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="slice-reverse"><a href="#slice-reverse" class="headerlink" title="slice().reverse()"></a>slice().reverse()</h3><p>Vue 不仅提供了一个排序的 <code>sort()</code> 方法，还提供了 <code>reverse()</code> 方法来进行逆转，但这需要 <code>slice()</code> 切片后重新进行排序：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in numbers.slice().reverse()&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">numbers</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="template-at-value"><a href="#template-at-value" class="headerlink" title="template at value"></a>template at value</h2><p>template 是一个字符串模板，用于组件的实例标记，木板将会替换所挂载元素的源 HTML，挂在的任何元素所有标记都会被忽略，因此通常可以使用 template 作为指令块进行使用，如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;ui id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;item in 10&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">&lt;/ui&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>这将会被渲染为以下 HTML 表达式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	...</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>


	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/3.0/6.Vue.js 条件渲染/">Vue.js 条件渲染</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue3-0/" rel="tag">vue3.0</a>
			</span>
		
	</div>

	

	
		<h2 id="v-if-and-v-else"><a href="#v-if-and-v-else" class="headerlink" title="v-if and v-else"></a>v-if and v-else</h2><p>Vue.js 为条件渲染提供了 <code>v-if</code> 以及 <code>v-else</code> 指令，其中 <code>v-if</code> 指令用于条件渲染一块内容，内容的表达式根据 truthy 值进行决定是否被渲染：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;isMessage&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>=<span class="string">&quot;isMessage&quot;</span>&gt;</span>This is v-else<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="string">&#x27;This is v-bind:style&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">isMessage</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>当 <code>isMessage</code> 属性的 truthy 值为 false 时，则会使用 <code>v-else</code> 进行代替，但为了之后适用与更加复杂的结构中 <code>v-else</code> 需要指定属性。</p>
<h3 id="template"><a href="#template" class="headerlink" title="template"></a>template</h3><p>template 是一个字符串模板，用作组件(component) 实例标记，模板将会替代所挂载的元素内部 HTML(innerHTML)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .<span class="property">error</span> &#123;</span><br><span class="line">        <span class="attr">border</span>: 1px solid red;</span><br><span class="line">        <span class="attr">padding</span>: <span class="number">0.</span>5em;</span><br><span class="line">        <span class="attr">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;isMessage&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;isMessage&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>hey,v-if<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>=<span class="string">&quot;isMessage&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;error: isErr&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is v-else=&quot;isMessage&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">message</span>: <span class="string">&#x27;This is v-bind:style&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">isMessage</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">isErr</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h3><p>除 <code>v-show</code> 之外，Vue 还提供了另一条用于展示元素的 <code>v-show</code> 指令，他于 <code>v-if</code> 相差甚微：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .<span class="property">error</span> &#123;</span><br><span class="line">        <span class="attr">border</span>: 1px solid red;</span><br><span class="line">        <span class="attr">padding</span>: <span class="number">0.</span>5em;</span><br><span class="line">        <span class="attr">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="property">warn</span> &#123;</span><br><span class="line">        <span class="attr">border</span>: 1px solid #ffaa00;</span><br><span class="line">        <span class="attr">padding</span>: <span class="number">0.</span>5em;</span><br><span class="line">        <span class="attr">color</span>: #ffaa00;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isMessage&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>hey,v-if is &quot;true&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;isMessage === null&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;error: isErr&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is isMessage =&quot;null&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;isMessage === undefined&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;error: isErr&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is isMessage =&quot;undefined&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;warn: isWarn&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>hey,v-if is &quot;false&quot;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;isMessage&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hey,world!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="property">createApp</span> (&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">isMessage</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">isErr</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">isWarn</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>但不同的是 <code>v-show</code> 元素始终会被渲染并保留 DOM 中，因此 <code>v-show</code> 只是简单的切换元素的 <code>display</code> 属性。</p>
<blockquote>
<p>与 <code>v-if</code> 的区别是他不支持 <code>&lt;template&gt; </code> 元素也不支持 <code>v-else</code> 指令</p>
</blockquote>
<figure class="highlight plaintext"><figcaption><span>是 “真正” 的条件渲染，他会在切换的过程中，条件块内的事件监听器或子组件将会适当的被摧毁和更新。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">## v-else-if</span><br><span class="line">该指令可以充当 ```v-if``` 的 ```else-if``` 块且可林需的使用，但必须紧跟 ```v-if``` 或 ```v-else-if``` 的元素之后：</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .error &#123;</span><br><span class="line">        border: 1px solid red;</span><br><span class="line">        padding: 0.5em;</span><br><span class="line">        color: red;</span><br><span class="line">    &#125;</span><br><span class="line">    .warn &#123;</span><br><span class="line">        border: 1px solid #ffaa00;</span><br><span class="line">        padding: 0.5em;</span><br><span class="line">        color: #ffaa00;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div v-if=&quot;isMessage&quot;&gt;</span><br><span class="line">        &lt;p&gt;hey,v-if is &quot;true&quot;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div v-else-if=&quot;isMessage === null&quot; :class=&quot;&#123;error: isErr&#125;&quot;&gt;</span><br><span class="line">        &lt;p&gt;This is isMessage =&quot;null&quot;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div v-else-if=&quot;isMessage === undefined&quot; :class=&quot;&#123;error: isErr&#125;&quot;&gt;</span><br><span class="line">        &lt;p&gt;This is isMessage =&quot;undefined&quot;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div v-else :class=&quot;&#123;warn: isWarn&#125;&quot;&gt;</span><br><span class="line">        &lt;p&gt;hey,v-if is &quot;false&quot;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app = Vue.createApp (&#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                isMessage: false,</span><br><span class="line">                isErr: true,</span><br><span class="line">                isWarn: true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const vm = app.mount(&#x27;#app&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


	

	

</article>





	<span class="different-posts">📖 <a href="/page/2">more posts</a> 📖</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>欢迎来到我的 blog <br><br> 通过 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> 进行构建的，存放在 <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> 上。</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
