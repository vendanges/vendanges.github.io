<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>琼瑶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="琼瑶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">琼瑶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">梦入琼楼寒有月，行过石树冻无烟</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">📖 <a href="/page/16">earlier posts</a> 📖</span>




	<article>
	
		<h1><a href="/2022/04/21/java/spring/4.Spring Java @Configuration/">Spring Java @Configuration</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/spring/" rel="tag">spring</a>
			</span>
		
	</div>

	

	
		<p>@Configuration注解可从上一章<code>Spring.Ioc</code>中了解到，在annotation包下的ConfigAnnotation.java，即使用了<code>@Configuration、@ComponentScan</code>两个注解，实现了Spring applicationContext.xml的配置文件功能，而代码其意可以理解为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation;</span><br><span class="line"><span class="keyword">package</span> annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;annotation&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConfigAnnotation</span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * @Configuration 声明该类是一个配置类，类似与Spring的XML配置文件</span></span><br><span class="line"><span class="comment">	 * @ComponentScan 可自动扫描“annotation”包下的使用注解，并注册为Bean</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>其中@Configuration将ConfigAnnotation.java成为了一个配置类，根据@Configuration注解，可让ConfigAnnotaation.java类成为相当于Spring XML中的配置文件。而@ComponentScan注解实现了Spring XML配置文件的语法“<code>&lt;context:component - scan base -package=&quot;Bean 包路径”/&gt; </code>“</p>
<h2 id="Dao"><a href="#Dao" class="headerlink" title="Dao"></a>Dao</h2><h3 id="Java-Spring-TestDao-java"><a href="#Java-Spring-TestDao-java" class="headerlink" title="Java Spring TestDao.java"></a>Java Spring TestDao.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestDao</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Spring-IoC-TestDao-java"><a href="#Spring-IoC-TestDao-java" class="headerlink" title="Spring IoC TestDao.java"></a>Spring IoC TestDao.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestDao</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><h3 id="Java-Spring-TestServce"><a href="#Java-Spring-TestServce" class="headerlink" title="Java Spring TestServce"></a>Java Spring TestServce</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"><span class="keyword">import</span> dao.TestDao;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestService</span> &#123;</span><br><span class="line">	TestDao testDao;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTestDao</span> <span class="params">(TestDao testDao)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.testDao = testDao;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">		testDao.save();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Spring-IoC-TestService"><a href="#Spring-IoC-TestService" class="headerlink" title="Spring IoC TestService"></a>Spring IoC TestService</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.service;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestService</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="javaConfig"><a href="#javaConfig" class="headerlink" title="javaConfig"></a>javaConfig</h2><h3 id="JavaConfig-java"><a href="#JavaConfig-java" class="headerlink" title="JavaConfig.java"></a>JavaConfig.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> javaConfig;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> controller.TestController;</span><br><span class="line"><span class="keyword">import</span> dao.TestDao;</span><br><span class="line"><span class="keyword">import</span> service.TestService;</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JavaConfig</span> &#123;</span><br><span class="line">	<span class="meta">@Bean</span> </span><br><span class="line">	<span class="keyword">public</span> TestDao <span class="title function_">getTestDao</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestDao</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="keyword">public</span> TestService <span class="title function_">getTestService</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">TestService</span> <span class="variable">testservice</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestService</span>();</span><br><span class="line">		testservice.setTestDao(getTestDao());</span><br><span class="line">		<span class="keyword">return</span> testservice;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="keyword">public</span> TestController <span class="title function_">getTestController</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">TestController</span> <span class="variable">testcontroller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestController</span>();</span><br><span class="line">		testcontroller.setTestService(getTestService());</span><br><span class="line">		<span class="keyword">return</span> testcontroller;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="TestConfig-java"><a href="#TestConfig-java" class="headerlink" title="TestConfig.java"></a>TestConfig.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> javaConfig;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">import</span> controller.TestController;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfig</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String args[])</span> &#123;</span><br><span class="line">		<span class="type">AnnotationConfigApplicationContext</span> <span class="variable">annotationconfigapplicationcontext</span> <span class="operator">=</span> </span><br><span class="line">				<span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(JavaConfig.class);</span><br><span class="line">		<span class="type">TestController</span> <span class="variable">testcontroller</span> <span class="operator">=</span> annotationconfigapplicationcontext.getBean(TestController.class);</span><br><span class="line">		testcontroller.save();</span><br><span class="line">		annotationconfigapplicationcontext.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从Spring Java 与Spring IoC 来相比，Spring Java在类的方面很明显比Spring IoC少了一个类，但相比之下Java Script的代码比Spring IoC少了许多。但Java Script @Bean注解来完成@ComponentScan自动扫描的功能与服务。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/spring/3.Spring IoC/">Spring Ioc</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/spring/" rel="tag">spring</a>
			</span>
		
	</div>

	

	
		<p>控制反转（IoC，Inversion of Control）是Spring 框架中的核心，而这核心技术在他的官方文档<code>&quot;/docs/spring-framework-reference/core.html#spring-core&quot;</code>之中，第一句话标题就是”核心技术“。通常IoC也可以称之为依赖注入（DI，De），在此过程中，对象会通过构造函数参数，通过工厂参数在构造或从工厂方法中返回后的对象实例上设置的属性来定义其依赖项。<br>也就是说，当某个Java对象需要调用另一个Java对象时，在正常且传统的模式下，通常会使用<code>new来实例化</code>该类，而在之后出现的Spring时，则对象的实例不需要有你来创建，而是由Spring容器来创建，控制程序之间的关系。</p>
<h2 id="Spirng-常用注解"><a href="#Spirng-常用注解" class="headerlink" title="Spirng 常用注解"></a>Spirng 常用注解</h2><h3 id="声明Bean-注解"><a href="#声明Bean-注解" class="headerlink" title="声明Bean 注解"></a>声明Bean 注解</h3><p>Spring框架中，使用XML配置文件可以简单的配置Bean，但如果项目庞大需要Bean装配时，将会导致XML配置文件过于庞大，不方便以后的维护和拓展，因此衍生出了注解（annotaion）的方式去配置Bean：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>@Component</td>
<td>一个泛化的概念，仅仅表示一个组件对象（bean），可以作用在让你和层次之上，没有明确的角色</td>
<td>Bean</td>
</tr>
<tr>
<td>@Repository</td>
<td>用于数据访问层（DAO）的类标识为Bean，即注解数据访问层Bean，功能与@Component 相同</td>
<td>DAO</td>
</tr>
<tr>
<td>@Service</td>
<td>用于标注一个业务逻辑组件类（Service层），功能与@Component相同</td>
<td>Service</td>
</tr>
<tr>
<td>@Controller</td>
<td>该注解用于标注一个控制器组件类（Spring MVC的Controller)，功能与@Component相同</td>
<td>Spring MVC</td>
</tr>
</tbody></table>
<h3 id="注入Bean-注解"><a href="#注入Bean-注解" class="headerlink" title="注入Bean 注解"></a>注入Bean 注解</h3><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>@Autowired</td>
<td>可对成员变量、方法及构造方法进行标注，完成自动装配工作，通过@Autowired可消除<code>set</code>和<code>get</code>方法，默认按照Bean的类型进行装配</td>
<td></td>
</tr>
<tr>
<td>@Resource</td>
<td>与@Autowired的功能一样，区别与该注解默认按照名称来装配注入，只有当找不到名称匹配的Bean时才会按照类型来装配注入。可结合@Qualifier注解一起搭配食用可以按照名称来进行装配</td>
<td></td>
</tr>
<tr>
<td>@Resource</td>
<td>@Resource有两个属性，分别为name和type，Name属性指定Bean实例名称，而按照名称来装配注入;Type属性则指定Bean类型，即安装Bean的类型进行装配</td>
<td></td>
</tr>
<tr>
<td>@Qualifier</td>
<td>可与@Autowired注解配合使用，<strong>当@Autowired注解需要按照名称来进行装配注入时</strong>，则需要结合该注解进行使用，而@Qualifier注解可以指定Bean实例名</td>
<td></td>
</tr>
</tbody></table>
<h3 id="Java-配置注解"><a href="#Java-配置注解" class="headerlink" title="Java 配置注解"></a>Java 配置注解</h3><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>@Configuration</td>
<td>声明一个Java的配置类，相当于Spring中的XML配置文件</td>
<td>XML</td>
</tr>
<tr>
<td>@ComponentScan</td>
<td>扫描使用的注解包，并创建指定的ConfigAnnotation的配置类</td>
<td>XML</td>
</tr>
</tbody></table>
<h2 id="基于注解的依赖注入"><a href="#基于注解的依赖注入" class="headerlink" title="基于注解的依赖注入"></a>基于注解的依赖注入</h2><p>本文主要使用&#96;&#96;&#96;@Override、@Resource、@Repository、@Controller、@Autowired、@Configuration、@ComponentScan等注解来实现Spring xml配置文件来实现配置、注解、依赖、注入等方式，而这也是Spring Boot所推荐的配置方式：</p>
<h3 id="所需的外部Jar开发包"><a href="#所需的外部Jar开发包" class="headerlink" title="所需的外部Jar开发包"></a>所需的外部Jar开发包</h3><p>本文需实现<code>基于注解的依赖注入</code>，需要使用commons-logging-1.2.jar、spring-aop-5.1.4-RELEASE.jar、spring-beans-5.1.4.RELEASE.jar、spring-context-5.1.4.RELEASE.jar、spring-core-5.1.4.RELEASE.jar、spring-expression-5.1.4.RELEASE.jar等jar开发包引入至项目文件中<code>WebContent/WEB-INF/lib</code>目录下即可。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>TestDao.java</td>
<td></td>
<td>Dao</td>
</tr>
<tr>
<td>TestDaoImpl.java</td>
<td>@Repository</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>TestService.java</td>
<td></td>
<td>Service</td>
</tr>
<tr>
<td>TestServiceImpl.java</td>
<td>@Service、@Resource、@Override</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>TestController.java</td>
<td>@Controller、@Autowired</td>
<td>Controller</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ConfigAnnotation.java</td>
<td>@Configuration、@ComponentScan</td>
<td>annotation</td>
</tr>
<tr>
<td>TestAnnotation.java</td>
<td>@Controller、@Autowired</td>
<td></td>
</tr>
</tbody></table>
<h3 id="Dao"><a href="#Dao" class="headerlink" title="Dao"></a>Dao</h3><h4 id="TestDao-java"><a href="#TestDao-java" class="headerlink" title="TestDao.java"></a>TestDao.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestDao</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="TestDaoImpl-java"><a href="#TestDaoImpl-java" class="headerlink" title="TestDaoImpl.java"></a>TestDaoImpl.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository(&quot;testDao&quot;)</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 用于数据访问层（DAO）的类标识为Bean在Service层使用@Repository </span></span><br><span class="line"><span class="comment"> * （name =&quot;testDao&quot;) 注入 Bean,testDao</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">TestDao</span> &#123;</span><br><span class="line">	<span class="meta">@Override()</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;testdao save&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h3><h4 id="TestService-java"><a href="#TestService-java" class="headerlink" title="TestService.java"></a>TestService.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.service;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestService</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="TestServiceImpl-java"><a href="#TestServiceImpl-java" class="headerlink" title="TestServiceImpl.java"></a>TestServiceImpl.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> annotation.dao.TestDao;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Service(&quot;testService&quot;)</span>  <span class="comment">// 相当于@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">TestService</span> &#123;</span><br><span class="line">	<span class="meta">@Resource(name = &quot;testDao&quot;)</span></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * @Resource 相当于使用了@Autowired，原因是@Resource与@Autowire够能差不多</span></span><br><span class="line"><span class="comment">	 * 唯一的区别是该注解默认按照名称来装配注入只有当找不到名称匹配的Bean是才会按照类型来装配注入</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> TestDao testDao;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">		testDao.save();</span><br><span class="line">		System.out.println(<span class="string">&quot;testService save&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><h4 id="TestController-java"><a href="#TestController-java" class="headerlink" title="TestController.java"></a>TestController.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> annotation.service.TestService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> TestService testService;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">		testService.save();</span><br><span class="line">		System.out.println(<span class="string">&quot;testController save&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="annotation"><a href="#annotation" class="headerlink" title="annotation"></a>annotation</h3><h4 id="ConfigAnnotation-java"><a href="#ConfigAnnotation-java" class="headerlink" title="ConfigAnnotation.java"></a>ConfigAnnotation.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;annotation&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConfigAnnotation</span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * @Configuration 声明该类是一个配置类，类似与Spring的XML配置文件</span></span><br><span class="line"><span class="comment">	 * @ComponentScan 可自动扫描“annotation”包下的使用注解，并注册为Bean</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="TestAnnotation-java"><a href="#TestAnnotation-java" class="headerlink" title="TestAnnotation.java"></a>TestAnnotation.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> annotation.service.TestService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line">	<span class="meta">@Autowired</span></span><br><span class="line">	<span class="keyword">private</span> TestService testService;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">		testService.save();</span><br><span class="line">		System.out.println(<span class="string">&quot;testController save&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/spring/2.Spring 开发环境搭建/">Spring 开发环境搭建</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/spring/" rel="tag">spring</a>
			</span>
		
	</div>

	

	
		<h2 id="Spinrg-jar"><a href="#Spinrg-jar" class="headerlink" title="Spinrg jar"></a>Spinrg jar</h2><p>Spring官网中主要建议开发者下载Maven和Gradle两种方式进行下载，如果不使用两者方式的开发者，可通过<code>https://repo.spring.io/libs-release-local/org/springframework/spring/5.1.4.RELEASE/spring-framework-5.1.4.RELEASE-dist.zip</code>直接下载Spring 5.1.4版本的Spring jar。<br>而在Spring jar文件解压后各个文件的说明如下：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>docs</td>
<td>用于存储包含Spring的API文档以及开发规范</td>
<td>&#x2F;</td>
</tr>
<tr>
<td>libs</td>
<td>包含开发Spring应用所需要的JAR包以及源代码</td>
<td>&#x2F;</td>
</tr>
<tr>
<td></td>
<td>RELEASE.jar 是Spring 开发所需要的jar 包</td>
<td>&#x2F;libs</td>
</tr>
<tr>
<td></td>
<td>RELEASE-caradoc.jar Spring框架API文档压缩包</td>
<td>&#x2F;libs</td>
</tr>
<tr>
<td></td>
<td>RELEASE-sources.jar 结尾的我文件是Spring框架源文件的压缩包</td>
<td>&#x2F;libs</td>
</tr>
<tr>
<td></td>
<td>spring-core-5.1.4.RELEASE.jar、spring-beans-5.1.4.RELEASE.jar、spring-context-5.1.4.RELEASE-javadoc.jar 结尾的是Spring 核心容器的四个模块（Beans、Core、Context、SpEL）</td>
<td>&#x2F;libs</td>
</tr>
<tr>
<td>schema</td>
<td>包含Spring 应用开发所需要的schema文件，主要定义了Spring的配置文件的约束</td>
<td>&#x2F;</td>
</tr>
</tbody></table>
<h2 id="Commons-logging"><a href="#Commons-logging" class="headerlink" title="Commons-logging"></a>Commons-logging</h2><p>Spring主要依赖<code>Apache Commons Logging</code>组件，可通过<code>https://downloads.apache.org//commons/logging/binaries/commons-logging-1.2-bin.zip</code>下载，经解压后，主要使用<code>commons-logging-1.2</code>文件。</p>
<h2 id="Spring-基本环境"><a href="#Spring-基本环境" class="headerlink" title="Spring 基本环境"></a>Spring 基本环境</h2><h3 id="导入-JRE-文件"><a href="#导入-JRE-文件" class="headerlink" title="导入 JRE 文件"></a>导入 JRE 文件</h3><p>在开发Spring应用的时候，需要引入四个基本核心类和一个<code>Apache Commons Logging</code>组件引入到<code>WebContent\WEB-INF\lib\</code> 即可完成引入。</p>
<h4 id="Spring-Ioc-基本框架与流程"><a href="#Spring-Ioc-基本框架与流程" class="headerlink" title="Spring Ioc 基本框架与流程"></a>Spring Ioc 基本框架与流程</h4><h5 id="接口-TestDao-java"><a href="#接口-TestDao-java" class="headerlink" title="接口 TestDao.java"></a>接口 TestDao.java</h5><p>Spring是解决业务逻辑层和其让他各层的耦合问题，因此他将面向接口的编程思想贯穿于整个系统之中应用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Dao;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">TestOne</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sayHello</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="接口实现类-TestDaoImpl-java"><a href="#接口实现类-TestDaoImpl-java" class="headerlink" title="接口实现类 TestDaoImpl.java"></a>接口实现类 TestDaoImpl.java</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Dao;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">TestDao</span> &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		System.out.println(<span class="string">&quot;Hello,world!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="spring-配置文件-applicationContext-xml"><a href="#spring-配置文件-applicationContext-xml" class="headerlink" title="spring 配置文件 applicationContext.xml"></a>spring 配置文件 applicationContext.xml</h5><p>一般情况下，Spring不需要开发者手敲，可通过<code>/docs/spring-framework-reference/core.html</code>下API说明文档中的<code>1.2.1. Configuration Metadata</code>处直接复制即可:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dao.TestDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="测试类-Test-java"><a href="#测试类-Test-java" class="headerlink" title="测试类 Test.java"></a>测试类 Test.java</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> One.TestOne;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span> &#123;</span><br><span class="line">	    <span class="comment">// 初始化Spring容器 ApplicationContext 来加载配置文件</span></span><br><span class="line">	    <span class="comment">// @SuppressWarnings 来抑制警告的关键字，有泛型未指定类型</span></span><br><span class="line">		<span class="meta">@SuppressWarnings(&quot;resource&quot;)</span></span><br><span class="line">		<span class="type">ApplicationContext</span> <span class="variable">appCon</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">		<span class="comment">/* </span></span><br><span class="line"><span class="comment">		    通过容器获取到 test的</span></span><br><span class="line"><span class="comment">		    test 是配置文件中的id &quot;&lt;bean id=&quot;test&quot; class=&quot;dao.TestOneImpl&quot;/&gt;&quot;</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		<span class="type">TestDao</span> <span class="variable">testdao</span> <span class="operator">=</span> (TestDao)appCon.getBean(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">		testdao.sayHello();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在执行测试类后，IDE控制台中将会输出<code>接口实现类 TestOneImpl.java</code>内中的”public void sayHello() {“下构造变量;。而整个输出的过程中，并没有使用<code>new</code>运算符来创建TestOneImpl类的对象，而是通过Spring容器来实现，而这个实现的过程就是 Spring IOC的工作机制，而这个工作机制也可以理解为工厂模式。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/spring/1.Spring 简介与概括/">Spring</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/spring/" rel="tag">spring</a>
			</span>
		
	</div>

	

	
		<h2 id="Spring-简介"><a href="#Spring-简介" class="headerlink" title="Spring 简介"></a>Spring 简介</h2><p>Spring 框架可以在任何类型的部署平台为基于Java Web现代的企业应用程序而提供的全面编程和配置模型。是当前主流的Java开发框架之一，为企业级应用开发提供了丰富的使用功能。</p>
<h2 id="Spring-的意思"><a href="#Spring-的意思" class="headerlink" title="Spring 的意思"></a>Spring 的意思</h2><p>在Spring的官方API帮助文档中，有一句官方的表述是：<br>”Spring 在不同的上下文中表示不同的事物，他可以用于指代Spring Framework项目的本身，而Spirng的意识是寓意，<strong>这一切都是从这里开始的</strong>。随着时间的流逝，其他的Spring项目已经在Spring Framework基础上进行构建，通常人们说到Spirng的时候，他们将会表示整个项目的系列。如<strong>果有人跟你说的是Spring boot，那他一定不是泛指所有Spring项目，而是单指Spring boot这一系列。</strong>“</p>
<h2 id="Spring-概括"><a href="#Spring-概括" class="headerlink" title="Spring 概括"></a>Spring 概括</h2><p>Spring是一个轻量级的开发框架，最初由Rod Johnson编写，在2003年6月首次在Apache 2.0许可证下发布，象征着Spring在那刻前正式开源，之后有很多开发者加入到一起来进行维护和开发，而Spring创建的主要目的就是解决企业应用开发的业务逻辑层的问题，是一个分层的<code>轻量级开源框架（且一站式）</code></p>
<h3 id="Spring-体系结构"><a href="#Spring-体系结构" class="headerlink" title="Spring 体系结构"></a>Spring 体系结构</h3><h4 id="Spring-常用结构"><a href="#Spring-常用结构" class="headerlink" title="Spring 常用结构"></a>Spring 常用结构</h4><h4 id="Spirng-本书所使用的结构"><a href="#Spirng-本书所使用的结构" class="headerlink" title="Spirng 本书所使用的结构"></a>Spirng 本书所使用的结构</h4><h4 id="Data-Access-Integration-x2F-World-Wide-Web（数据访问和集成-x2F-Web）"><a href="#Data-Access-Integration-x2F-World-Wide-Web（数据访问和集成-x2F-Web）" class="headerlink" title="Data Access - Integration &#x2F; World Wide Web（数据访问和集成&#x2F;Web）"></a>Data Access - Integration &#x2F; World Wide Web（数据访问和集成&#x2F;Web）</h4><h5 id="Data-Access-x2F-Integration"><a href="#Data-Access-x2F-Integration" class="headerlink" title="Data Access &#x2F; Integration"></a>Data Access &#x2F; Integration</h5><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>JDBC</td>
<td>提供了一个JDBC的抽象层</td>
<td>消除了繁琐的JDBC编码和数据库厂商特有的错误代码解析</td>
</tr>
<tr>
<td>ORM</td>
<td>对流行的对象关系映射API的集成(Object-Relational apping)，包括JPA、Hibenate</td>
<td>使用Spring-ORM可将这些O&#x2F;R映射框架与Spring提供的所有功能结合使用</td>
</tr>
<tr>
<td>OXM</td>
<td>提供了一个支持对象&#x2F;XML映射的抽象层实现</td>
<td>如JAXB、Castor、XML Beans、JiBX、XStream等</td>
</tr>
<tr>
<td>JMS</td>
<td>指Java消息传递服务，包含了用于生产和使用的消息功能</td>
<td>自Spring 4.1以后，提供那个了与Spring-messaging模块的集成</td>
</tr>
</tbody></table>
<h5 id="World-Wide-Web"><a href="#World-Wide-Web" class="headerlink" title="World Wide Web"></a>World Wide Web</h5><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>Web-Socket</td>
<td>提供了对WebSocket-based的支持</td>
<td>在Web应用中可以实现Web前端全双工通信的协议。</td>
</tr>
<tr>
<td>Web-Servlet（webmvc）</td>
<td>包含了用于Web应用程序的Spring MVC和 REST Web Services实现</td>
<td>提供了Spring下的MVC框架可以使全领域模型代码和web表单完全的分离，与Spring框架和其他所有功能进行集成</td>
</tr>
<tr>
<td>Web</td>
<td>提供了基本的Web开发集成功能</td>
<td>多文件上传功能、使用Servlet监听器初始化一个Ioc容器以及Web应用上下文</td>
</tr>
<tr>
<td>Portlet (Spring-webmvc-portlet)</td>
<td>提供Portlet环境中使用MVC的实现，并反映了Spring-webmvc的模块功能</td>
<td></td>
</tr>
<tr>
<td>Webflux</td>
<td>是一个非阻塞式函数Reactive Web框架</td>
<td>可用于建立异步、非阻塞、事件驱动服务，并拥有很好的扩展性</td>
</tr>
</tbody></table>
<h4 id="AAIM（Aop、Aspects、Instrumentation、Messaging）"><a href="#AAIM（Aop、Aspects、Instrumentation、Messaging）" class="headerlink" title="AAIM（Aop、Aspects、Instrumentation、Messaging）"></a>AAIM（Aop、Aspects、Instrumentation、Messaging）</h4><h5 id="面向切面编程（AOP）-和-使用容器（Instrumentation）"><a href="#面向切面编程（AOP）-和-使用容器（Instrumentation）" class="headerlink" title="面向切面编程（AOP） 和 使用容器（Instrumentation）"></a>面向切面编程（AOP） 和 使用容器（Instrumentation）</h5><p>该层主要有AOP、Aspects、Instrumentation、Messaging四个模块，其主要模块响应的功能有：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>AOP</td>
<td>提供了一个符合APO要求的面向切面的编程实现</td>
<td>允许在定义方法拦截器和切入点，可将代码按照功能进行分离，方便干净的进行解藕</td>
</tr>
<tr>
<td>Aspects</td>
<td>是一个强大且成熟的面向切面编程（AOP）框架</td>
<td>提供了AspectJ的集成功能</td>
</tr>
<tr>
<td>Instrumentation</td>
<td>提供了类植入（Instrumentation）支持和类的加载器实现，而Instrumentation提供了一种虚拟机级别的支持的AOP实现方式</td>
<td>无需对JDK进行改动或升级，可实现AOP的某些功能</td>
</tr>
</tbody></table>
<h5 id="消息（Spring-Messaging）"><a href="#消息（Spring-Messaging）" class="headerlink" title="消息（Spring-Messaging）"></a>消息（Spring-Messaging）</h5><p>Messaging是Spring 4.0所增加的信息模块“Spring-messaging”，其主要提供了对信息传递的结构体系和协议支持，且支持为STOMP、WebSocket等子协议时候使用。</p>
<h4 id="Spring-核心容器"><a href="#Spring-核心容器" class="headerlink" title="Spring 核心容器"></a>Spring 核心容器</h4><p>Spring的核心容器是其他模块建立的基础部分，主要由<code>Spring-core、Spring-beans、Spring-Context、Spring-context-support、Spring-expression（Spring表达式语言）</code>模块所组成：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>Spring-core</td>
<td>提供了框架的基本组成部分</td>
<td>控制反转（ioc，Inversion of Control）、依赖注入（DI，Dependency Injection）</td>
</tr>
<tr>
<td>Spring-Beans</td>
<td>是工厂模式的经典实现，主要移除了编码式的单列需要，可从配置和以来从实际编码逻辑中耦合</td>
<td>提供了BeanFactory</td>
</tr>
<tr>
<td>Spring-context</td>
<td>主要建立在core、Beans之上，提供了一个框架式的对象访问方式，<strong>是一个访问定义、配置、任何对象的媒介</strong></td>
<td>context</td>
</tr>
<tr>
<td></td>
<td>Spring-context-support</td>
<td>支持整合得到第三方库到Spring应用程序上下文，用于高速缓存（EhCache,JCache）和任务调度（COmmonJ，Quartz）的支持。</td>
</tr>
<tr>
<td>Spring-expression</td>
<td>提供了强大的表达式语言，用于在运行时查询和操作对象图 ，是JSP2.1规范中定义统一表达式语言扩展（Unified EL）</td>
<td>支持set和get属性值、属性赋值、方法调用、访问数组集合等索引内容，逻辑运算符、命名变量、通过名字从 &#96;&#96;&#96;Spring-Ioc容器检索对象，支持列表投影、选及其常见列表聚合</td>
</tr>
</tbody></table>
<h5 id="Spring-Beans-工厂模式"><a href="#Spring-Beans-工厂模式" class="headerlink" title="Spring-Beans 工厂模式"></a>Spring-Beans 工厂模式</h5><p>Spring-Beans工厂模式主要是代替了Java中的<code>new 的实例化操作</code>，  虽然这样做会做多一点工作，但是会增加整个项目的可扩展性。也就是说，当需要实例化类或方法的时候，<code>new</code>的工作会由一个<code>class</code>类所执行，所以在本类之中可以直接使用工厂模式进行开发。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/Java server pages/9.Servlet 过滤器与监听器/">JSP Servlet 过滤器与监听器</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/java-server-pages/" rel="tag">java server pages</a>
			</span>
		
	</div>

	

	
		<p>Servlet过滤器是可以理解为，当用户浏览某个Web servler的时候，此实现时可以利用过滤器（Filter）来实现特定用户的访问。过滤器主要位于服务器处理请求或服务器响应请求职权，即<code>通过过滤浏览器对服务器的请求，也可过滤服务器对浏览器的响应</code>。Servlet过滤器主要用于验证、过滤等功能，而Servlet过滤器可在<code>web.xml</code>中进行定义，如果去除web.xml中过滤器的文件条目，则<code>Servlet 过滤器也会被删除</code>。</p>
<h2 id="Filter类与Filter对象和方法"><a href="#Filter类与Filter对象和方法" class="headerlink" title="Filter类与Filter对象和方法"></a>Filter类与Filter对象和方法</h2><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>public void init(FilterConfig fConfig)</td>
<td>方法用于初始化过滤器对象</td>
<td>可设置初始参数 （可用<code>getInitParameter(String paramName)</code>获取参数值）</td>
</tr>
<tr>
<td>public void doFile(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException)</td>
<td>当Web servlet对象调用service()的时候将会自动调用doFile()</td>
<td></td>
</tr>
<tr>
<td>public void destroy()</td>
<td>当Web Server终止服务的时候，<code>destroy()</code>将会被执行，使得Filter对象摧毁</td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>chain.doFilter(request, response)</td>
<td>执行下一个过滤器，如果没有下一个过滤器，将会返回请求目标程序。</td>
<td>如果没有执行chain.doFilter()。则请求不会继续给下一个过滤器或某个目标的应用程序，即拦截请求</td>
</tr>
</tbody></table>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/Java server pages/8.Servlet 会话管理/">JSP Servlet 会话管理</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/java-server-pages/" rel="tag">java server pages</a>
			</span>
		
	</div>

	

	
		<p>会话跟踪在通常是用于维持用户数据和状态的方法，通常分为<code>Cookie和session</code>两项常用技术。在Servlet也被称之为Servlet会话管理，也可以称之为“会话追踪”都是没有问题的。当用户通过浏览器来访问和进行交互请求的时候，我们需要使用<code>Cookie和session</code>两项中的任意一项来维护状态，每次用户向服务器请求时，服务器就将会该请求视为<code>新的请求</code>。所谓为了避免这种问题，需要区别进行对待，在这种情况中会话跟踪技术慢慢的发展和壮大。</p>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>Cookie即“小饼干”，是为了Web站点进行辨别用户从而实现<code>免密登入</code>来进行访问，和<code>Session</code>的区别之处在于<code>Cookie</code>将数据存储于客户端中，而<code>Session</code>存储与服务器之中。Cookie可以包含<code>用户信息、小文本文件</code>等信息，通过Cookie技术，可以让用户何时访问Web服务器，Web都可以通过访问或获取存储于用户本地之中的Cookie进行利用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie vistedCountC = new Cookie (&quot;name&quot;, &quot;null&quot;);</span><br></pre></td></tr></table></figure>
<p>通过上方的Cookie够走可以看出，<code>name</code>可指定Cookie的属性名，第二个参数<code>null</code>可以用于指定值。创建完Cookie可以使用<code>addCookie()</code>添加到响应对象之中那个，从而实现存储于用户本地计算机上。如果想实现访问或获取存储于用户计算机之中的<code>Cookie</code>的数据可以通过<code>getCookies()</code>来进而获取。</p>
<p>在Cookie中有一定的存活时间，不可能在客户端中永久保存，这样会给安全性带来问题，在默认的情况之下<code>Cookie在用户关闭之时将会自动会被销毁</code>，如果想自行进行定义可以使用<code>setMaxAge(int time)</code>方法来设置Cookie的存货时间。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>AddCookie()</td>
<td>将Cookie添加到响应对象中</td>
<td>即存储于用户计算机中</td>
</tr>
<tr>
<td>getCookies()</td>
<td>来获取用户计算机之中的Ckkoie数据</td>
<td></td>
</tr>
<tr>
<td>setMaxAge(int time)</td>
<td>设置Cookie存活时间</td>
<td><code>如为整数则以秒进行计算</code>，为<code>负数则表示为临时Cookie</code>，但为0则表明通知浏览器<code>删除相应Cookie数据</code></td>
</tr>
</tbody></table>
<h3 id="访问次数"><a href="#访问次数" class="headerlink" title="访问次数"></a>访问次数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">package Cookie;</span><br><span class="line"></span><br><span class="line">import java.util.Date;</span><br><span class="line">import java.text.SimpleDateFormat;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.Cookie;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class TimeCookie</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/TimeCookie&quot;)</span><br><span class="line">public class TimeCookie extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public TimeCookie() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line"></span><br><span class="line">		// Time</span><br><span class="line">		PrintWriter printWriter = response.getWriter();</span><br><span class="line">		SimpleDateFormat simpledateformat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br><span class="line">		String nowTime = simpledateformat.format(new Date());</span><br><span class="line">		// 访问时间</span><br><span class="line">		String lastVistTime = &quot;&quot;;</span><br><span class="line">		// 访问次数</span><br><span class="line">		int vistedCount = 0;</span><br><span class="line">		// 获取Cookie</span><br><span class="line">		Cookie[] myCookies = request.getCookies();</span><br><span class="line">		if (myCookies != null) &#123;</span><br><span class="line">			for (Cookie cookie:myCookies) &#123;</span><br><span class="line">				// 是否为最近访问的Cookies</span><br><span class="line">				if (&quot;lastVist&quot;.equals(cookie.getName())) &#123;</span><br><span class="line">					lastVistTime = cookie.getValue();</span><br><span class="line">				&#125;</span><br><span class="line">				if (&quot;vistedCount&quot;.equals(cookie.getName())) &#123;</span><br><span class="line">					vistedCount = Integer.valueOf(cookie.getValue());</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if (!&quot;&quot;.equals(lastVistTime)) &#123;</span><br><span class="line">			printWriter.println(&quot;上次访问时间&quot; + lastVistTime);</span><br><span class="line">		&#125;</span><br><span class="line">		// 访问次数</span><br><span class="line">		printWriter.println(&quot;访问次数&quot; + (vistedCount +1));</span><br><span class="line">		// 创建 Cookie</span><br><span class="line">		Cookie lastVistTimeC = new Cookie(&quot;lastVist&quot;,nowTime);</span><br><span class="line">		// Cookie 生存时间</span><br><span class="line">		lastVistTimeC.setMaxAge(365*24*60*60);</span><br><span class="line">		// 访问时创建同名cookie</span><br><span class="line">		Cookie vistedCpimtC = new Cookie(&quot;vistedCount&quot;, (vistedCount +1) + &quot;&quot;);</span><br><span class="line">		// Cookie Timesize</span><br><span class="line">		vistedCpimtC.setMaxAge(365*24*60*60);</span><br><span class="line">		</span><br><span class="line">		// 将Cookie添加到响应客户端中</span><br><span class="line">		response.addCookie(lastVistTimeC);</span><br><span class="line">		response.addCookie(vistedCpimtC);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="登录演示"><a href="#登录演示" class="headerlink" title="登录演示"></a>登录演示</h3><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>Lagin</td>
<td>登录界面</td>
<td>JSP</td>
</tr>
<tr>
<td>LoginServlet</td>
<td>登入验证</td>
<td>Servlet</td>
</tr>
<tr>
<td>LogoutServlet</td>
<td>Cookie注销</td>
<td>Servlet</td>
</tr>
<tr>
<td>ProfileServlet</td>
<td>获取Cookie</td>
<td>Servlet</td>
</tr>
</tbody></table>
<h4 id="Lagin-jsp"><a href="#Lagin-jsp" class="headerlink" title="Lagin.jsp"></a>Lagin.jsp</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;form action=<span class="string">&quot;LoginServlet&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">		user:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span>&gt;&lt;/br&gt;</span><br><span class="line">		Pass:&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">		&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;login&quot;</span>&gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="LoginServlet-java"><a href="#LoginServlet-java" class="headerlink" title="LoginServlet.java"></a>LoginServlet.java</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package Cookie;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.Cookie;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class LoginServlet</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/LoginServlet&quot;)</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public LoginServlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line">		PrintWriter out = response.getWriter();</span><br><span class="line">		</span><br><span class="line">		// user and password</span><br><span class="line">		String name = request.getParameter(&quot;name&quot;);</span><br><span class="line">		String password = request.getParameter(&quot;password&quot;);</span><br><span class="line">		</span><br><span class="line">		// pass or user </span><br><span class="line">		if (password.equals(&quot;admin&quot;)) &#123;</span><br><span class="line">			out.println(&quot;Yes!&quot;);</span><br><span class="line">			out.println(&quot;&lt;br&gt;User&quot; + name);</span><br><span class="line">			</span><br><span class="line">			// Cookie</span><br><span class="line">			Cookie cookie = new Cookie(&quot;name&quot;, name);</span><br><span class="line">			response.addCookie(cookie);		// 添加到响应头</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			out.println(&quot;No!&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).include(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="LogoutServlet-java"><a href="#LogoutServlet-java" class="headerlink" title="LogoutServlet.java"></a>LogoutServlet.java</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package Cookie;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.Cookie;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class LoginServlet</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/LoginServlet&quot;)</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public LoginServlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line">		PrintWriter out = response.getWriter();</span><br><span class="line">		</span><br><span class="line">		// user and password</span><br><span class="line">		String name = request.getParameter(&quot;name&quot;);</span><br><span class="line">		String password = request.getParameter(&quot;password&quot;);</span><br><span class="line">		</span><br><span class="line">		// pass or user </span><br><span class="line">		if (password.equals(&quot;admin&quot;)) &#123;</span><br><span class="line">			out.println(&quot;Yes!&quot;);</span><br><span class="line">			out.println(&quot;&lt;br&gt;User&quot; + name);</span><br><span class="line">			</span><br><span class="line">			// Cookie</span><br><span class="line">			Cookie cookie = new Cookie(&quot;name&quot;, name);</span><br><span class="line">			response.addCookie(cookie);		// 添加到响应头</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			out.println(&quot;No!&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).include(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ProfileServlet-java"><a href="#ProfileServlet-java" class="headerlink" title="ProfileServlet.java"></a>ProfileServlet.java</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package Cookie;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.Cookie;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class LoginServlet</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/LoginServlet&quot;)</span><br><span class="line">public class LoginServlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public LoginServlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.setContentType(&quot;text/html;charset=UTF-8&quot;);</span><br><span class="line">		PrintWriter out = response.getWriter();</span><br><span class="line">		</span><br><span class="line">		// user and password</span><br><span class="line">		String name = request.getParameter(&quot;name&quot;);</span><br><span class="line">		String password = request.getParameter(&quot;password&quot;);</span><br><span class="line">		</span><br><span class="line">		// pass or user </span><br><span class="line">		if (password.equals(&quot;admin&quot;)) &#123;</span><br><span class="line">			out.println(&quot;Yes!&quot;);</span><br><span class="line">			out.println(&quot;&lt;br&gt;User&quot; + name);</span><br><span class="line">			</span><br><span class="line">			// Cookie</span><br><span class="line">			Cookie cookie = new Cookie(&quot;name&quot;, name);</span><br><span class="line">			response.addCookie(cookie);		// 添加到响应头</span><br><span class="line">		&#125; else &#123;</span><br><span class="line">			out.println(&quot;No!&quot;);</span><br><span class="line">			request.getRequestDispatcher(&quot;login.jsp&quot;).include(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="session"><a href="#session" class="headerlink" title="session"></a>session</h2><p>session即HttpSession对象实现会话跟踪技术，而Session和Cookie的区别就是当<code>用户第一次访问服务器的时候将会创建一个session对象，之后将会为其分配一个唯一的会话标识（sessionId）</code>之后将会以<code>&quot;JSESSIONID&quot;作为属性名保存在客户端cookie中</code> </p>
<p><strong>Session 对象</strong></p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>getSession()</td>
<td>返回与此请求关联的当前会话</td>
<td>如果没有则创建一个</td>
</tr>
<tr>
<td>getSession (boolean create)</td>
<td>返回与此请求关联的当前<code>HttpSession</code></td>
<td>或者如果当前没有create为true，则创建一个对象</td>
</tr>
<tr>
<td>getAttribute()</td>
<td>获取指定属性</td>
<td></td>
</tr>
</tbody></table>
<p><strong>Session 接口</strong></p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>getRequestedSessionId()</td>
<td>返回包含session唯一标识符的字符串</td>
<td></td>
</tr>
<tr>
<td>getCreation Time()</td>
<td>返回创建此会话的时间</td>
<td>以格林尼治标准时间1970年1月1日午夜以来的毫秒数来作为单位</td>
</tr>
<tr>
<td>getLastAccessedTime()</td>
<td>返回客户端<code>最后一次</code>发送与此会话相关的请求时间</td>
<td>以格林尼治标准时间1970年1月1日午夜以来的毫秒数来作为单位</td>
</tr>
<tr>
<td>invalidate()</td>
<td>使得此会话无效，之后取消绑定到该会话中的任何对象</td>
<td></td>
</tr>
</tbody></table>
<h3 id="Session-获取用户名"><a href="#Session-获取用户名" class="headerlink" title="Session 获取用户名"></a>Session 获取用户名</h3><p>通过<code>setSession() 和getAttribute()</code>对象，实现了Servlet通过session来获取jsp中用户填写的数据并使用了url重写：</p>
<h4 id="login-jsp"><a href="#login-jsp" class="headerlink" title="login.jsp"></a>login.jsp</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;finstServlet&quot;</span>&gt;</span><br><span class="line">	Username&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;nameuser&quot;</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">````</span><br><span class="line">#### session.java</span><br><span class="line">```java</span><br><span class="line"><span class="keyword">package</span> session;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class secondServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/secondServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">session</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">session</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">		</span><br><span class="line">		<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession(<span class="literal">false</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">uaname</span> <span class="operator">=</span> (String)session.getAttribute(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">		out.println(<span class="string">&quot;Hello:&quot;</span> + uaname);</span><br><span class="line">		</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="finstServlet-java"><a href="#finstServlet-java" class="headerlink" title="finstServlet.java"></a>finstServlet.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> session;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class finstServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/finstServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">attribute</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">attribute</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">		</span><br><span class="line">		<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;nameuser&quot;</span>);</span><br><span class="line">		out.println(<span class="string">&quot;用户: &quot;</span> + name);</span><br><span class="line">		</span><br><span class="line">		<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">		session.setAttribute(<span class="string">&quot;uname&quot;</span>, name);</span><br><span class="line">		</span><br><span class="line">		out.println(<span class="string">&quot;| &lt;a href=&#x27;secondServlet&#x27;&gt;secondServlet&lt;/a&gt;&quot;</span>);</span><br><span class="line">		out.close();</span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="secondServlet-java"><a href="#secondServlet-java" class="headerlink" title="secondServlet.java"></a>secondServlet.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> session;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class secondServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/secondServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">secondservlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">secondservlet</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>();</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse</span></span><br><span class="line"><span class="comment">	 *      response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line">			<span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line"></span><br><span class="line">		<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession(<span class="literal">false</span>);</span><br><span class="line">		<span class="type">String</span> <span class="variable">uaname</span> <span class="operator">=</span> (String) session.getAttribute(<span class="string">&quot;uname&quot;</span>);</span><br><span class="line">		out.println(<span class="string">&quot;Hello:&quot;</span> + uaname);</span><br><span class="line"></span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse</span></span><br><span class="line"><span class="comment">	 *      response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line">			<span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取session-id"><a href="#获取session-id" class="headerlink" title="获取session id"></a>获取session id</h3><p>从Session获取用户名的基础上，我们在finstServlet中加入（<code>getRequestedSessionId</code>）即可获取到session ID：</p>
<h4 id="finstServlet-java-1"><a href="#finstServlet-java-1" class="headerlink" title="finstServlet.java"></a>finstServlet.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> session;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class finstServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/finstServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">firstservlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">firstservlet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">		</span><br><span class="line">		<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;nameuser&quot;</span>);</span><br><span class="line">		out.println(<span class="string">&quot;用户: &quot;</span> + name);</span><br><span class="line">		</span><br><span class="line">		<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">		session.setAttribute(<span class="string">&quot;uname&quot;</span>, name);</span><br><span class="line">		</span><br><span class="line">		out.println(request.getRequestedSessionId());</span><br><span class="line">		</span><br><span class="line">		out.println(<span class="string">&quot;| &lt;a href=&#x27;secondServlet&#x27;&gt;secondServlet&lt;/a&gt;&quot;</span>);</span><br><span class="line">		out.close();</span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="URL重写"><a href="#URL重写" class="headerlink" title="URL重写"></a>URL重写</h2><p>使用url重写的优势在于<code>无论浏览器是否禁用cookie或session</code>，传输都将有效，也不需要在每个页面上提交额外的网关，关于重写url和不重写url的区别可以是：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/Testsp/secondServlet?uname=Adminsitrator">http://localhost:8080/Testsp/secondServlet?uname=Adminsitrator</a></td>
<td>url重写</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/Testsp/secondServlet">http://localhost:8080/Testsp/secondServlet</a></td>
<td>正常url</td>
</tr>
</tbody></table>
<h3 id="重写-secondServlet-java-url"><a href="#重写-secondServlet-java-url" class="headerlink" title="重写 secondServlet.java url"></a>重写 secondServlet.java url</h3><h4 id="finstServlet-java-2"><a href="#finstServlet-java-2" class="headerlink" title="finstServlet.java"></a>finstServlet.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> session;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class finstServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/finstServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">firstservlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">firstservlet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">		</span><br><span class="line">		<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;nameuser&quot;</span>);</span><br><span class="line">		out.println(<span class="string">&quot;用户: &quot;</span> + name);</span><br><span class="line">		</span><br><span class="line">		<span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">		session.setAttribute(<span class="string">&quot;uname&quot;</span>, name);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		out.println(<span class="string">&quot;| &lt;a href=&#x27;secondServlet?uname=&quot;</span> + name + <span class="string">&quot;&#x27;&gt;secondServlet&lt;/a&gt;&quot;</span>);</span><br><span class="line">		out.close();</span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="表单域隐藏"><a href="#表单域隐藏" class="headerlink" title="表单域隐藏"></a>表单域隐藏</h2><p>表单域和上述URL重写区别在于<code>URL重写会将原先 http://localhost:8080/Testsp/secondServlet的链接改为http://localhost:8080/Testsp/secondServlet?uname=Adminsitrator</code>，而隐藏表单域则会将URL重写后的链接写为<code>“http://localhost:8080/Testsp/secondServlet”</code>。表单域的有点则是不管Cookie是否禁用，都合URL重写一样，可以正常使用。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>URL 重写</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/Testsp/secondServlet?uname=Adminsitrator">http://localhost:8080/Testsp/secondServlet?uname=Adminsitrator</a></td>
</tr>
<tr>
<td>表单域隐藏</td>
<td><a target="_blank" rel="noopener" href="http://localhost:8080/Testsp/secondServlet">http://localhost:8080/Testsp/secondServlet</a></td>
</tr>
</tbody></table>
<h3 id="login-jsp-1"><a href="#login-jsp-1" class="headerlink" title="login.jsp"></a>login.jsp</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;finstServlet&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">	Username:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;nameuser&quot;</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="finstServlet-java-3"><a href="#finstServlet-java-3" class="headerlink" title="finstServlet.java"></a>finstServlet.java</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">package session;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line">import javax.servlet.ServletException;</span><br><span class="line">import javax.servlet.annotation.WebServlet;</span><br><span class="line">import javax.servlet.http.HttpServlet;</span><br><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import javax.servlet.http.HttpServletResponse;</span><br><span class="line">import javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Servlet implementation class finstServlet</span><br><span class="line"> */</span><br><span class="line">@WebServlet(&quot;/finstServlet&quot;)</span><br><span class="line">public class firstservlet extends HttpServlet &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">       </span><br><span class="line">    /**</span><br><span class="line">     * @see HttpServlet#HttpServlet()</span><br><span class="line">     */</span><br><span class="line">    public firstservlet() &#123;</span><br><span class="line">        super();</span><br><span class="line">        // TODO Auto-generated constructor stub</span><br><span class="line">    &#125;</span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		response.setContentType(&quot;text/html;charset=utf-8&quot;);</span><br><span class="line">		PrintWriter out = response.getWriter();</span><br><span class="line">		</span><br><span class="line">		String name = request.getParameter(&quot;nameuser&quot;);</span><br><span class="line">		out.print(&quot;User: &quot; + name);	</span><br><span class="line">	/*</span><br><span class="line">		out.print(&quot;&lt;form action=&#x27;secondServlet&#x27;&gt;&quot;);</span><br><span class="line">		out.print(&quot;&lt;input type=&#x27;hidden&#x27; name=&#x27;namer&#x27; value=&#x27;&quot; + name + &quot;&#x27;&gt;&quot;);</span><br><span class="line">		out.print(&quot;&lt;input type=&#x27;submit&#x27; value=&#x27;up&#x27;&gt;&quot;);</span><br><span class="line">		out.print(&quot;&lt;/form&gt;&quot;);</span><br><span class="line">		*/</span><br><span class="line">		out.close();</span><br><span class="line">	&#125; </span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span><br><span class="line">	 */</span><br><span class="line">	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;</span><br><span class="line">		// TODO Auto-generated method stub</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/Java server pages/7.JSP Servlet/">JSP Java Servlet</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/java-server-pages/" rel="tag">java server pages</a>
			</span>
		
	</div>

	

	
		<p>Java Servlet 即“服务器连接器”，主要用于创建Web应用，可在交互式地浏览和生成数据（动态Web内容）。当用户请求一个JSP页面的Web服务器，Servlet会自动生成一个对应的Java对文件。通过编译该Java文件用编译得到的字节码文件在服务器端创建一个<code>Servlet</code>对象。但在项目的实际需求之中，Web服应用需要Servlet对象有特定的功能，需要编写和创建Servlet对象和类就是本章重点介绍的一部分。</p>
<h2 id="部署-Servlet"><a href="#部署-Servlet" class="headerlink" title="部署 Servlet"></a>部署 Servlet</h2><h3 id="相关的接口和类"><a href="#相关的接口和类" class="headerlink" title="相关的接口和类"></a>相关的接口和类</h3><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>protected void doGet(HttpServletRequest request, HttpServletResponse response)</td>
<td>请求指定资源</td>
</tr>
<tr>
<td>protected void doPost(HttpServletRequest request, HttpServletResponse response)</td>
<td>向指定的资源提交要被处理的数据</td>
</tr>
</tbody></table>
<h3 id="创建一个Servlet类"><a href="#创建一个Servlet类" class="headerlink" title="创建一个Servlet类"></a>创建一个Servlet类</h3><h4 id="Eclipse-Web"><a href="#Eclipse-Web" class="headerlink" title="Eclipse Web"></a>Eclipse Web</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class NewFile</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/NewFile&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NewFile</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NewFile</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.getWriter().append(<span class="string">&quot;Served at: &quot;</span>).append(request.getContextPath());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 设置响应的内容类型</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">		out.println(<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">		out.println(<span class="string">&quot;Hello,world!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>需要注意的事情是，Servlet可使用Eclipse Web 内自带的Servlet类型文件进行直接的创建，Servlet类必须要有一个包名，不然的话不是一个完整的Servlet类文件。在生成Servlet的同时，Eclipse会自动创建和部署有关的xml文件信息，通常该文件名称为<code>web.xml</code>。</p>
<h4 id="WebServlet"><a href="#WebServlet" class="headerlink" title="@WebServlet"></a>@WebServlet</h4><p>@WebServlet用于将一个类声明为<code>Servlet</code>对象，该注解将会在开始运行服务器时将部署时被Web容器根据Servlet对象进行处理.<code>@WebServlet (name = &quot;newfile&quot;, urlPatterns = &#123;&quot;newfile&quot;&#125;)</code> 有兴趣的读者可自行进行了解或学习。</p>
<h2 id="Servlet-生命周期"><a href="#Servlet-生命周期" class="headerlink" title="Servlet 生命周期"></a>Servlet 生命周期</h2><p>一个Servlet生命周期主要分为三个过程，分别为：<code>初始化对象（int）、方法响应请求(service)、对象消亡(destroy)</code>，也就是说当Servlet对象第一次被请求加载的时候会创建一个Servlet对象，主要调用<code>int()</code>方法进行初始化。Service()方法响应请求，创建的Servlet对象之后调用service()方法响应客户端进行请求。当服务器进行关闭时，Servlet对象会调用<code>destroy()</code>方法来使得对象销毁。</p>
<h3 id="三个周期输出"><a href="#三个周期输出" class="headerlink" title="三个周期输出"></a>三个周期输出</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class NewFile</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/NewFile&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">NewFile</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NewFile</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line">    	<span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">    			System.out.println(<span class="string">&quot;初始化时输出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">    	<span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest arg0, HttpServletResponse arg1)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    			System.out.println(<span class="string">&quot;开启服务时输出&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroys</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;结束时输出&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JSP-调用Servlet"><a href="#JSP-调用Servlet" class="headerlink" title="JSP 调用Servlet"></a>JSP 调用Servlet</h2><h3 id="NewFile-jsp"><a href="#NewFile-jsp" class="headerlink" title="NewFile.jsp"></a>NewFile.jsp</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> </span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;form action=<span class="string">&quot;loginServlet&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">	&lt;%-- User = user \ Pass = pass </span><br><span class="line">				submit up \ reset set--%&gt;</span><br><span class="line">	&lt;table&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;User:&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;user&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">				&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;pass:&lt;/td&gt;	</span><br><span class="line">				&lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;pass&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">				&lt;tr&gt;</span><br><span class="line">					&lt;td&gt;&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">					&lt;td&gt;&lt;input type=<span class="string">&quot;reset&quot;</span> value=<span class="string">&quot;set&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">					&lt;/tr&gt;</span><br><span class="line">		&lt;/table&gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="loginServlet-java"><a href="#loginServlet-java" class="headerlink" title="loginServlet.java"></a>loginServlet.java</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class loginServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/loginServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">loginServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">loginServlet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span> <span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    		response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">    		<span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">    		<span class="comment">/*</span></span><br><span class="line"><span class="comment">    		 * Name</span></span><br><span class="line"><span class="comment">    		 * User</span></span><br><span class="line"><span class="comment">    		 */</span></span><br><span class="line">    		<span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    		<span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;pass&quot;</span>);</span><br><span class="line">    		out.println(<span class="string">&quot;&lt;html&gt;&lt;body&gt;&quot;</span>);</span><br><span class="line">    		</span><br><span class="line">    		<span class="keyword">if</span> (name == <span class="literal">null</span> || name.length() ==<span class="number">0</span>) &#123;</span><br><span class="line">    				out.println(<span class="string">&quot;user null&quot;</span>);</span><br><span class="line">    		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(password == <span class="literal">null</span> || name.length() == <span class="number">0</span>) &#123;</span><br><span class="line">    				out.println(<span class="string">&quot;pass null&quot;</span>);</span><br><span class="line">    		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(name.length() &gt; <span class="number">0</span> &amp;&amp; password.length() &gt;<span class="number">0</span>) &#123;</span><br><span class="line">    			<span class="keyword">if</span>(name.equals(<span class="string">&quot;sun&quot;</span>) &amp;&amp; password.equals(<span class="string">&quot;kun&quot;</span>)) &#123;</span><br><span class="line">    				out.println(<span class="string">&quot;ok&quot;</span>);</span><br><span class="line">    			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    				out.println(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">    			&#125;</span><br><span class="line">    		&#125;</span><br><span class="line">    		out.println(<span class="string">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		response.getWriter().append(<span class="string">&quot;Served at: &quot;</span>).append(request.getContextPath());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>getParameter</td>
<td>获取input输出数据</td>
</tr>
</tbody></table>
<h2 id="Servlet-MVC"><a href="#Servlet-MVC" class="headerlink" title="Servlet MVC"></a>Servlet MVC</h2><p>MVC即“Model、View、Controller”的缩写，分别代表Web应用程序的三种职责，即：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>模型</td>
<td>用于存储数据以及处理用户请求的业务能力</td>
<td>一个或多个JavaBean对象、用于存储数据（实体模型）和处理业务逻辑</td>
</tr>
<tr>
<td>页面</td>
<td>向控制器提交数据，显示模型中的数据</td>
<td>一个或多个Jsp页面，向Servlet提交数据和为模型提供数据显示（JSP主要使用HTML来标记JavaBean来显示数据）</td>
</tr>
<tr>
<td>Servlet</td>
<td>根据页面提出的请求来判断将请求和数据交给那个模型中处理，处理后的那个页面更新显示</td>
<td>一个或多个Servlet对象，根据页面提交的请求进行控制。（即将请求转发给处理业务逻辑的JavaBean，并将处理结果存放在JavaBean中，市输出给视图显示）</td>
</tr>
</tbody></table>
<h3 id="JSP、Servlet、JavaBean实现MVC"><a href="#JSP、Servlet、JavaBean实现MVC" class="headerlink" title="JSP、Servlet、JavaBean实现MVC"></a>JSP、Servlet、JavaBean实现MVC</h3><p>通过使用JSP、Servlet、JavaBean来实现i个简单的MVC用户登录验证程序，其中包括MVC<code>模型、页面、Servlet</code>：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>User</td>
<td>用于创建模型，存储用户信息</td>
<td>JAVA</td>
</tr>
<tr>
<td>UserCheck</td>
<td>判断用户名和密码是否正确</td>
<td></td>
</tr>
<tr>
<td>LoginCheck</td>
<td>用于完成请求控制</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>loginCheak.jsp</td>
<td>用于编写登入界面</td>
<td>JSP</td>
</tr>
<tr>
<td>loginOk.jsp</td>
<td>登录成功页面</td>
<td></td>
</tr>
</tbody></table>
<h4 id="User-java"><a href="#User-java" class="headerlink" title="User.java"></a>User.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String password;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>&#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span>  String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> password;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span>  <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.password = password;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="UserCheck-Service"><a href="#UserCheck-Service" class="headerlink" title="UserCheck (Service)"></a>UserCheck (Service)</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> demofile.User;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserCheck</span> &#123;</span><br><span class="line">	<span class="keyword">public</span>  <span class="type">boolean</span> <span class="title function_">validate</span><span class="params">(User user)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span>(user!=<span class="literal">null</span>&amp;&amp;user.getName().equals(<span class="string">&quot;Sun&quot;</span>)) &#123;</span><br><span class="line">             <span class="keyword">if</span>(user.getPassword().equals(<span class="string">&quot;kun&quot;</span>))<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">             <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="LoginCheck-Servlet"><a href="#LoginCheck-Servlet" class="headerlink" title="LoginCheck (Servlet)"></a>LoginCheck (Servlet)</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> servlet;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> javax.servlet.RequestDispatcher;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> service.UserCheck;</span><br><span class="line"><span class="keyword">import</span> demofile.User;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class LoginCheckServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(name=&quot;LoginCheckServlet&quot;,urlPatterns= &#123;&quot;/LoginCheckServlet&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheck</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">       </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> HttpServlet#HttpServlet()</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LoginCheck</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		 doPost(request, response);</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@see</span> HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">          request.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">          <span class="type">String</span> <span class="variable">nameuser</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;nameuser&quot;</span>);</span><br><span class="line">          <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">          User user=<span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">         user.setName(nameuser);</span><br><span class="line">         user.setPassword(password);</span><br><span class="line">         UserCheck uc=<span class="keyword">new</span> <span class="title class_">UserCheck</span>();</span><br><span class="line">         <span class="keyword">if</span>(uc.validate(user)) &#123;</span><br><span class="line">        	 request.setAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">        	 <span class="type">RequestDispatcher</span> <span class="variable">dis</span> <span class="operator">=</span>request.getRequestDispatcher(<span class="string">&quot;loginOk.jsp&quot;</span>);</span><br><span class="line">        	 dis.forward(request, response);</span><br><span class="line">         &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        	 response.sendRedirect(<span class="string">&quot;loginCheck.jsp&quot;</span>); </span><br><span class="line">         &#125;</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="loginCheak-Jsp"><a href="#loginCheak-Jsp" class="headerlink" title="loginCheak (Jsp)"></a>loginCheak (Jsp)</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;loginCheck.jsp&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;form action=<span class="string">&quot;LoginCheckServlet&quot;</span> methods=<span class="string">&quot;get&quot;</span>&gt;</span><br><span class="line">   &lt;table&gt;</span><br><span class="line">   &lt;tr&gt;</span><br><span class="line">   &lt;td&gt;User：&lt;/td&gt;</span><br><span class="line">   &lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;nameuser&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">   &lt;/tr&gt;</span><br><span class="line">   &lt;tr&gt;</span><br><span class="line">   &lt;td&gt;Pass：&lt;/td&gt;</span><br><span class="line">   &lt;td&gt;&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">   &lt;/tr&gt;</span><br><span class="line">   &lt;tr&gt;</span><br><span class="line">   &lt;td&gt;&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;Up&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">   &lt;td&gt;&lt;input type=<span class="string">&quot;reset&quot;</span> value=<span class="string">&quot;Set&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">   &lt;/tr&gt;</span><br><span class="line">   &lt;/table&gt;</span><br><span class="line">   &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="loginOK-Jsp"><a href="#loginOK-Jsp" class="headerlink" title="loginOK (Jsp)"></a>loginOK (Jsp)</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">    &lt;%<span class="meta">@page</span> <span class="keyword">import</span>=<span class="string">&quot;demofile.User&quot;</span> %&gt;</span><br><span class="line">&lt;!DOCTYPE html<span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">&lt;meta http-equiv=&quot;</span>Content-Type<span class="string">&quot; content=&quot;</span>text/html; charset=UTF-<span class="number">8</span><span class="string">&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;title&gt;loginSuccess.jsp&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;jsp:useBean id=&quot;</span>user<span class="string">&quot; type=&quot;</span>demofile.User<span class="string">&quot; scope=&quot;</span>request<span class="string">&quot;/&gt;</span></span><br><span class="line"><span class="string">    User:&lt;jsp:getProperty property=&quot;</span>name<span class="string">&quot; name=&quot;</span>user<span class="string">&quot;/&gt; success！</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/Java server pages/6.JSP Bean/">JSP Bean</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/java-server-pages/" rel="tag">java server pages</a>
			</span>
		
	</div>

	

	
		<p>JavaBean是遵循一定标准，用Java语言别编写的类，该类的实例称为一个JavaBean，JavaBean主要遵循了一下约定:</p>
<ol>
<li>有一个无参数的构造函数;</li>
<li>可序列化</li>
<li>提供设置和获取属性的方法，（称之为get和set方法）</li>
</ol>
<p>总之，编写玩一个JavaBean就是编写一个Java类，在编写的过程中，该类必须引入包名<code>package com.bean</code>。通过JavaBean可以将许多<strong>对象封装成一个对象</strong>，因此可以从多个位置访问该对象从而易于维护。</p>
<h2 id="Bean-方法"><a href="#Bean-方法" class="headerlink" title="Bean 方法"></a>Bean 方法</h2><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>useBean</td>
<td>连接Bean 类</td>
<td></td>
</tr>
<tr>
<td>setProperty</td>
<td>向Bean类中的构造方法插入数据</td>
<td></td>
</tr>
<tr>
<td>getProperty</td>
<td>访问Bean类中的构造方法数据</td>
<td></td>
</tr>
</tbody></table>
<h2 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h2><h3 id="创建一个JavaBean类"><a href="#创建一个JavaBean类" class="headerlink" title="创建一个JavaBean类"></a>创建一个JavaBean类</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br><span class="line">	<span class="keyword">private</span> String id;        </span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Demo</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.id=id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name=name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="访问与写入JavaBean构造方法"><a href="#访问与写入JavaBean构造方法" class="headerlink" title="访问与写入JavaBean构造方法"></a>访问与写入JavaBean构造方法</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String args[])</span> &#123;</span><br><span class="line">		<span class="type">Demo</span> <span class="variable">demo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo</span>();    <span class="comment">// 实例化类</span></span><br><span class="line">		demo.setId(<span class="string">&quot;10&quot;</span>)    <span class="comment">// 设置setId对象值</span></span><br><span class="line">		demo.setName(<span class="string">&quot;Name = Yes&quot;</span>);    <span class="comment">// 设置setName值</span></span><br><span class="line"></span><br><span class="line">		System.out.println(demo.getId());    <span class="comment">// 输出getId值</span></span><br><span class="line">		System.out.println(demo.getName());    <span class="comment">// 输出getName值</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JspBean"><a href="#JspBean" class="headerlink" title="JspBean"></a>JspBean</h2><h3 id="创建一个JspBean类"><a href="#创建一个JspBean类" class="headerlink" title="创建一个JspBean类"></a>创建一个JspBean类</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> demofile;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> String username;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> username;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.username = username;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="访问与写入JspBean构造方法"><a href="#访问与写入JspBean构造方法" class="headerlink" title="访问与写入JspBean构造方法"></a>访问与写入JspBean构造方法</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> </span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;NewFile.jsp&lt;/p&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;%-- 连接 Java Bean类 --%&gt;</span><br><span class="line">&lt;jsp:useBean id=<span class="string">&quot;demo&quot;</span> class=<span class="string">&quot;demofile.Demo&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-- 向JSP name构造函数插入数据 --%&gt;</span><br><span class="line">&lt;jsp:setProperty property=<span class="string">&quot;name&quot;</span> name=<span class="string">&quot;demo&quot;</span> value=<span class="string">&quot;Admin&quot;</span> /&gt;</span><br><span class="line">&lt;jsp:setProperty property=<span class="string">&quot;username&quot;</span> name=<span class="string">&quot;demo&quot;</span> value=<span class="string">&quot;Administrator&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%-- 访问JSP Bean类 --%&gt;</span><br><span class="line">&lt;p&gt;名称:&lt;jsp:getProperty property=<span class="string">&quot;name&quot;</span> name=<span class="string">&quot;demo&quot;</span>/&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;帐号:&lt;jsp:getProperty property=<span class="string">&quot;username&quot;</span> name=<span class="string">&quot;demo&quot;</span>/&gt;&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/Java server pages/5.JSP 四种作用域/">JSP 四种作用域</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/java-server-pages/" rel="tag">java server pages</a>
			</span>
		
	</div>

	

	
		<p>对象的作用域就是对象的<strong>生命周期和可访问性</strong>，在JSP中<strong>主要拥有四种作用域</strong>，即：页面域、请求域、会话域、应用域。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>SM</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>页面域 （page scope）</td>
<td>页面域的生命周期是指页面的执行时间</td>
<td>存储在页面域的对象<strong>只能在他所在的页面进行访问</strong>。</td>
</tr>
<tr>
<td>请求域 （request scope）</td>
<td>请求域的生命周期是指一次的请求过程</td>
<td>存储在请求域之中的对象只能在<strong>请求过程中才能访问</strong></td>
</tr>
<tr>
<td>会话域 （session scope）</td>
<td>会话域的生命周期是指莫个客户端与服务器连接的所用时间</td>
<td>客户端在第一次访问服务器时会创建绘画，在会话过期之前，存储在会话域中的对象都可以被访问</td>
</tr>
<tr>
<td>应用域 （application scope）</td>
<td>服务器开始执行服务到服务器关闭的时间就是应用域的生存时间</td>
<td>存储在应用域中的对象在整个程序运行期间可以被所有的JSP和服务器连接器（Servlet）共享访问。</td>
</tr>
</tbody></table>
<h3 id="作用与对应函数"><a href="#作用与对应函数" class="headerlink" title="作用与对应函数"></a>作用与对应函数</h3><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>页面域</td>
</tr>
<tr>
<td>requesteContext</td>
<td>请求域</td>
</tr>
<tr>
<td>sessionContext</td>
<td>会话域</td>
</tr>
<tr>
<td>applicationContext</td>
<td>应用域</td>
</tr>
</tbody></table>
<h4 id="页面域"><a href="#页面域" class="headerlink" title="页面域"></a>页面域</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% </span><br><span class="line">    <span class="type">int</span> <span class="variable">pagecontext</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">	<span class="comment">// page</span></span><br><span class="line">	<span class="keyword">if</span> (pageContext.getAttribute(<span class="string">&quot;pageContext&quot;</span>) != <span class="literal">null</span>) &#123;</span><br><span class="line">		pagecontext = Integer.parseInt(pageContext.getAttribute(<span class="string">&quot;pageContext&quot;</span>).toString());</span><br><span class="line">		pagecontext++;</span><br><span class="line">	&#125;</span><br><span class="line">	    <span class="comment">// 设置属性</span></span><br><span class="line">		pageContext.setAttribute(<span class="string">&quot;pageCount&quot;</span>, pagecontext);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;p&gt;page:&lt;%=pagecontext %&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h4 id="请求域"><a href="#请求域" class="headerlink" title="请求域"></a>请求域</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    	<span class="type">int</span> <span class="variable">requestcontext</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (request.getAttribute(<span class="string">&quot;requestContext&quot;</span>) !=<span class="literal">null</span>) &#123;</span><br><span class="line">		requestcontext = Integer.parseInt(request.getAttribute(<span class="string">&quot;requestContext&quot;</span>).toString());</span><br><span class="line">		requestcontext++;</span><br><span class="line">	&#125;</span><br><span class="line">	request.setAttribute(<span class="string">&quot;requestContext&quot;</span>, requestcontext);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;p&gt;request:&lt;%=requestcontext %&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h4 id="会话域"><a href="#会话域" class="headerlink" title="会话域"></a>会话域</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    	<span class="type">int</span> <span class="variable">sessioncontext</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (session.getAttribute(<span class="string">&quot;sessionContext&quot;</span>) !=<span class="literal">null</span>) &#123;</span><br><span class="line">		sessioncontext = Integer.parseInt(session.getAttribute(<span class="string">&quot;sessionContext&quot;</span>).toString());</span><br><span class="line">		sessioncontext++;</span><br><span class="line">		&#125;</span><br><span class="line">	session.setAttribute(<span class="string">&quot;sessionCount&quot;</span>,sessioncontext);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;p&gt;session:&lt;%=sessioncontext %&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>会话域访问范围为当前浏览器的绘画，因此刷新页面访问会计数增加，但是新开浏览器时则会重置为0；</p>
<h4 id="应用域"><a href="#应用域" class="headerlink" title="应用域"></a>应用域</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	<span class="type">int</span> <span class="variable">applicationcontext</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (application.getAttribute(<span class="string">&quot;applicationContext&quot;</span>) !=<span class="literal">null</span>) &#123;</span><br><span class="line">		applicationcontext = Integer.parseInt(application.getAttribute(<span class="string">&quot;applicationContext&quot;</span>).toString());</span><br><span class="line">		applicationcontext++;</span><br><span class="line">	&#125;</span><br><span class="line">	application.setAttribute(<span class="string">&quot;applicationContext&quot;</span>,applicationcontext);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;p&gt;application:&lt;%=applicationcontext %&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>应用域为整个应用，只要服务器不停止运行，计数就会累计进行增加</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/java/Java server pages/4.JSP 内置对象/">JSP 内置对象</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/java/" rel="tag">java</a> <a class="article__tag-none-link" href="/tags/java-server-pages/" rel="tag">java server pages</a>
			</span>
		
	</div>

	

	
		<p>内置对象是值这些对象在Java Server Pages页面中不需要声明和实例化，可以直接在Java程序片和Java表达式中部分使用，通常这种对象被称之为“Jsp内置对象”。</p>
<p>常用的JSP内置对象主要分为request、responese、out、session、application、pageContent、page、config、exception等内置对象的使用方法。</p>
<h2 id="四大类，九大对象"><a href="#四大类，九大对象" class="headerlink" title="四大类，九大对象"></a>四大类，九大对象</h2><p>JSP内置对象由WEB服务器负责实现和股哪里，JSP九个功能强大的内置对象，主要分为四大类</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>input &#x2F; output</td>
<td>request 、response、out</td>
<td>作为客户端和服务器之间的通信桥梁</td>
</tr>
<tr>
<td></td>
<td>request</td>
<td>表示客户端对服务器端发送请求</td>
</tr>
<tr>
<td></td>
<td>response</td>
<td>表示服务器对客户端的响应</td>
</tr>
<tr>
<td></td>
<td>out</td>
<td>负责吧处理结果输出到客户端</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>context</td>
<td>session、application、pageContext</td>
<td>与上下文（Context）有关的内置对象</td>
</tr>
<tr>
<td></td>
<td>session</td>
<td>表示浏览器与服务器会话的上下文环境</td>
</tr>
<tr>
<td></td>
<td>application</td>
<td>表示应用程序的上下文环境</td>
</tr>
<tr>
<td></td>
<td>pageContext</td>
<td>表示当前JSP页面上的上下文环境</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>servlet</td>
<td>page、config</td>
<td></td>
</tr>
<tr>
<td></td>
<td>page</td>
<td>表示JSP文件转换为Java文件后的Servlet对象</td>
</tr>
<tr>
<td></td>
<td>config</td>
<td>表示JSP 文件转换JAVA文件后的服务连接器（Servlet）</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>error</td>
<td>exception</td>
<td>当JSP页面发生错误时将产生异常，而该对象就是用于处理这个异常的</td>
</tr>
</tbody></table>
<h3 id="request"><a href="#request" class="headerlink" title="request"></a>request</h3><h4 id="request-内置对象常用方法"><a href="#request-内置对象常用方法" class="headerlink" title="request 内置对象常用方法"></a>request 内置对象常用方法</h4><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>Object getAttribute(String name)</td>
<td>返回制定属性的属性值</td>
</tr>
<tr>
<td>Enumeration getAttributeNames()</td>
<td>返回所有可用的属性名枚举</td>
</tr>
<tr>
<td>String getCharacterEncoding()</td>
<td>返回字符编码格式</td>
</tr>
<tr>
<td>int getContentLength()</td>
<td>返回请求体字节数</td>
</tr>
<tr>
<td>String getContentType()</td>
<td>返回请求体的MIME类型</td>
</tr>
<tr>
<td>ServletInputStream getInputStream()</td>
<td>返回请求提中一行的二进制流</td>
</tr>
<tr>
<td>String getParameter(String name)</td>
<td>获取提交数据</td>
</tr>
<tr>
<td>Enumeration getParameterNames()</td>
<td>可用参数名的枚举</td>
</tr>
<tr>
<td>String[] getParameterValues(String name)</td>
<td>返回包含参数Name所有值的数组</td>
</tr>
<tr>
<td>String getProtocol()</td>
<td>返回请求用的协议类型及版本号</td>
</tr>
<tr>
<td>String getServerName()</td>
<td>返回接受请求 服务器主机名</td>
</tr>
<tr>
<td>int getServerPort()</td>
<td>返回服务器接受此请求所用的端口号</td>
</tr>
<tr>
<td>String getRemoteAddr()</td>
<td>返回发送此请求的客户端IP地址</td>
</tr>
<tr>
<td>String getRemoteHost()</td>
<td>返回发送此请求的客户端主机名</td>
</tr>
<tr>
<td>void setAttribute (String key,Object obj)</td>
<td>设置属性的属性值</td>
</tr>
<tr>
<td>String getRealPatch(String path)</td>
<td>返回一个虚拟路径的真实路径</td>
</tr>
</tbody></table>
<h5 id="request-getParameter-String-name-获取提交数据"><a href="#request-getParameter-String-name-获取提交数据" class="headerlink" title="request.getParameter(String name) 获取提交数据"></a>request.getParameter(String name) 获取提交数据</h5><h6 id="NewFile-jsp"><a href="#NewFile-jsp" class="headerlink" title="NewFile.jsp"></a>NewFile.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;NewFile1.jsp&quot;</span>&gt;                </span><br><span class="line">	&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;data&quot;</span>&gt;                            </span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h6 id="NewFile1-jsp"><a href="#NewFile1-jsp" class="headerlink" title="NewFile1.jsp"></a>NewFile1.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	<span class="type">String</span> <span class="variable">requestdata</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;data&quot;</span>);            <span class="comment">// 返回data输入的信息</span></span><br><span class="line">	out.println(requestdata);                                                       <span class="comment">// 输出返回时的信息</span></span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="String-getParameterValues-String-args-返回参数名称的所有参数名"><a href="#String-getParameterValues-String-args-返回参数名称的所有参数名" class="headerlink" title="String[] getParameterValues(String args) 返回参数名称的所有参数名"></a>String[] getParameterValues(String args) 返回参数名称的所有参数名</h5><h6 id="NewFile-jsp-1"><a href="#NewFile-jsp-1" class="headerlink" title="NewFile.jsp"></a>NewFile.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;NewFile1.jsp&quot;</span>&gt;</span><br><span class="line">	城市:&lt;br/&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;data&quot;</span> value=<span class="string">&quot;Beijing&quot;</span>/&gt;Beijing</span><br><span class="line">	&lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;data&quot;</span> value=<span class="string">&quot;Shenzhen&quot;</span>/&gt;Shenzhen</span><br><span class="line">	&lt;input type=<span class="string">&quot;checkbox&quot;</span> name=<span class="string">&quot;data&quot;</span> value=<span class="string">&quot;Jilin&quot;</span>/&gt;Jilin</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h6 id="NewFile1-jsp-1"><a href="#NewFile1-jsp-1" class="headerlink" title="NewFile1.jsp"></a>NewFile1.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">城市:&lt;br&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	String Cities[] = request.getParameterValues(<span class="string">&quot;data&quot;</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> <span class="variable">one</span> <span class="operator">=</span><span class="number">0</span>; one &lt; Cities.length; one++) &#123;</span><br><span class="line">		out.println(Cities[one] + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><p>当客户端请求服务器的一个页面时会提交一个HTTP请求，服务器收到请求后返回一个HTTP响应。之后<code>request</code>进行封装，与request对象相互映照的是<code>response</code>对象。</p>
<h4 id="动态改变-contentType值-setContentType"><a href="#动态改变-contentType值-setContentType" class="headerlink" title="动态改变 contentType值 (setContentType)"></a>动态改变 contentType值 (setContentType)</h4><p>JSP页面使用Page指令标记了设置页面的contentType属性值，response对象按照此属性值的方式对客户端作出相应，page指令中只能为contentType属性指定一个值，如果改变值可以通过response对象调用一个<code>setContentTyoe(String s)</code>方法来重新设置contentType的属性值。<br>客户端通过单击页面上的不同按钮可以改变页面响应的MIME类习惯，当点击word按钮时，jsp页面动态改变contentType的属性值为<code>application/msword</code>，从而启动本地Word软件来显示当前页面内容：</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">&lt;p&gt;Hello,response&lt;/p&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;word&quot;</span> name=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">	&lt;%</span><br><span class="line">	<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;submit&quot;</span>);</span><br><span class="line">	<span class="keyword">if</span> (<span class="string">&quot;word&quot;</span>.equals(str)) &#123;</span><br><span class="line">	    <span class="comment">// 修改response响应为msword</span></span><br><span class="line">		response.setContentType(<span class="string">&quot;application/msword&quot;</span>);                </span><br><span class="line">	&#125;</span><br><span class="line">	%&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="setHeader-String-name-String-value-响应表头"><a href="#setHeader-String-name-String-value-响应表头" class="headerlink" title="setHeader(String name,String value) 响应表头"></a>setHeader(String name,String value) 响应表头</h4><p>response可以通过setHeader(String name,String value)来设置指定名字的HTML文件头值，以用于操作HTTP文件头。如实现每页三秒刷新一次，那么可以使用&#96;&#96;&#96;setHeader(“refesh”,”3”)即可。</p>
<h5 id="每三秒刷新一次-setHeader"><a href="#每三秒刷新一次-setHeader" class="headerlink" title="每三秒刷新一次 (setHeader)"></a>每三秒刷新一次 (setHeader)</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	out.println(<span class="string">&quot;Hello,world&quot;</span>);</span><br><span class="line">	response.setHeader(<span class="string">&quot;refresh&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h6 id="三秒跳转"><a href="#三秒跳转" class="headerlink" title="三秒跳转"></a>三秒跳转</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	out.println(<span class="string">&quot;3m -&gt;NewFile.jsp&quot;</span>);</span><br><span class="line">	response.setHeader(<span class="string">&quot;refresh&quot;</span>,<span class="string">&quot;3;url=NewFile.jsp&quot;</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<p>利用response对象的<code>setHeader</code>方法来实现3秒后跳转至“NewFile.jsp”文件之中。</p>
<h5 id="重定向-sendRedirect"><a href="#重定向-sendRedirect" class="headerlink" title="重定向 (sendRedirect)"></a>重定向 (sendRedirect)</h5><p>需要将当前页面跳转至另外一个页面时，即实现HTML中的<code>&lt;a&gt;</code>效果，可以使用reponse对象的<code>sendRedirect(String url)</code>方法进行重定向。</p>
<h6 id="NewFile-jsp-2"><a href="#NewFile-jsp-2" class="headerlink" title="NewFile.jsp"></a>NewFile.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">&quot;NewFile1.jsp&quot;</span> method=<span class="string">&quot;post&quot;</span> name=form&gt;</span><br><span class="line">	&lt;p&gt;password&lt;/p&gt;</span><br><span class="line">	&lt;br&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;pass&quot;</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">	&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<h6 id="NewFile1-jsp-2"><a href="#NewFile1-jsp-2" class="headerlink" title="NewFile1.jsp"></a>NewFile1.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;pass&quot;</span>);</span><br><span class="line">	<span class="keyword">if</span> (!<span class="string">&quot;12345&quot;</span>.equals(str)) &#123;</span><br><span class="line">		response.sendRedirect(<span class="string">&quot;NewFile.jsp&quot;</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		out.println(<span class="string">&quot;Hello,world!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h5 id="forward"><a href="#forward" class="headerlink" title="forward"></a>forward</h5><p>forward和上述response对象的区别在于，<code>forward</code>可以不用跳转单纯的在本页显示另一个页面的信息，而<code>response</code>必须以跳转的形式才可以显示另一个解界面信息。</p>
<h6 id="NewFile-jsp-3"><a href="#NewFile-jsp-3" class="headerlink" title="NewFile.jsp"></a>NewFile.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:forward page=<span class="string">&quot;NewFile1.jsp&quot;</span>&gt;</span><br><span class="line">&lt;jsp:param value=<span class="string">&quot;hello&quot;</span> name=<span class="string">&quot;user&quot;</span>/&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure>
<h6 id="NewFile1-jsp-3"><a href="#NewFile1-jsp-3" class="headerlink" title="NewFile1.jsp"></a>NewFile1.jsp</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;NewFile1.jsp&lt;/p&gt;</span><br><span class="line">&lt;%=</span><br><span class="line">	request.getParameter(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>setContentType</td>
<td>修改response响应</td>
<td></td>
</tr>
<tr>
<td>setHeader</td>
<td>操作页面消息头</td>
<td>刷新、跳转</td>
</tr>
<tr>
<td>sendRedirect</td>
<td>实现页面跳转</td>
<td>重定向</td>
</tr>
<tr>
<td>forward</td>
<td>服务器端跳转、但URL保持不变</td>
<td></td>
</tr>
</tbody></table>
<h3 id="out"><a href="#out" class="headerlink" title="out"></a>out</h3><p>在input&#x2F;output类别之中，out主要功能就是负责把处理结果输出到客户端主要共五个方法如下：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>DF</th>
</tr>
</thead>
<tbody><tr>
<td>void clear()</td>
<td>清除缓存区内容</td>
<td></td>
</tr>
<tr>
<td>void clearBuffer()</td>
<td>清除缓存区当前内容</td>
<td></td>
</tr>
<tr>
<td>void flush()</td>
<td>清空流</td>
<td></td>
</tr>
<tr>
<td>void close()</td>
<td>关闭输出流</td>
<td></td>
</tr>
<tr>
<td>void println()</td>
<td>输出各种数据类型</td>
<td></td>
</tr>
<tr>
<td>void newLine()</td>
<td>输出一个换行符号</td>
<td></td>
</tr>
<tr>
<td>int getBufferSize()</td>
<td>返回缓存区字节数</td>
<td>如不设缓存数则为0</td>
</tr>
<tr>
<td>int getRemaining()</td>
<td>返回缓存区剩余大小</td>
<td></td>
</tr>
<tr>
<td>boolean isAutoFlush()</td>
<td>返回缓存区满时是自动清空还是输出异常</td>
<td></td>
</tr>
</tbody></table>
<h4 id="缓存区剩余大小-（out-Remaining）"><a href="#缓存区剩余大小-（out-Remaining）" class="headerlink" title="缓存区剩余大小 （out.Remaining）"></a>缓存区剩余大小 （out.Remaining）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%=out.getRemaining()%&gt; <span class="type">byte</span>&lt;br&gt;&lt;%--返回缓存区剩余大小	 --%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="输出各种类型（println）"><a href="#输出各种类型（println）" class="headerlink" title="输出各种类型（println）"></a>输出各种类型（println）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	out.println(<span class="string">&quot;&lt;p&gt;Hello,world!&lt;/p&gt;&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="session"><a href="#session" class="headerlink" title="session"></a>session</h3><p>浏览器会与Web服务器之间使用HTTP协议进行通信，客户端向服务器发出Request（请求）服务器返回response（响应），之后链接就会被关闭了。而这时，在服务端不必保留链接的相关信息，所以当时的开发人员就想法设想采取某种手段来<code>记录</code>每个客户端的<code>连接信息</code>。通常我们可以使用<code>session</code>来存放有关的链接信息</p>
<h4 id="session对象ID"><a href="#session对象ID" class="headerlink" title="session对象ID"></a>session对象ID</h4><p>当访问一个Web服务器的时候，Web服务器会给每个访问的用户分配和自动创建一个session对象，每个session标识都是一个在当时期间内都具有唯一性的</p>
<h5 id="获取session-ID-getId"><a href="#获取session-ID-getId" class="headerlink" title="获取session ID (getId)"></a>获取session ID (getId)</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	<span class="comment">// Sessiong ID</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> session.getId();</span><br><span class="line">	out.println(string);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	<span class="comment">// Sessiong ID</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> session.getId();</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%=string %&gt;</span><br></pre></td></tr></table></figure>
<p>需要注意的是，session Id在当前服务内是具有唯一性的，比如在“<a target="_blank" rel="noopener" href="http://zsdk.org.cn/%E2%80%9D%E4%B8%8B%E7%9A%84session">http://zsdk.org.cn/”下的session</a> ID是&#96;&#96;&#96;7170F444E491358B191187B0400291C6&#96;&#96;，则在另一个服务器下（<a target="_blank" rel="noopener" href="http://jiangxue.org.cn/%EF%BC%89%E5%8F%88%E6%98%AF%E5%8F%A6%E4%B8%80%E4%B8%AAsession">http://jiangxue.org.cn/）又是另一个session</a> ID了</p>
<h4 id="session-获取与存储数据"><a href="#session-获取与存储数据" class="headerlink" title="session 获取与存储数据"></a>session 获取与存储数据</h4><h6 id="提交数据-NewFile-jsp"><a href="#提交数据-NewFile-jsp" class="headerlink" title="提交数据 (NewFile.jsp)"></a>提交数据 (NewFile.jsp)</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">&quot;NewFile1.jsp&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;tame&quot;</span>&gt;</span><br><span class="line">	&lt;input type=<span class="string">&quot;submit&quot;</span> name=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h6 id="存储数据-NewFile1-jsp"><a href="#存储数据-NewFile1-jsp" class="headerlink" title="存储数据 (NewFile1.jsp)"></a>存储数据 (NewFile1.jsp)</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 存储tame名称标签内数据</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">tame</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;tame&quot;</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h6 id="输出session-数据-NewFile-jsp"><a href="#输出session-数据-NewFile-jsp" class="headerlink" title="输出session 数据 (NewFile.jsp)"></a>输出session 数据 (NewFile.jsp)</h6><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%=tame %&gt;</span><br></pre></td></tr></table></figure>

<h4 id="session-生命周期"><a href="#session-生命周期" class="headerlink" title="session 生命周期"></a>session 生命周期</h4><p>session的生命周期主要依赖于以下几个方式：</p>
<ol>
<li>session对象是否调用<code>invalidata()</code>方法使session ID 失效；</li>
<li>session 对象是否达到session ID的最长等待时间;</li>
<li>用户是否关闭浏览器<br>在session中，也为开发者提供了很多关于session生命周期的对象于方法，分别为：</li>
</ol>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>long getCreation Time()</td>
<td>返回session创建的时间</td>
<td></td>
</tr>
<tr>
<td>long getLastAccessedTime()</td>
<td>返回session用户最后一次请求的时间</td>
<td></td>
</tr>
<tr>
<td>void invalidate()</td>
<td>使session ID失效</td>
<td></td>
</tr>
<tr>
<td>void setMaxInactiveInterval()</td>
<td>设置两次请求的间隔时间</td>
<td>默认为秒</td>
</tr>
<tr>
<td>boolean isNew()</td>
<td>判断用户是否已经进入服务器创建的session</td>
<td></td>
</tr>
</tbody></table>
<h5 id="session-创建时间-（long-getCreation-Time）"><a href="#session-创建时间-（long-getCreation-Time）" class="headerlink" title="session 创建时间 （long getCreation Time）"></a>session 创建时间 （long getCreation Time）</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.*&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.text.*&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">		<span class="comment">//  获取session的创建时间</span></span><br><span class="line">   <span class="type">Date</span> <span class="variable">createTime</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(session.getCreationTime());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 输出session的创建时间</span></span><br><span class="line">		out.println(createTime);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.*&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.text.*&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">		<span class="comment">//  获取session的创建时间</span></span><br><span class="line">   <span class="type">long</span> <span class="variable">sessiontime</span> <span class="operator">=</span> session.getCreationTime();</span><br><span class="line">		<span class="type">Date</span> <span class="variable">timeout</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(sessiontime);</span><br><span class="line">		out.println(timeout);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>需要注意，在此段代码块之中我们引入了<code>&lt;%@ page import=&quot;java.util.*&quot;%&gt;</code>包和<code>&lt;%@ page import=&quot;java.text.*&quot;&gt;</code>。主要用于将获取的session id创建时间转换为Date可读且标准的时间形式。</p>
<h3 id="application"><a href="#application" class="headerlink" title="application"></a>application</h3><p>application主要表示应用程序的上下文环境，而application也提供了一个存储数据的支持，而application可以提供一个共享的对象，这弥补了<code>session</code>的存储对象不足的问题。application用于任何用户访问同一个application对象，而生存周期直到服务器关闭这个application才会被取消：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>public void setAttribute(String key, Object obj)</td>
<td>将参数obj保指定保存在key中</td>
<td>key 为所保存对象的一个关键字</td>
</tr>
<tr>
<td>public void getAttribute(String key)</td>
<td>获取application中关键字是key 的对象</td>
<td></td>
</tr>
<tr>
<td>public void removeAttibute(String key)</td>
<td>从application关键字中删除key所对应的对象</td>
<td></td>
</tr>
<tr>
<td>public Enumeration getAttributeNames()</td>
<td>产生一个枚举对象</td>
<td>该对象可以使用nextElements()遍历</td>
</tr>
<tr>
<td>getMajorVersion()</td>
<td>获取服务器支持Servlet主版本号</td>
<td></td>
</tr>
<tr>
<td>getMinorVersion()</td>
<td>获取服务器支持 Servlet版本号</td>
<td></td>
</tr>
<tr>
<td>getServerInfo()</td>
<td>Java Server pages Tomcat 版本号</td>
<td></td>
</tr>
</tbody></table>
<h4 id="Java-Server-pages-Tomcat-版本号-（getServerInfo）"><a href="#Java-Server-pages-Tomcat-版本号-（getServerInfo）" class="headerlink" title="Java Server pages Tomcat 版本号 （getServerInfo）"></a>Java Server pages Tomcat 版本号 （getServerInfo）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;Java Server pages Tomcat 版本号&lt;/p&gt;</span><br><span class="line">&lt;%=application.getServerInfo()%&gt;</span><br></pre></td></tr></table></figure>

<h4 id="获取当前访问数据"><a href="#获取当前访问数据" class="headerlink" title="获取当前访问数据"></a>获取当前访问数据</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (application.getAttribute(<span class="string">&quot;num&quot;</span>)==<span class="literal">null</span>)</span><br><span class="line">	n=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//  获取application中关键字是num 的对象</span></span><br><span class="line">	<span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> application.getAttribute(<span class="string">&quot;num&quot;</span>).toString();</span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	n=Integer.valueOf(string).intValue()+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">	application.setAttribute(<span class="string">&quot;num&quot;</span>,n);        <span class="comment">// 设置属性的属性值为“num”</span></span><br><span class="line">	out.println(<span class="string">&quot;您是：&quot;</span> + application.getAttribute(<span class="string">&quot;num&quot;</span>) + <span class="string">&quot;位用户&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="pageContext"><a href="#pageContext" class="headerlink" title="pageContext"></a>pageContext</h3><p>pageContext主要表示当前JSP页面上的上下文对象，也表示当前页面运行环境，也就是说，<strong>PageContext可以访问本页面所有的session</strong>，也可以获取本页面所在的application的某一些属性值，虽然是这样，<code>但是在实际的开发过程之中，很少使用pageContexrt</code>调用对象。。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>ServletRequest getRequest()</td>
<td>获取当前JSP页面的请求(request)对象</td>
</tr>
<tr>
<td>ServletResponse getResponse()</td>
<td>获取当前JSP页面的响应(response)对象</td>
</tr>
<tr>
<td>ServletContext getServleContext()</td>
<td>返回当前页面的application对象</td>
</tr>
<tr>
<td>HttpSession getSession()</td>
<td>返回当前页的session对象</td>
</tr>
<tr>
<td>Object getpPage()</td>
<td>返回当前页的page对象</td>
</tr>
<tr>
<td>Exception getException()</td>
<td>返回当前页的Exception对象</td>
</tr>
</tbody></table>
<h4 id="获取-session-数据-（getSession）"><a href="#获取-session-数据-（getSession）" class="headerlink" title="获取 session 数据 （getSession）"></a>获取 session 数据 （getSession）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%    </span><br><span class="line">    <span class="comment">// 设定 session 值</span></span><br><span class="line">	session.setAttribute(<span class="string">&quot;one&quot;</span>,<span class="string">&quot;pageContext&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">    <span class="comment">// 输出session值</span></span><br><span class="line">&lt;%=pageContext.getSession().getAttribute(<span class="string">&quot;one&quot;</span>) %&gt;</span><br></pre></td></tr></table></figure>

<h3 id="page"><a href="#page" class="headerlink" title="page"></a>page</h3><p>page主要表示JSP文件转换为Java文件后的Servlet对象，代表JSP页面本身（即this），因此他可以调用Servlet(服务器连接端)类所定义的方法，在实际的开发过程中，基本上很少使用<code>page</code>对象。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>getServletInfo()</td>
<td>使用this获取本页面说明信息</td>
</tr>
<tr>
<td>((HttpsJspPage)page)getServletInfo()</td>
<td>使用page获取本页的说明信息</td>
</tr>
<tr>
<td>getClass()</td>
<td>返回当前Object类</td>
</tr>
<tr>
<td>int hashCode</td>
<td>返回Object的hash代码</td>
</tr>
</tbody></table>
<h4 id="获取本页面说明信息-（this）"><a href="#获取本页面说明信息-（this）" class="headerlink" title="获取本页面说明信息 （this）"></a>获取本页面说明信息 （this）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%=<span class="built_in">this</span>.getServletInfo() %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="返回当前Object类-（getClass）"><a href="#返回当前Object类-（getClass）" class="headerlink" title="返回当前Object类 （getClass）"></a>返回当前Object类 （getClass）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%=page.getClass() %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="config"><a href="#config" class="headerlink" title="config"></a>config</h3><p>config即页面配置对象，表示JSP 文件转换JAVA文件后的服务连接器（Servlet）的ServletConfig对象，<code>主要存储一些初始数据</code>。config和page对象一样，相比之前的九大对象很少被用到。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>getServletName()</td>
<td>获得JSP页面转义后Servlet服务器连接端的对象名</td>
</tr>
<tr>
<td>getInitParameter()</td>
<td>返回指定名字的初始参数值</td>
</tr>
</tbody></table>
<h4 id="获得JSP页面转义后Servlet服务器连接端的对象名-（getServletName）"><a href="#获得JSP页面转义后Servlet服务器连接端的对象名-（getServletName）" class="headerlink" title="获得JSP页面转义后Servlet服务器连接端的对象名 （getServletName）"></a>获得JSP页面转义后Servlet服务器连接端的对象名 （getServletName）</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%=config.getServletName() %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="exception"><a href="#exception" class="headerlink" title="exception"></a>exception</h3><p>exception主要用于当JSP页面发生错误时将产生异常，而该对象就是用于处理这个异常的，如果JSP页面需要使用该对象，必须将该页面的page指令的inErrorPage属性设置为<code>true</code>，否则无法编译。</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>getMessage()</td>
<td>返回描述异常的消息</td>
</tr>
<tr>
<td>toString()</td>
<td>返回关于异常的简短描述消息</td>
</tr>
<tr>
<td>printStackTrace()</td>
<td>显示异常及栈轨迹</td>
</tr>
<tr>
<td>FillInStackTrace()</td>
<td>重写异常的执行栈轨迹</td>
</tr>
</tbody></table>
<h4 id="返回描述异常的消息"><a href="#返回描述异常的消息" class="headerlink" title="返回描述异常的消息"></a>返回描述异常的消息</h4><h5 id="NewFile-jsp-4"><a href="#NewFile-jsp-4" class="headerlink" title="NewFile.jsp"></a>NewFile.jsp</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> errorPage=<span class="string">&quot;NewFile1.jsp&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	<span class="type">int</span> <span class="variable">one</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">	<span class="type">int</span> <span class="variable">two</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%=</span><br><span class="line">    (one/two)            <span class="comment">// 制造一场错误</span></span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="NewFile1-jsp-4"><a href="#NewFile1-jsp-4" class="headerlink" title="NewFile1.jsp"></a>NewFile1.jsp</h5><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> isErrorPage=<span class="string">&quot;true&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;p&gt;获取错误&lt;/p&gt;</span><br><span class="line">&lt;%=exception.getMessage() %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>





	<span class="different-posts">📖 <a href="/page/18">more posts</a> 📖</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>欢迎来到我的 blog <br><br> 通过 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> 进行构建的，存放在 <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> 上。</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
