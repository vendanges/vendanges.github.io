<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>ç¼ç‘¶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="ç¼ç‘¶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">ç¼ç‘¶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">æ¢¦å…¥ç¼æ¥¼å¯’æœ‰æœˆï¼Œè¡Œè¿‡çŸ³æ ‘å†»æ— çƒŸ</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">ğŸ“– <a href="/page/28">earlier posts</a> ğŸ“–</span>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/19.Laravel Factory SQL/">Laravel Factory SQL</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>Laravel ä¸ºå¼€å‘è€…æä¾›äº† <code>Factory</code>è§£å†³æ•°æ®åº“çš„åˆ›å»ºä»¥åŠå¡«å……ï¼Œè¿™ä¹Ÿåœ¨Laravel v6ä¸­è¢«ç§°ä¹‹ä¸ºâ€œæ•°æ®åº“æµ‹è¯•â€ï¼Œä½†æœ¬æ–‡ä¸­ä¸»è¦æ ¹æ®å®é™…æƒ…å†µæ¥åˆ›å»ºä¸€ä¸ªæ¨¡å‹å·¥å‚ï¼ˆModel factoryï¼‰ã€‚æ¨¡å‹å·¥å‚ä¸»è¦ç”¨äºæ¥<strong>æ–°å»ºæ•°æ®åº“å’Œç›¸åº”çš„æ¨¡å‹</strong>ï¼Œæœ€åæ˜ å°„åœ¨æ•°æ®åº“ä¸­ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œæ•°æ®åº“çš„éšæœºå¡«å……ã€‚</p>
<p>å¦‚æœå°† Laravel Factory ä¸ Java Spring boot ç›¸æ¯”çš„è¯ï¼Œå•çº¯é€šè¿‡æ•°æ®åº“æ˜ å°„æ¥è¿›è¡Œæ¯”è¾ƒï¼Œå› ä¸º Spring æ˜¯æ ¹æ®ä½ åœ¨è¿è¡Œæ—¶ç›´æ¥åˆ¤æ–­æ˜¯å¦åˆ›å»ºå­—æ®µå’Œæ•°æ®åº“çš„ï¼Œå¦‚æœé…ç½®æ­£ç¡®åˆ™åœ¨è¿è¡Œæ—¶<strong>ç›´æ¥ç»™ä½ åˆ›å»º</strong>ï¼Œç›¸æ¯”ä¹‹ä¸‹ Spring è¿˜æ˜¯è¾ƒä¸ºæ–¹ä¾¿çš„ã€‚ä½†æ˜¯å¦‚æœæ ¹æ®æ€»ä½“åŠŸèƒ½æ¥å°†ï¼ŒLaravel Factory å°†ä¼šæ›´ä¸Šä¸€å±‚ï¼Œå› ä¸ºå…¶é»˜è®¤å°† fakerr åº“ä½œä¸ºä¾èµ–é¡¹ï¼Œå³éšç€ Laravel ä¸€èµ·è¿›è¡Œæä¾›ï¼Œå› æ­¤ Factory è¿˜å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œ<strong>éšæœºå¡«å……</strong></p>
<h2 id="åˆ›å»ºæ¨¡å‹"><a href="#åˆ›å»ºæ¨¡å‹" class="headerlink" title="åˆ›å»ºæ¨¡å‹"></a>åˆ›å»ºæ¨¡å‹</h2><p>åœ¨æ­¤ä¹‹å‰ï¼Œå¸Œæœ›æ‚¨å·²ç»é…ç½®äº†æ•°æ®åº“ç›¸å…³çš„æ–‡ä»¶ï¼Œå¦‚æ•°æ®åº“åç§°(dataname)ã€å¸å·(username)ã€å¯†ç ï¼ˆpasswordï¼‰ç­‰é…ç½®çš„æ­£ç¡®ï¼Œä»¥åŠå·²ç»æˆåŠŸæ„å»ºäº†ä¸€ä¸ª Laravel é¡¹ç›®å¹¶ä¿è¯<code>php artisan serv</code>å¯ä»¥æ­£ç¡®çš„è¿è¡Œï¼Œåœ¨æ­¤ä¹‹åæ‚¨å¯ä»¥è¿›è¡Œæ–°å»ºå·¥å‚çš„æ­¥éª¤(create factoryï¼‰ã€‚</p>
<figure class="highlight php"><figcaption><span>artisan make:model Issues -m``` é€šè¿‡ä½¿ç”¨ make:model æ¥åˆ›å»ºä¸€ä¸ªæ¨¡å‹ï¼Œä¹‹åä¼šåœ¨ **/database/migrations/** ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºâ€œ2021_05_07_002215_create_issues_table.phpâ€çš„æ–‡ä»¶ï¼Œä»¥åŠåœ¨```app/```è·¯å¾„ä¸‹æ–°å»ºä¸€ä¸ª**Issues.php**æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡```2021_05_07_002215_create_issues_table.php```æ–‡ä»¶ä¸­å†™å…¥**æ•°æ®åº“è¡¨åå’Œå­—æ®µç±»å‹å’Œåç§°ç­‰**ï¼š</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Schema</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateIssuesTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Run the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="title class_">Schema</span>::<span class="title function_ invoke__">create</span>(<span class="string">&#x27;issues&#x27;</span>, function (Blueprint <span class="variable">$table</span>) &#123;</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">bigIncrements</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;titles&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">dateTime</span>(<span class="string">&#x27;datetimes&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;names&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;category&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;harms&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;paths&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="string">&#x27;types&#x27;</span>);</span><br><span class="line">            <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">timestamps</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reverse the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="title class_">Schema</span>::<span class="title function_ invoke__">dropIfExists</span>(<span class="string">&#x27;issues&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”çš„æ•°æ®åº“å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">create table issues</span><br><span class="line">(</span><br><span class="line">    id         bigint unsigned auto_increment</span><br><span class="line">        primary key,</span><br><span class="line">    titles     text      not null,</span><br><span class="line">    datetimes  datetime  not null,</span><br><span class="line">    names      text      not null,</span><br><span class="line">    category   text      not null,</span><br><span class="line">    harms      text      not null,</span><br><span class="line">    paths      text      not null,</span><br><span class="line">    types      text      not null,</span><br><span class="line">    created_at timestamp null,</span><br><span class="line">    updated_at timestamp null</span><br><span class="line">)</span><br><span class="line">    collate = utf8mb4_unicode_ci;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ˜ å°„æ•°æ®åº“"><a href="#æ˜ å°„æ•°æ®åº“" class="headerlink" title="æ˜ å°„æ•°æ®åº“"></a>æ˜ å°„æ•°æ®åº“</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210507093541.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php artisan migrate</span><br><span class="line">Migrating: 2021_05_07_002215_create_issues_table</span><br><span class="line">Migrated:  2021_05_07_002215_create_issues_table (0.02 seconds)</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬åˆ›å»ºå®Œæ¨¡å‹ï¼ˆcreate modelï¼‰ä¹‹åï¼Œéœ€è¦é€šè¿‡ä½¿ç”¨<code>php artisan migrate</code>æ¥æ˜ å°„åˆ°æ•°æ®åº“ä¸­ï¼Œæ­¤æ—¶æ•°æ®åº“å°†ä¼šç”Ÿæˆå¹¶åˆ›å»ºä¸€ä¸ªåä¸º<code>issues</code>çš„æ•°æ®è¡¨ï¼Œåœ¨æ­¤ä¸‹åŒ…å«äº†å¯¹åº”çš„å­—æ®µåç§°å’Œç›¸åº”ç±»å‹ã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/18.Laravel Blade/">Laravel Blade</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>åœ¨Laravel Bladeå†…ï¼Œå®˜æ–¹æ‰€æä¾›äº†ä¸€ä¸ªç®€æ´ä¸”ä¼˜é›…çš„å‰ç«¯æ¨¡æ¿å¼•æ“ï¼Œä»–å…è®¸ä½ åœ¨blade.phpæ–‡ä»¶å†…å†™å…¥htmlä»¥åŠPHPä»£ç ï¼Œä»–å› ä¸ºæ‰€æœ‰Bladeè¯­æ³•éƒ½ä¼šè¢«ç¼–è¯‘æˆæ­£å¸¸çš„PHPä»£ç å¹¶ç¼“å­˜ï¼Œæ‰€ä»¥é€Ÿåº¦ä¼šç¨å¾®å¿«é‚£ä¹ˆä¸€ç‚¹ã€‚é™¤éåœ¨æ­¤ä¿®æ”¹ï¼ŒæŸåˆ™Bladeæ¨¡æ¿å°†ä¸ä¼šåœ¨æ­¤è¿›è¡Œç¼–è¯‘ï¼Œåœ¨ä¸€èˆ¬çš„æƒ…å†µä¸‹éƒ½ä¼šå°†ä¼šå­˜æ”¾åœ¨<code>/resouces/views</code>ç›®å½•å†…ã€‚</p>
<h2 id="æ¨¡æ¿ç»§æ‰¿"><a href="#æ¨¡æ¿ç»§æ‰¿" class="headerlink" title="æ¨¡æ¿ç»§æ‰¿"></a>æ¨¡æ¿ç»§æ‰¿</h2><p>åœ¨Laravel bladeå†…ï¼Œæ¨¡æ¿ç»§æ‰¿æ˜¯å¸¸è§çš„ä¸€ç§ï¼Œè¿™ç§å†™æ³•åœ¨Laravel oauthå†…ä½¿ç”¨ä¸­ï¼Œå…¶è¯­æ³•å’Œéš”å£Thymeleafæ¨¡æ¿å¼•æ“æ›´åŠ çš„ç®€å•ï¼Œå…¶ä¸­ä¸»è¦åˆ†ä¸ºå®šä¹‰<code>@section</code>ä»¥åŠ<code>@yield</code>æ˜¾ç¤ºç­‰ã€‚Laravelå†…ï¼Œä»¥â€œ@â€ä¸ºå¼€å¤´çš„å°†ä¼šè¢«ç§°ä¹‹ä¸º<code>â€œæŒ‡ä»¤â€</code>ï¼Œé€šè¿‡æŒ‡ä»¤æˆ‘ä»¬å¯ä»¥å®ç°ç»§æ‰¿ã€å¾ªç¯ã€åˆ¤æ–­ç­‰ã€‚</p>
<h3 id="sectionâ€¦â€¦-show-and-yield"><a href="#sectionâ€¦â€¦-show-and-yield" class="headerlink" title="@sectionâ€¦â€¦@show and @yield"></a>@sectionâ€¦â€¦@show and @yield</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/18.laravel%20blade.md/20210228211724552_24845774.png"></p>
<h4 id="index"><a href="#index" class="headerlink" title="index"></a>index</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;-- index.blade.php --&#125;&#125;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;index - @<span class="keyword">yield</span>(<span class="string">&#x27;title&#x27;</span>)&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        @<span class="title function_ invoke__">section</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">            &lt;p&gt;Hello,world!&lt;/p&gt;</span><br><span class="line">        @show</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="inbar"><a href="#inbar" class="headerlink" title="inbar"></a>inbar</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;inbar.blade.php&#125;&#125;</span><br><span class="line">@<span class="keyword">extends</span>(<span class="string">&#x27;index&#x27;</span>)</span><br><span class="line">@<span class="title function_ invoke__">section</span>(<span class="string">&#x27;title&#x27;</span>,<span class="string">&#x27;inbar&#x27;</span>)</span><br><span class="line">@<span class="title function_ invoke__">section</span>(<span class="string">&#x27;h1&#x27;</span>,<span class="string">&#x27;Hello,inbar&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¨¡æ¿ç»§æ‰¿ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨äº†<code>@yield</code>ä»¥åŠ<code>@section</code>æŒ‡ä»¤ï¼Œå…¶ä¸­@yield <strong>ç”¨äºæ˜¾ç¤ºå†…å®¹</strong> ï¼Œè€Œ <strong>@section</strong> å°†ä¼šè¢«ç”¨äºå®šä¹‰ä¸€éƒ¨åˆ†å†…å®¹ã€‚æ‰€ä»¥åœ¨index.blade.phpå†…ï¼Œåœ¨<code>&lt;title&gt;</code>æ ‡ç­¾ä¸­ä½¿ç”¨äº†@yieldå³æ˜¾ç¤ºâ€titleâ€å†…å®¹ï¼Œæ‰€ä»¥åœ¨<code>inbar.blade.php</code>å†…å®¹ç”±â€@sectionâ€æ‰€æŒ‡å®šå®šä¹‰äº†<code>title -&gt; inbar</code>æ‰€ä»¥ä¸<code>indexã€inbar</code>æ‰€ç»„åˆåçš„<strong>index- inbar</strong>çš„æ ‡é¢˜ã€‚</p>
<p>è€Œåœ¨index.blade.php<code>@section</code>æ‰€å®šä¹‰çš„å°†ä¼šè¢«<code>@section(&#39;h1&#39;,&#39;Hello,inbar&#39;)</code>æ‰€æ›¿æ¢ï¼Œè€Œä»¥åæˆ‘ä»¬å°†ä¼šä»‹ç»å¦‚ä½•ä¿ç•™<code>@section</code>æ‰€æ›¿æ¢æ‰çš„å†…å®¹ã€‚</p>
<h3 id="sectionâ€¦â€¦-parentâ€¦â€¦-endsection"><a href="#sectionâ€¦â€¦-parentâ€¦â€¦-endsection" class="headerlink" title="@sectionâ€¦â€¦@parentâ€¦â€¦@endsection"></a>@sectionâ€¦â€¦@parentâ€¦â€¦@endsection</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/18.laravel%20blade.md/20210228214357569_604439134.png"></p>
<p>åœ¨ä¸Šè¿°ä¸€ç« ä¸­æˆ‘ä»¬ä»‹ç»äº†<code>@sectionâ€¦â€¦@showâ€¦â€¦@yield</code>ï¼Œè€Œæ­¤æ¬¡æˆ‘ä»¬å°†ä¼šå¢åŠ ä¸€ä¸ªï¼Œ<code>@parentä»¥åŠ@endsection</code>ï¼Œè¿™ä¸¤ä¸ªæŒ‡ä»¤åˆ†åˆ«æ˜¯ä¿ç•™æ‰€æ›¿æ¢æ‰çš„@sectionä»¥åŠç»“æŸæœ¬æ¬¡æ›¿æ¢å­—æ®µã€‚</p>
<h4 id="index-1"><a href="#index-1" class="headerlink" title="index"></a>index</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;-- index.blade.php --&#125;&#125;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;index - @<span class="keyword">yield</span>(<span class="string">&#x27;title&#x27;</span>)&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        @<span class="title function_ invoke__">section</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">            &lt;p&gt;Hello,world!&lt;/p&gt;</span><br><span class="line">        @show</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="inbar-1"><a href="#inbar-1" class="headerlink" title="inbar"></a>inbar</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;-- inbar.blade.php --&#125;&#125;</span><br><span class="line">@<span class="keyword">extends</span>(<span class="string">&#x27;index&#x27;</span>)</span><br><span class="line">@<span class="title function_ invoke__">section</span>(<span class="string">&#x27;title&#x27;</span>,<span class="string">&#x27;inbar&#x27;</span>)</span><br><span class="line">@<span class="title function_ invoke__">section</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">    @<span class="built_in">parent</span></span><br><span class="line">    &lt;p&gt;Hello,inbar!&lt;/p&gt;</span><br><span class="line">@endsection</span><br></pre></td></tr></table></figure>

<p>æœ¬æ–‡æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ <code>@parent</code> æ¥ä¿ç•™ä½¿ç”¨ <code>@section</code> æŒ‡ä»¤æ‰€æ›¿æ¢æˆ–è¦†ç›–çš„å†…å®¹ï¼Œæ‰€ä»¥é€šè¿‡ä½¿ç”¨æ­¤æŒ‡ä»¤å°†ä¼šä¿ç•™è¦†ç›–çš„å†…å®¹ã€‚è€Œ<code>@sectionâ€¦â€¦@endsection</code>å°†ä¼šä½¿ç”¨<code>@sectionâ€¦â€¦@endsection</code>æ¥ç»“æŸæ›¿æ¢æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯æ ¹æ®ä¸Šè¿°ä½¿ç”¨çš„<code>@section(&#39;h1&#39;,&#39;Hello,inbar&#39;)</code>ã€‚</p>
<h3 id="show-ä¸-endsection"><a href="#show-ä¸-endsection" class="headerlink" title="@show ä¸ @endsection"></a>@show ä¸ @endsection</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/18.laravel%20blade.md/20210228220931993_1506667418.png"></p>
<p>æ ¹æ®å®˜æ–¹çš„è§£é‡Šæ˜¯åœ¨åŒä¸€æ¨¡æ¿å®šä¹‰<code>@section</code>æ—¶ï¼Œä½¿ç”¨<code>@show</code>ï¼Œè€Œåœ¨å­æ¨¡æ¿å³<strong>â€œæ‰©å±•å¸ƒå±€â€</strong>ä¸­ä½¿ç”¨<code>@endsection</code>ä½œä¸ºç»“å°¾ã€‚åœ¨æœ¬æ–‡åŒä¸€æ¨¡æ¿å³index.blade.phpå†…ï¼Œå†™å…¥ä»»ä½•ä¿¡æ¯å³â€œåŒä¸€æ¨¡æ¿â€ï¼Œè€Œå¦‚æœåœ¨é™¤äº†ä»¥<code>index.blade.php</code>å¤–çš„åˆ™æ˜¯å­æ¨¡æ¿ã€‚</p>
<h2 id="extends"><a href="#extends" class="headerlink" title="@extends"></a>@extends</h2><p>é€šè¿‡ä¸Šè¿°ä»‹ç»ï¼Œè¯»è€…å¾—çŸ¥<code>@extends(&#39;index&#39;)</code>ç”¨äºå¼•å…¥å’Œæ‰©å±•è§†å›¾æ‰©å±•åˆ°å¦å¤–ä¸€ä¸ªè§†å›¾å†…ï¼Œå³å°†<code>inbar.blade.php</code>å†…ä½¿ç”¨<code>@extends(&#39;index&#39;)</code>æ¥å¼•å…¥<code>index.blade.php</code>æ–‡ä»¶ã€‚è€Œ<code>&#123;&#123;-- code --&#125;&#125;</code>å°†ä¼šç”¨äºæ³¨é‡Šï¼Œè¿™ä¸htmlæ‰€ä½¿ç”¨çš„<code>&lt;!-- code --&gt;</code>åŒæ„ã€‚</p>
<h3 id="with-â€¦â€¦-title-ï¼ˆcomposerï¼‰"><a href="#with-â€¦â€¦-title-ï¼ˆcomposerï¼‰" class="headerlink" title="with â€¦â€¦ title ï¼ˆcomposerï¼‰"></a>with â€¦â€¦ title ï¼ˆcomposerï¼‰</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/18.laravel%20blade.md/20210228224358478_863214069.png"></p>
<p>åœ¨Laravelä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨composeræ¥è¿›è¡Œæ•°æ®çš„ä¼ é€’ä»¥åŠè·å–å’Œå®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨æ­¤æ–¹æ³•æ¥è¿›è¡Œè§†å›¾ï¼ˆviewï¼‰ã€æ§åˆ¶å™¨ï¼ˆcontrollerï¼‰è¿›è¡Œä¼ é€’ã€‚</p>
<h4 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;inbar&#x27;</span>)-&gt;<span class="title function_ invoke__">with</span>(<span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;Hello,world&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="inbar-blade-php"><a href="#inbar-blade-php" class="headerlink" title="inbar.blade.php"></a>inbar.blade.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;<span class="variable">$title</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ¡ä»¶ä¸å¾ªç¯è¯­å¥"><a href="#æ¡ä»¶ä¸å¾ªç¯è¯­å¥" class="headerlink" title="æ¡ä»¶ä¸å¾ªç¯è¯­å¥"></a>æ¡ä»¶ä¸å¾ªç¯è¯­å¥</h2><h3 id="æ¡ä»¶è¯­æ³•"><a href="#æ¡ä»¶è¯­æ³•" class="headerlink" title="æ¡ä»¶è¯­æ³•"></a>æ¡ä»¶è¯­æ³•</h3><h4 id="php-â€¦â€¦-endphp"><a href="#php-â€¦â€¦-endphp" class="headerlink" title="@php â€¦â€¦ @endphp"></a>@php â€¦â€¦ @endphp</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/18.laravel%20blade.md/20210228230203673_424818097.png"></p>
<p>åœ¨ä¼—å¤šçš„æ•™æä»¥åŠæ–‡æ¡£ä¸­éƒ½ä¼šæ•™ç»™å¤§å®¶ä¸€æ®µ Laravel Bladeå¼•æ“æ¨¡æ¿ï¼Œæ‰€ä»¥æœ¬æ–‡å°†ä¼šä»¥ä¸€ä¸ªiå‰åé¡ºåºæ¥ä»‹ç»<code>@phpâ€¦â€¦@endphp</code>æŒ‡ä»¤ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$value</span>) === <span class="number">1</span>)</span><br><span class="line">    â€¦â€¦</span><br><span class="line">@<span class="keyword">elseif</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$value</span>) === <span class="number">0</span>)</span><br><span class="line"> â€¦â€¦</span><br><span class="line">@<span class="keyword">else</span></span><br><span class="line">    â€¦â€¦</span><br><span class="line">@<span class="keyword">endif</span></span><br></pre></td></tr></table></figure>

<h4 id="ifâ€¦â€¦-elseifâ€¦â€¦-elseâ€¦â€¦-endif"><a href="#ifâ€¦â€¦-elseifâ€¦â€¦-elseâ€¦â€¦-endif" class="headerlink" title="@ifâ€¦â€¦@elseifâ€¦â€¦@elseâ€¦â€¦@endif"></a>@ifâ€¦â€¦@elseifâ€¦â€¦@elseâ€¦â€¦@endif</h4><p>é€šè¿‡ä¸Šè¿°codeä½ å¯èƒ½ä¼šæ›´åŠ ç–‘æƒ‘<code>$value</code>æ˜¯æ€ä¹ˆä¼ è¿‡å»æˆ–æ€ä¹ˆå®šä¹‰çš„ï¼Œæ­¤æ—¶ä½ ä¼šé€šè¿‡ä½¿ç”¨æ§åˆ¶å™¨ã€è·¯ç”±ã€è§†å›¾ä¸­è¿›è¡Œå®šä¹‰æˆ–ä¼ å…¥ï¼Œä¹Ÿè®¸ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨<code>with</code>æ¥é€šè¿‡è·¯ç”±è¿›è¡Œä¼ é€’ï¼Œæœ¬æ–‡æˆ‘ä»¬å‘ŠçŸ¥ä¸‹æœ€ä¸ºç®€å•çš„æ¼”ç¤º<code>@phpâ€¦â€¦@endphp</code>æŒ‡ä»¤çš„ä½œç”¨ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@php</span><br><span class="line">    <span class="variable">$var</span> = <span class="keyword">array</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">@endphp</span><br><span class="line">@<span class="keyword">if</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$var</span>) === <span class="number">1</span>)</span><br><span class="line">    ä¸€ä¸ªæ•°ç»„</span><br><span class="line">@<span class="keyword">elseif</span> (<span class="title function_ invoke__">count</span>(<span class="variable">$var</span>) &gt;= <span class="number">2</span>)</span><br><span class="line">    å¤§äºä¸¤ä¸ªæ•°ç»„</span><br><span class="line">@<span class="keyword">else</span></span><br><span class="line">    éƒ½ä¸æ˜¯</span><br><span class="line">@<span class="keyword">endif</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é€šè¿‡ä»¥ä¸Šcodeå’Œæµç¨‹å›¾çš„æ¼”ç¤ºï¼Œå¯ä»¥æ˜æ˜¾çš„è¡¨ç¤ºå‡º<code>@phpâ€¦â€¦@endphp</code>æ¥å®šä¹‰ä¸€ä¸ªå¹¶å¯Œæœ‰ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«ä¸ºâ€œ1ã€2â€ã€‚ç»è¿‡åˆ¤æ–­è¯­æ³•æ˜¯å¤§äºä¸¤ä¸ªæ•°ç»„çš„ï¼Œæ‰€ä»¥è‡ªç„¶è€Œç„¶çš„è¾“å‡ºä¸º<strong>â€œå¤§äºä¸¤ä¸ªæ•°ç»„â€</strong>ã€‚</p>
<h3 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h3><h4 id="forâ€¦â€¦-foreach"><a href="#forâ€¦â€¦-foreach" class="headerlink" title="@forâ€¦â€¦@foreach"></a>@forâ€¦â€¦@foreach</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/18.laravel%20blade.md/20210228231017638_375148880.png"><br>åœ¨Laravel bladeæ¨¡æ¿å¼•æ“ä¸­ï¼Œä¸ä»…ä»…ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¡ä»¶æŒ‡ä»¤<code>@ifâ€¦â€¦@elseifâ€¦â€¦@elseâ€¦â€¦@endif</code>ï¼Œè‡ªç„¶è€Œç„¶çš„ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªç®€å•çš„å¾ªç¯æŒ‡ä»¤<code>@forâ€¦â€¦@foreach</code>ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">for</span>(<span class="variable">$i</span> = <span class="number">0</span>;<span class="variable">$i</span> &lt; <span class="number">10</span>;<span class="variable">$i</span>++)</span><br><span class="line">    å…±è¾“å‡º &#123;&#123;<span class="variable">$i</span>&#125;&#125; æ¬¡&lt;br&gt;</span><br><span class="line">@<span class="keyword">endfor</span></span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/17.Laravel Homestead/">Laravel Homestead</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>Laravel Homestead ç”±å®˜æ–¹æ‰€å°è£…å¯¹Vagrant boxï¼Œä¸ºå¼€å‘è€…æ‰€æä¾›æ¥ä¸€ä¸ªå®Œç¾çš„å¼€å‘ç¯å¢ƒï¼Œå¿…é¡»è¦åœ¨æœ¬åœ°è¿›è¡Œå®‰è£…ç›¸å…³çš„PHPå¼€å‘ç¯å¢ƒä»¥åŠç›¸å…³æœåŠ¡ã€‚å¦‚æœæˆ‘ä»¬åœ¨æ­¤ä¹‹å‰ä»æœªæ¥è§¦Laravelï¼Œå¯èƒ½ä¼šçŸ¥é“Dockerï¼Œè€ŒLaravelæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Vagrantè¿›è¡Œå®ç°ã€‚</p>
<h2 id="å®‰è£…-vagrant"><a href="#å®‰è£…-vagrant" class="headerlink" title="å®‰è£… vagrant"></a>å®‰è£… vagrant</h2><p>åœ¨Laravelå†…ï¼ŒVagrantæä¾›ä¸€ç§ç®€å•ä¸”ä¼˜é›…çš„æ–¹å¼æ¥ç®¡ç†å’Œé…ç½®è™šæ‹Ÿä¸»æœºï¼Œè€ŒLcaravelHomesteadæ˜¯å®˜æ–¹å°è£…çš„Vagrant boxï¼Œæä¾›äº†ä¸€ä¸ªå®Œç¾çš„å¼€å‘ç¯å¢ƒï¼Œå¹¶ä¸éœ€è¦æœ¬åœ°å®‰è£… PHPä»¥åŠå…¶ä»–æœåŠ¡å™¨åº”ç”¨ã€‚</p>
<h3 id="vagrant-install"><a href="#vagrant-install" class="headerlink" title="vagrant install"></a>vagrant install</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/17.laravel%20homestead.md/20210228162840501_966217017.png"><br>æœ¬æ–‡æˆ‘ä»¬å°†ä¼šä½¿ç”¨ Arch linuxç¯å¢ƒè¿›è¡Œæ„å»ºï¼Œå³pacmanè½¯ä»¶ç®¡ç†åŒ…ï¼Œåœ¨Laravelç¯å¢ƒä¸‹æˆ‘ä»¬å¯ä»¥éå¸¸ç®€å•çš„ä¸‹è½½ vagrantï¼Œå½“ä¸‹è½½å®Œåæˆ‘ä»¬å°†ä¼šä½¿ç”¨ vagrant -vè¿›è¡Œæ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<h3 id="ä¸‹è½½-box"><a href="#ä¸‹è½½-box" class="headerlink" title="ä¸‹è½½ box"></a>ä¸‹è½½ box</h3><p>åœ¨ä½¿ç”¨<code>vagrant box add laravel/homestead</code>æ—¶å°†ä¼šå‡ºç°ä¸‹è½½å¤±è´¥çš„æç¤ºï¼Œé€šå¸¸ä½ ä¼šç­‰å¾…ä¸ªå‡ ä¸ªå°æ—¶ç”šè€…æŒ‚ä¸€æ™šä¸Šçš„ç»“æœéƒ½ä¾ç„¶æ˜¯è¿™ç§é—®é¢˜ã€‚æ‰€ä»¥ä½ éœ€è¦é€šè¿‡è®¿é—®æˆ–ä¸‹è½½ï¼š<code>https://vagrantcloud.com/ubuntu/boxes/xenial64/versions/20190101.0.0/providers/virtualbox.box</code>ï¼Œå°†ä¸‹è½½å®Œåçš„æ–‡ä»¶ä¿å­˜ã€‚</p>
<p>å°†ä¸‹è½½åçš„ xenial-server-cloudimg-amd64-vagrant.box å­˜æ”¾åœ¨ä¸vagrantä¸€èµ·çš„ç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä¼šè¿›å…¥åˆ°vagrantå³â€œ&#x2F;opt&#x2F;vagrantâ€ä¸‹ä½¿ç”¨</p>
<blockquote>
<p>vagrant box add laravel&#x2F;homestead xenial-server-cloudimg-amd64-vagrant.box</p>
</blockquote>
<p>å½“æ‰§è¡Œä¸Šæ–¹å‘½ä»¤åï¼Œæˆ‘ä»¬ä¼šé€šè¿‡ä½¿ç”¨<code>vagrant box list</code>ï¼Œæ¥æŸ¥çœ‹å¯¼å…¥æƒ…å†µï¼Œå½“å‡ºç°:<code>laravel/homestead (virtualbox, 0)</code>æ—¶å³è¿›å…¥ä¸‹ä¸€ä¸ªæ­¥éª¤ã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/16.Laravel Eloquent ORM/">Laravel Eloquent ORM</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>Laravel Eloquent ORMå³â€œæ•°æ®æ“ä½œâ€ï¼Œåœ¨å‰é¢æˆ‘ä»¬æ‰€ä»‹ç»çš„æ•°æ®åº“å½“ä¸­ï¼Œä½¿ç”¨çš„æ˜¯â€œDBâ€è€ŒLaravelè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å¦ä¸€ç§æ›´åŠ <strong>ä¼˜é›…</strong>çš„æ–¹å¼ï¼Œå³â€Laravel Eloquent ORMâ€ã€‚å¦‚æœå°†ä¸¤è€…ä½œä¸ºæ¯”è¾ƒçš„è¯ï¼Œé‚£ä¹ˆLaravelæ‰€æä¾›çš„å¦ä¸€ç§æ•°æ®åº“æ“ä½œæ–¹å¼Laravel Eloquent ORMåˆ™æ›´åŠ çš„å®‰å…¨å’Œä¼˜é›…ï¼Œå…¶æ“ä½œå’Œè¯­æ³•ç±»ä¼¼ä¸Spring boot ä¸­çš„JPAï¼Œä½†åˆä¸JPAä¸ä¸€æ ·ï¼Œåªèƒ½è¯´é€šè¿‡ä¸€å®šçš„è¯­æ³•æ¥ä»£æ›¿SQLè¯­æ³•ã€‚</p>
<h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>å¦‚æœä½ æ˜¯é€šè¿‡çœ‹æ–‡æ¡£è¿‡æ¥çš„ï¼Œé‚£ä½ ä¼°è®¡å¯èƒ½çœ‹å¾—æ‡‚ï¼Œä½†æ˜¯ä¸çŸ¥é“åŸºæœ¬çš„æµç¨‹ã€‚å¦‚æœåšæ¯”å–»çš„è¯å¯èƒ½å°±æ˜¯<strong>åªæ•™ä½ åšé¥­ï¼Œä¸æ•™ä½ ç‚¹ç«ï¼Œä½†æ˜¯ä½ éƒ½ä¼šåšé¥­ï¼Œå¥¹ä¸å‘Šè¯‰ä½ è¦è®©ä½ ç‚’ä»€ä¹ˆèœ</strong>ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯è¿™ä¸ªæ„æ€ï¼Œæœ¬æ–‡å°†ä¼šå‘Šè¯‰ä½ å¦‚ä½•ç‚¹ç«ï¼Œä½†æ˜¯åŸºæœ¬çš„åšèœçŸ¥è¯†ä½ è¿˜æ˜¯éœ€è¦å¯¹ç…§â€œèœè°±è¿›è¡Œâ€ã€‚</p>
<h3 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h3><p>å¦‚æœä½ è¦ç”¨Eloquent ORMï¼Œé¦–å…ˆä½ éœ€è¦æœ‰ä¸€ä¸ªæ¨¡å‹ï¼Œä¹‹ååœ¨æœ‰ä¸€ä¸ªæ§åˆ¶å™¨ï¼Œå°±è¡Œäº†ã€‚å…¶ä¸­æ¨¡å‹æ¥å®šä¹‰æ•°æ®åº“è¡¨ä»¥åŠå­—æ®µï¼Œä¹‹åä½ å¯ä»¥é€šè¿‡æ•°æ®åº“æ˜ å°„çš„æ–¹å¼æ¥å»ºç«‹è¡¨ï¼Œæœ¬æ–‡é€šè¿‡åˆ—ä¸¾Useræ¨¡å‹è¿›è¡Œæµ‹è¯•ï¼š</p>
<p>Eloquent ORMæ‰€éœ€è¦çš„æ¨¡å‹æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºç”¨äºæ“ä½œæ•°æ®åº“çš„ä¸€é“è¿‡ç¨‹ï¼Œåœ¨æ¨¡å‹ä¸­ä½ å¯ä»¥å®šä¹‰éœ€è¦è¿æ¥çš„æ•°æ®åº“ä»¥åŠè¡¨ç­‰ç›¸å…³çš„ä¿¡æ¯ã€‚å½“ç„¶Laravelè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å¤šè¡¨æ“ä½œçš„æ–¹å¼æ¥æ»¡è¶³ä¸åŒç¯å¢ƒçš„éœ€æ±‚ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Contracts</span>\<span class="title">Auth</span>\<span class="title">MustVerifyEmail</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="keyword">as</span> <span class="title">Authenticatable</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The attributes that are mass assignable.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$fillable</span> = [</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;password&#x27;</span>,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The attributes that should be hidden for arrays.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$hidden</span> = [</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>, <span class="string">&#x27;remember_token&#x27;</span>,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The attributes that should be cast to native types.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$casts</span> = [</span><br><span class="line">        <span class="string">&#x27;email_verified_at&#x27;</span> =&gt; <span class="string">&#x27;datetime&#x27;</span>,</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h3><p>æ§åˆ¶å™¨å°±æ˜¯ä½ å¯ä»¥æ¥å¯¹æ­¤è¿›è¡ŒCURDçš„ä¸€ç³»åˆ—æ“ä½œï¼ŒLaravel Eloquent ORMä¹Ÿæ”¯æŒä½ è¿›è¡Œä¸€ç³»åˆ—çš„Curdæ“ä½œï¼Œæœ¬æ–‡æˆ‘ä»¬ä¼šä½¿ç”¨Useræ¨¡å‹æ¥è¿›è¡Œæ•°æ®åº“æ’å…¥çš„æ“ä½œ(é¦–å…ˆä½ è¦å¼•å…¥æ¨¡å‹use App\User;)ï¼Œ<code>æ¨¡å‹é»˜è®¤åœ¨app\</code>ç›®å½•ä¸‹ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨æ¨¡å‹æ¥å®ç°æ§åˆ¶å™¨çš„æ“ä½œï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">User</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">DB</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display a listing of the resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Show the form for creating a new resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$user</span> = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="variable">$user</span>-&gt;name=<span class="string">&#x27;test_name&#x27;</span>;</span><br><span class="line">        <span class="variable">$user</span>-&gt;email=<span class="string">&#x27;test_email&#x27;</span>;</span><br><span class="line">        <span class="variable">$user</span>-&gt;password=<span class="string">&#x27;test_password&#x27;</span>;</span><br><span class="line">        <span class="variable">$user</span>-&gt;<span class="title function_ invoke__">save</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><strong>åœ¨æ­¤ä¹‹å‰ä½ è¦ç¡®ä¿å·²ç»é…ç½®å¥½æ•°æ®åº“å’Œæ˜ å°„æ•°æ®åº“ç­‰æ“ä½œå®Œå–„ä¸”æ­£å¸¸</strong>ï¼Œå¦åˆ™å°†æ— æ³•è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</p>
<p>å½“ä»¥ä¸Šæ­¥éª¤å®Œæˆä¹‹åï¼Œä½ å¯ä»¥åœ¨å½“å‰é¡¹ç›®ä¸‹æ‰§è¡Œ<code>php artisan migrate</code>æ¥å°†æ•°æ®åº“è¿ç§»åˆ°æœ¬åœ°æ•°æ®åº“å†…ã€‚æ­¤æ—¶ä½ ä¼šäº§ç”Ÿç–‘æƒ‘ï¼Œæ•°æ®åº“è¡¨æ˜¯ä»é‚£é‡Œæ¥çš„ï¼Ÿç­”æ¡ˆæ˜¯åœ¨database&#x2F;migrationsç›®å½•ä¸‹çš„create_user_table.phpã€create_password_resets.phpã€create_ailed_jobes_table.phpç±»å®šä¹‰çš„ã€‚</p>
<h3 id="web"><a href="#web" class="headerlink" title="web"></a>web</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/input/test&#x27;</span>, <span class="string">&#x27;PostController@create&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/16.laravel%20eloquent%20orm.md/20210219190656905_701950928.png"><br>æ­¤æ—¶å½“ä½ è®¿é—®<code>http://127.0.0.1:8000/input/test</code>çš„æ—¶å€™ï¼Œå·²ç»å°†åœ¨æ§åˆ¶å™¨æ‰€å®šä¹‰çš„ä¿¡æ¯æ’å…¥åˆ°äº†ä½ çš„æ•°æ®åº“ä¹‹ä¸­ã€‚</p>
<h2 id="è‡ªå®šä¹‰"><a href="#è‡ªå®šä¹‰" class="headerlink" title="è‡ªå®šä¹‰"></a>è‡ªå®šä¹‰</h2><h3 id="æ¨¡å‹-1"><a href="#æ¨¡å‹-1" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/16.laravel%20eloquent%20orm.md/20210219203620642_1523781273.png"><br>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>php artisan make:model Tesst</code>æ¥å®šä¹‰ä¸€ä¸ªLaravelæ¨¡å‹ï¼Œæœ€ç»ˆå®šä¹‰å®Œæ¨¡å‹ä¹‹åå°†ä¼šç”Ÿæˆåœ¨<code>app</code>ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ¨¡å‹ä¸æ•°æ®åº“è¿›è¡Œå…³è”ï¼Œå…¶ä¸­å¯åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<ol>
<li>åº“ï¼šå¦‚æœå½“å‰é¡¹ç›®æˆ–ä¸ªäººæœ‰å¤šä¸ªæ•°æ®åº“ä¹‹é—´å¯¹æ“ä½œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šä¸ªæ•°æ®åº“ä¸”æŒ‡å®šæ•°æ®åº“è¿›è¡Œæ“ä½œ;</li>
<li>è¡¨ï¼šå®šä¹‰å®Œåº“ä¹‹åæˆ‘ä»¬è‡ªç„¶å°±éœ€è¦æ¥å®šä¹‰è¡¨ï¼Œä¸€ä¸ªæ•°æ®åº“ä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªè¡¨æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ¥æŒ‡å®šä¸€ä¸ªè¡¨è¿›è¡Œæ“ä½œã€‚</li>
</ol>
<h4 id="Tesst-php"><a href="#Tesst-php" class="headerlink" title="Tesst.php"></a>Tesst.php</h4><h5 id="æ•°æ®è¡¨"><a href="#æ•°æ®è¡¨" class="headerlink" title="æ•°æ®è¡¨"></a>æ•°æ®è¡¨</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tesst</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string</span></span><br><span class="line"><span class="comment">     * $table æŒ‡å®šæ•°æ®åº“è¡¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$table</span> = <span class="string">&#x27;users&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨é»˜è®¤å¯¹æƒ…å†µä¸‹æˆ‘ä»¬å¹¶æ²¡æœ‰è®¾ç½®Tesstæ¨¡å‹åˆ°åº•ä½¿ç”¨é‚£äº›è¡¨ä»¥åŠé‚£äº›æ•°æ®åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ˜ç¡®å¯¹æŒ‡å®šæ•°æ®åº“ä»¥åŠæ•°æ®è¡¨æ¥è¿›è¡Œä¸‹ä¸€æ­¥çš„æ“ä½œã€‚</p>
<h5 id="æ•°æ®åº“"><a href="#æ•°æ®åº“" class="headerlink" title="æ•°æ®åº“"></a>æ•°æ®åº“</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tesst</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string</span></span><br><span class="line"><span class="comment">     * $connection æŒ‡å®š config/databases.phpä¸‹æ‰€å®šä¹‰çš„æ•°æ®åº“é“¾æ¥åç§°</span></span><br><span class="line"><span class="comment">     * $table æŒ‡å®šæ•°æ®åº“è¡¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$connection</span> = <span class="string">&#x27;mysql&#x27;</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$table</span> = <span class="string">&#x27;users&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨é»˜è®¤å¯¹æƒ…å†µä¸‹ï¼ŒEloquentæ¨¡å‹å°†ä¼šä½¿ç”¨å…¶config&#x2F;databases.phpæˆ–.envæ‰€å®šä¹‰çš„æ•°æ®åº“è¡¨ï¼Œå¦‚æœæœ‰éœ€è¦æˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šä¸ªæ•°æ®åº“è¿æ¥å’Œè¡¨ï¼Œä¹‹ååœ¨æ¨¡å‹ä¸­è¿›è¡ŒæŒ‡å®šé“¾æ¥ï¼š</p>
<h6 id="config-x2F-databases-php"><a href="#config-x2F-databases-php" class="headerlink" title="config&#x2F;databases.php"></a>config&#x2F;databases.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;mysql&#x27;</span> =&gt; [</span><br><span class="line">    <span class="string">&#x27;driver&#x27;</span> =&gt; <span class="string">&#x27;mysql&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;url&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DATABASE_URL&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_HOST&#x27;</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_PORT&#x27;</span>, <span class="string">&#x27;3306&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_DATABASE&#x27;</span>, <span class="string">&#x27;test&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_USERNAME&#x27;</span>, <span class="string">&#x27;root&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_PASSWORD&#x27;</span>, <span class="string">&#x27;toor&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;unix_socket&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_SOCKET&#x27;</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;charset&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;collation&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4_unicode_ci&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prefix&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prefix_indexes&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;strict&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;engine&#x27;</span> =&gt; <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;options&#x27;</span> =&gt; <span class="title function_ invoke__">extension_loaded</span>(<span class="string">&#x27;pdo_mysql&#x27;</span>) ? <span class="title function_ invoke__">array_filter</span>([</span><br><span class="line">        PDO::<span class="variable constant_">MYSQL_ATTR_SSL_CA</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MYSQL_ATTR_SSL_CA&#x27;</span>),</span><br><span class="line">    ]) : [],</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<h5 id="æ¨¡å‹åç§°çº¦å®š"><a href="#æ¨¡å‹åç§°çº¦å®š" class="headerlink" title="æ¨¡å‹åç§°çº¦å®š"></a>æ¨¡å‹åç§°çº¦å®š</h5><h6 id="è›‡å‹å‘½åæ–¹æ³•"><a href="#è›‡å‹å‘½åæ–¹æ³•" class="headerlink" title="è›‡å‹å‘½åæ–¹æ³•"></a>è›‡å‹å‘½åæ–¹æ³•</h6><p>è›‡å‹å‘½åæ–¹æ³•æ˜¯Pythonä»¥åŠphpå’Œä¸€äº›å¼€å‘è¯­è¨€ä¹‹ä¸­å¸¸ç”¨å¯¹å‘½åæ–¹å¼ä¹‹ä¸€ï¼Œå…¶åœ¨Laravelä¹Ÿå¯åœ¨å¾ˆå¤šåœ°æ–¹è§åˆ°å¦‚ï¼š<code>&#39;host&#39; =&gt; env(&#39;DB_HOST&#39;, &#39;127.0.0.1&#39;),</code>ï¼Œå…¶ä¸­<code>DB_HOST</code>å°±å±äºè›‡å‹å‘½åæ–¹å¼ã€‚</p>
<h6 id="é©¼å³°å‘½åæ–¹å¼"><a href="#é©¼å³°å‘½åæ–¹å¼" class="headerlink" title="é©¼å³°å‘½åæ–¹å¼"></a>é©¼å³°å‘½åæ–¹å¼</h6><p>é©¼å³°å‘½åæ–¹å¼åœ¨Laravelå¹¶ä¸å¸¸è§ï¼Œå¦‚æœè¯»è€…æœ‰æ¥è§¦è¿‡Spring boot Data JPAå°±éå¸¸äº†è§£é©¼å³°å¯¹å‘½åæ ¼å¼<strong>TestHost</strong>ã€‚</p>
<h3 id="æ§åˆ¶å™¨-1"><a href="#æ§åˆ¶å™¨-1" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h3><h4 id="PostController-php"><a href="#PostController-php" class="headerlink" title="PostController.php"></a>PostController.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Tesst</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">DB</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display a listing of the resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Show the form for creating a new resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$Tessts</span> = <span class="keyword">new</span> <span class="title class_">Tesst</span>();</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;name=<span class="string">&#x27;test_namess&#x27;</span>;</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;email=<span class="string">&#x27;test_emailss&#x27;</span>;</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;password=<span class="string">&#x27;test_passwordss&#x27;</span>;</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;<span class="title function_ invoke__">save</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="CURD"><a href="#CURD" class="headerlink" title="CURD"></a>CURD</h4><h5 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h5><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/16.laravel%20eloquent%20orm.md/20210219205451042_260652286.png"></p>
<h6 id="PostController"><a href="#PostController" class="headerlink" title="PostController"></a>PostController</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Tesst</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">DB</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display a listing of the resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Show the form for creating a new resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$Tessts</span> = <span class="keyword">new</span> <span class="title class_">Tesst</span>();</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;name= <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;user&#x27;</span>);</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;email= <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;email&#x27;</span>);</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;password= <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;password&#x27;</span>);</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;<span class="title function_ invoke__">save</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h6 id="input-blade-php"><a href="#input-blade-php" class="headerlink" title="input.blade.php"></a>input.blade.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    User:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;user&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    Email:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;email&quot;</span> /&gt;</span><br><span class="line">    Password:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;password&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h6 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/input&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>((<span class="string">&#x27;input&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/input/test&#x27;</span>, <span class="string">&#x27;PostController@create&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h5 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h5><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/16.laravel%20eloquent%20orm.md/20210219210706120_1133887317.png"></p>
<h6 id="PostController-1"><a href="#PostController-1" class="headerlink" title="PostController"></a>PostController</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Tesst</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">DB</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display a listing of the resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Show the form for creating a new resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$Tessts</span> = <span class="keyword">new</span> <span class="title class_">Tesst</span>();</span><br><span class="line">        <span class="title class_">Tesst</span>::<span class="title function_ invoke__">find</span>(<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;id&#x27;</span>))-&gt;<span class="title function_ invoke__">delete</span>();<span class="comment">//æŒ‰ä¸»é”®åˆ é™¤</span></span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;<span class="title function_ invoke__">forceDelete</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h6 id="input-blade-php-1"><a href="#input-blade-php-1" class="headerlink" title="input.blade.php"></a>input.blade.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    Id:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨Laravelçš„å®˜æ–¹æ–‡æ¡£ä¹‹ä¸­ï¼Œå…³äºåˆ é™¤æœ‰ä¸¤ç§å†™æ³•ï¼Œåˆ†åˆ«ä¸ºé€šè¿‡ä¸»é”®åˆ é™¤å’Œè½¯åˆ é™¤ä¸¤ç§ï¼Œæœ¬æ–‡æ‰€ä½¿ç”¨çš„æ˜¯é€šè¿‡ä¸»é”®â€œidâ€è¿›è¡Œåˆ é™¤ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©è½¯åˆ é™¤ã€‚</p>
</blockquote>
<blockquote>
<p>å…³äºè½¯åˆ é™¤æœ¬æ–‡å°†ä¸ä¼šè¿›è¡Œåˆ—ä¸¾ï¼Œè½¯åˆ é™¤å’Œé€šè¿‡ä¸»é”®åˆ é™¤å”¯ä¸€ä¸åŒçš„åˆ™æ˜¯å½“ä½ ä½¿ç”¨è½¯åˆ é™¤çš„æ—¶å€™ä¸ä¼šçœŸçš„åœ¨æ•°æ®åº“ä¸­åˆ é™¤æ•°æ®ï¼Œè€Œæ˜¯åœ¨æ¨¡å‹ä¸­è®¾ç½®ä¸€ä¸ªdeleted_atå¯¹å±æ€§æ’å…¥æ•°æ®åº“ï¼Œå¦‚æœæ¨¡å‹ä¸­æœ‰ä¸€ä¸ªéç©ºçš„delete_atå€¼ï¼Œé‚£ä¹ˆè¯´æ˜è¯¥æ¨¡å‹å·²ç»è¢«è½¯åˆ é™¤äº†ã€‚</p>
</blockquote>
<h5 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h5><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/16.laravel%20eloquent%20orm.md/20210219214151808_1208694402.png"></p>
<h6 id="PostController-2"><a href="#PostController-2" class="headerlink" title="PostController"></a>PostController</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Tesst</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">DB</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display a listing of the resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Show the form for creating a new resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$Tessts</span> = <span class="title class_">Tesst</span>::<span class="title function_ invoke__">find</span>(<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;id&#x27;</span>));</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;name=<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">        <span class="variable">$Tessts</span>-&gt;<span class="title function_ invoke__">save</span>();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h6 id="input-blade-php-2"><a href="#input-blade-php-2" class="headerlink" title="input.blade.php"></a>input.blade.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    Id:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    Name:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span> /&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h5><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/16.laravel%20eloquent%20orm.md/20210219220536553_468941535.png"></p>
<h6 id="PostController-3"><a href="#PostController-3" class="headerlink" title="PostController"></a>PostController</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Tesst</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">DB</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display a listing of the resource.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$Tessts</span> = <span class="title class_">Tesst</span>::<span class="title function_ invoke__">all</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;input&#x27;</span>,[<span class="string">&#x27;Tessts&#x27;</span>=&gt;<span class="variable">$Tessts</span>]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h6 id="input-blade-php-3"><a href="#input-blade-php-3" class="headerlink" title="input.blade.php"></a>input.blade.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;table border=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;Id&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    @<span class="keyword">foreach</span> (<span class="variable">$Tessts</span> <span class="keyword">as</span> <span class="variable">$flight</span>)</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123;<span class="variable">$flight</span>-&gt;name&#125;&#125;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    @<span class="keyword">endforeach</span></span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="web-php-1"><a href="#web-php-1" class="headerlink" title="web.php"></a>web.php</h3><pre><code class="php">&lt;?php

/*
|--------------------------------------------------------------------------
| Web Routes
|--------------------------------------------------------------------------
|
| Here is where you can register web routes for your application. These
| routes are loaded by the RouteServiceProvider within a group which
| contains the &quot;web&quot; middleware group. Now create something great!
|
*/

Route::get(&#39;/input/test&#39;, &#39;PostController@create&#39;);
</code></pre>
<p>åœ¨ä»¥ä¸Šå¯¹å®ä¾‹ä¹‹ä¸­ï¼Œå…³äºPostController.phpç±»æ¥å®ç°å¢åˆ æ”¹æŸ¥å¯¹æ“ä½œæ–¹æ³•å¤„å†™çš„å¹¶ä¸å¯¹ï¼Œå…³äºCURDå¢åˆ æ”¹æŸ¥Laravelæ¡†æ¶å¯ç”Ÿæˆä¸€ä¸ªCURDæ¨¡æ¿æ¥è§„å®šåˆ é™¤å†™åœ¨â€¦â€¦æ–¹æ³•ä¸‹ã€æŸ¥è¯¢å†™åœ¨â€¦â€¦æ–¹æ³•ä¸‹ã€åˆ›å»ºå†™åœ¨â€¦â€¦æ–¹æ³•ä¸‹ã€æ›´æ–°å†™åœ¨â€¦â€¦æ–¹æ³•ä¸‹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>php artisan make:controller PostController --resource</code>æ¥åˆ›å»ºä¸€ä¸ªCURDå¢åˆ æ”¹æŸ¥çš„æ¨¡æ¿ã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/15.Laravel ç”¨æˆ·è®¤è¯/">Laravel ç”¨æˆ·è®¤è¯</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>åœ¨Laravel 6.vå½“ä¸­ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¸ä»¥å¾€ä¸åŒçš„è®¤è¯æ¨¡å—ï¼Œå³<code>Laravel/ui</code>ï¼ŒLaravel&#x2F;uiä¸»è¦æä¾›äº†ç”¨æˆ·è®¤è¯è§†å›¾ä»¥åŠLaravelçš„æ”¯æŒç­‰ï¼Œä»¥åŠé…åˆLaravelè‡ªå¸¦çš„é‚®ä»¶å‘é€åŠŸèƒ½å®ç°äº†ç”¨æˆ·æ³¨å†Œã€ç”¨æˆ·ç™»å½•ã€ç”¨æˆ·éªŒè¯ä»¥åŠä¿æŠ¤è·¯ç”±ç­‰ã€‚</p>
<h2 id="æ„å»ºé¡¹ç›®"><a href="#æ„å»ºé¡¹ç›®" class="headerlink" title="æ„å»ºé¡¹ç›®"></a>æ„å»ºé¡¹ç›®</h2><p>åœ¨ä½¿ç”¨Laravel&#x2F;uiä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªLaravelé¡¹ç›®ä¸”ä¿è¯å¯ä»¥æ­£å¸¸çš„è¿è¡Œå’Œè®¿é—®å³å¯æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œï¼š</p>
<blockquote>
<p>composer create-project laravel&#x2F;laravel&#x3D;â€6.0â€ test_webapp</p>
</blockquote>
<h3 id="Laravel-x2F-ui"><a href="#Laravel-x2F-ui" class="headerlink" title="Laravel&#x2F;ui"></a>Laravel&#x2F;ui</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/15.laravel%20%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81.md/20210215082622194_2138986521.png"><br>å†™åˆ°è¿™ä¸€äº›è¯»è€…ç‰¹åˆ«æ˜¯ä½¿ç”¨è¿‡Laravel 5å·¦å³çš„è¯»è€…å°±ä¼šäº§ç”Ÿç–‘é—®ï¼ŒLaravelä¸æ˜¯ä½¿ç”¨ Larave&#x2F;autoï¼Ÿä¸ºä»€ä¹ˆåˆ°Laravel 6å°±å˜æˆäº†Laravel&#x2F;uiäº†ï¼Œå› ä¸ºLaravelé»˜è®¤è‡ªå¸¦äº†ä¸€å¥—Laravel autoï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¸‹è½½Laravel&#x2F;uiæ¥è¿›è¡Œè®¿é—®å³å¯ï¼š</p>
<blockquote>
<p>composer require laravel&#x2F;ui â€œ^1.0â€ â€“dev<br>php artisan ui vue â€“auth</p>
</blockquote>
<h3 id="æ•°æ®åº“è¿ç§»"><a href="#æ•°æ®åº“è¿ç§»" class="headerlink" title="æ•°æ®åº“è¿ç§»"></a>æ•°æ®åº“è¿ç§»</h3><p>æ‰€è°“æ•°æ®åº“è¿ç§»ï¼Œå°±æ˜¯è¯´ä½ åœ¨phpç±»å½“ä¸­å®šä¹‰è¿‡çš„æ•°æ®åº“å­—æ®µä»¥åŠè¡¨è¿ç§»åˆ°ä½ æœ¬åœ°çš„æ•°æ®åº“ä¹‹ä¸­ï¼Œåœ¨è¿ç§»çš„ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å…¶æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼š</p>
<h4 id="env"><a href="#env" class="headerlink" title=".env"></a>.env</h4><p>å¦‚æœå½“å‰é¡¹ç›®æ²¡æœ‰<code>.env</code>æ–‡ä»¶ï¼Œä¸”é€šè¿‡gitå½¢å¼è¿›è¡Œæ‹‰å»çš„ï¼Œä½ éœ€è¦é€šè¿‡<code>cp .env.axample .env</code>è¿›è¡Œé‡æ„envæ–‡ä»¶ï¼Œä¹‹åé…ç½®å…¶æ•°æ®ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DB_CONNECTION=mysql</span><br><span class="line">DB_HOST=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line">DB_PORT=<span class="number">3306</span> </span><br><span class="line">DB_DATABASE=test</span><br><span class="line">DB_USERNAME=root</span><br><span class="line">DB_PASSWORD=toor</span><br></pre></td></tr></table></figure>

<h4 id="database-php"><a href="#database-php" class="headerlink" title="database.php"></a>database.php</h4><p>database.phpç±»åœ¨configç›®å½•ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹å…¶mysqlçš„é…ç½®ä¿¡æ¯ä¸»è¦åŒ…æ‹¬æ•°æ®åº“ã€è´¦å·ã€å¯†ç ã€ç­‰ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;mysql&#x27;</span> =&gt; [</span><br><span class="line">    <span class="string">&#x27;driver&#x27;</span> =&gt; <span class="string">&#x27;mysql&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;url&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DATABASE_URL&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_HOST&#x27;</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_PORT&#x27;</span>, <span class="string">&#x27;3306&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_DATABASE&#x27;</span>, <span class="string">&#x27;test&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_USERNAME&#x27;</span>, <span class="string">&#x27;root&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_PASSWORD&#x27;</span>, <span class="string">&#x27;toor&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;unix_socket&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_SOCKET&#x27;</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;charset&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;collation&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4_unicode_ci&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prefix&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prefix_indexes&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;strict&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;engine&#x27;</span> =&gt; <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;options&#x27;</span> =&gt; <span class="title function_ invoke__">extension_loaded</span>(<span class="string">&#x27;pdo_mysql&#x27;</span>) ? <span class="title function_ invoke__">array_filter</span>([</span><br><span class="line">        PDO::<span class="variable constant_">MYSQL_ATTR_SSL_CA</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MYSQL_ATTR_SSL_CA&#x27;</span>),</span><br><span class="line">    ]) : [],</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/15.laravel%20%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81.md/20210215081054368_1648890316.png"><br>å½“ä»¥ä¸Šæ­¥éª¤å®Œæˆä¹‹åï¼Œä½ å¯ä»¥åœ¨å½“å‰é¡¹ç›®ä¸‹æ‰§è¡Œ<code>php artisan migrate</code>æ¥å°†æ•°æ®åº“è¿ç§»åˆ°æœ¬åœ°æ•°æ®åº“å†…ã€‚æ­¤æ—¶ä½ ä¼šäº§ç”Ÿç–‘æƒ‘ï¼Œæ•°æ®åº“è¡¨æ˜¯ä»é‚£é‡Œæ¥çš„ï¼Ÿç­”æ¡ˆæ˜¯åœ¨<code>database/migrations</code>ç›®å½•ä¸‹çš„<code>create_user_table.phpã€create_password_resets.phpã€create_ailed_jobes_table.php</code>ç±»å®šä¹‰çš„ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="title class_">Schema</span>::<span class="title function_ invoke__">create</span>(<span class="string">&#x27;users&#x27;</span>, function (Blueprint <span class="variable">$table</span>) &#123;</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">bigIncrements</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;email&#x27;</span>)-&gt;<span class="title function_ invoke__">unique</span>();</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">timestamp</span>(<span class="string">&#x27;email_verified_at&#x27;</span>)-&gt;<span class="title function_ invoke__">nullable</span>();</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="keyword">string</span>(<span class="string">&#x27;password&#x27;</span>);</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">rememberToken</span>();</span><br><span class="line">        <span class="variable">$table</span>-&gt;<span class="title function_ invoke__">timestamps</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é‚®ä»¶æ ·å¼ä¸å¸ƒå±€"><a href="#é‚®ä»¶æ ·å¼ä¸å¸ƒå±€" class="headerlink" title="é‚®ä»¶æ ·å¼ä¸å¸ƒå±€"></a>é‚®ä»¶æ ·å¼ä¸å¸ƒå±€</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/15.laravel%20%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81.md/20210215093405107_724736279.png"><br>å½“æˆ‘ä»¬ä½¿ç”¨åå‘ç°ï¼ŒLaravelä¸ºæˆ‘ä»¬æä¾›çš„åŠŸèƒ½è¿˜åŒ…æ‹¬äº†å¯†ç é‡ç½®ã€é‚®ä»¶å‘é€ç­‰åŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹å…¶SMTPé…ç½®ä¸é‚®ä»¶æ ·å¼ï¼š</p>
<h4 id="SMTP-æ”¯æŒ"><a href="#SMTP-æ”¯æŒ" class="headerlink" title="SMTP æ”¯æŒ"></a>SMTP æ”¯æŒ</h4><p>åœ¨Laravelä¹‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹SMTPçš„æ”¯æŒé…ç½®æ–‡ä»¶åˆ†åˆ«ä¸º<code>.envã€mail.php</code>ä¸¤ä¸ªé…ç½®æ–‡ä»¶å†…ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MAIL_DRIVER=smtp</span><br><span class="line">MAIL_HOST=smtp.xxx.xxxx.com</span><br><span class="line">MAIL_PORT=25</span><br><span class="line">MAIL_USERNAME=oa@zsun.org.cn</span><br><span class="line">MAIL_PASSWORD=xxxx</span><br><span class="line">MAIL_ENCRYPTION=null</span><br></pre></td></tr></table></figure>

<h5 id="config-x2F-mail-php"><a href="#config-x2F-mail-php" class="headerlink" title="config&#x2F;mail.php"></a>config&#x2F;mail.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> [</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Mail Driver</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | Laravel supports both SMTP and PHP&#x27;s &quot;mail&quot; function as drivers for the</span></span><br><span class="line"><span class="comment">    | sending of e-mail. You may specify which one you&#x27;re using throughout</span></span><br><span class="line"><span class="comment">    | your application here. By default, Laravel is setup for SMTP mail.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | Supported: &quot;smtp&quot;, &quot;sendmail&quot;, &quot;mailgun&quot;, &quot;ses&quot;,</span></span><br><span class="line"><span class="comment">    |            &quot;postmark&quot;, &quot;log&quot;, &quot;array&quot;</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;driver&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_DRIVER&#x27;</span>, <span class="string">&#x27;smtp&#x27;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | SMTP Host Address</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | Here you may provide the host address of the SMTP server used by your</span></span><br><span class="line"><span class="comment">    | applications. A default option is provided that is compatible with</span></span><br><span class="line"><span class="comment">    | the Mailgun mail service which will provide reliable deliveries.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;host&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_HOST&#x27;</span>, <span class="string">&#x27;smtp.ym.163.com&#x27;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | SMTP Host Port</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | This is the SMTP port used by your application to deliver e-mails to</span></span><br><span class="line"><span class="comment">    | users of the application. Like the host we have set this value to</span></span><br><span class="line"><span class="comment">    | stay compatible with the Mailgun e-mail application by default.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;port&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_PORT&#x27;</span>, <span class="number">25</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Global &quot;From&quot; Address</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | You may wish for all e-mails sent by your application to be sent from</span></span><br><span class="line"><span class="comment">    | the same address. Here, you may specify a name and address that is</span></span><br><span class="line"><span class="comment">    | used globally for all e-mails that are sent by your application.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;from&#x27;</span> =&gt; [</span><br><span class="line">        <span class="string">&#x27;address&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_FROM_ADDRESS&#x27;</span>, <span class="string">&#x27;oa@zsun.org.cn&#x27;</span>),</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_FROM_NAME&#x27;</span>, <span class="string">&quot;é’Ÿå±±è®¡ç®—æœºç«¯å£å®‰å…¨è”åˆå®¡æ ¸å¹³å°&quot;</span>),</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | E-Mail Encryption Protocol</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | Here you may specify the encryption protocol that should be used when</span></span><br><span class="line"><span class="comment">    | the application send e-mail messages. A sensible default using the</span></span><br><span class="line"><span class="comment">    | transport layer security protocol should provide great security.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;encryption&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_ENCRYPTION&#x27;</span>, <span class="string">&#x27;tls&#x27;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | SMTP Server Username</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | If your SMTP server requires a username for authentication, you should</span></span><br><span class="line"><span class="comment">    | set it here. This will get used to authenticate with your server on</span></span><br><span class="line"><span class="comment">    | connection. You may also set the &quot;password&quot; value below this one.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_USERNAME&#x27;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_PASSWORD&#x27;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Sendmail System Path</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | When using the &quot;sendmail&quot; driver to send e-mails, we will need to know</span></span><br><span class="line"><span class="comment">    | the path to where Sendmail lives on this server. A default path has</span></span><br><span class="line"><span class="comment">    | been provided here, which will work well on most of your systems.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;sendmail&#x27;</span> =&gt; <span class="string">&#x27;/usr/sbin/sendmail -bs&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Markdown Mail Settings</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | If you are using Markdown based email rendering, you may configure your</span></span><br><span class="line"><span class="comment">    | theme and component paths here, allowing you to customize the design</span></span><br><span class="line"><span class="comment">    | of the emails. Or, you may simply stick with the Laravel defaults!</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;markdown&#x27;</span> =&gt; [</span><br><span class="line">        <span class="string">&#x27;theme&#x27;</span> =&gt; <span class="string">&#x27;default&#x27;</span>,</span><br><span class="line"></span><br><span class="line">        <span class="string">&#x27;paths&#x27;</span> =&gt; [</span><br><span class="line">            <span class="title function_ invoke__">resource_path</span>(<span class="string">&#x27;views/vendor/mail&#x27;</span>),</span><br><span class="line">        ],</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Log Channel</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | If you are using the &quot;log&quot; driver, you may specify the logging channel</span></span><br><span class="line"><span class="comment">    | if you prefer to keep mail messages separate from other log entries</span></span><br><span class="line"><span class="comment">    | for simpler reading. Otherwise, the default channel will be used.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;log_channel&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MAIL_LOG_CHANNEL&#x27;</span>),</span><br><span class="line"></span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h4 id="é‚®ä»¶æ ·å¼"><a href="#é‚®ä»¶æ ·å¼" class="headerlink" title="é‚®ä»¶æ ·å¼"></a>é‚®ä»¶æ ·å¼</h4><p>åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œé‚®ä»¶æ ·å¼å­˜å‚¨åœ¨Laravelé¡¹ç›®ä¸­çš„<code>\vendor\laravel\framework\src\llluminate\Mail\rsources</code>ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤è®©å…¶åˆ›å»ºåœ¨&#x2F;resources&#x2F;views&#x2F;vendoræ–‡ä»¶ä¸‹ï¼š</p>
<blockquote>
<p>php artisan vendor:publish â€“tag&#x3D;laravel-notifications<br>php artisan vendor:publish â€“tag&#x3D;laravel-mail</p>
</blockquote>
<p>ä¹‹ååœ¨resources&#x2F;views&#x2F;vendor&#x2F;mailä¸‹å°†ä¼šç”Ÿæˆå¯¹åº”çš„é‚®ä»¶æ ·å¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«çš„è¿›è¡Œæ›´æ”¹CSSä»¥åŠblode.phpæ¨¡æ¿æ–‡ä»¶</p>
<h5 id="ä¿®æ”¹é‚®ä»¶å†…å®¹"><a href="#ä¿®æ”¹é‚®ä»¶å†…å®¹" class="headerlink" title="ä¿®æ”¹é‚®ä»¶å†…å®¹"></a>ä¿®æ”¹é‚®ä»¶å†…å®¹</h5><p>é™¤äº†æ–‡ä»¶æ ·å¼ä»¥å¤–æˆ‘ä»¬è¿˜å¯ä»¥ä¿®æ”¹å…¶é»˜è®¤çš„é‚®ä»¶å†…å®¹ï¼Œé‚®ä»¶çš„å†…å®¹æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–è¾‘<code>/vendor/laravel/framework/src/Illuminate/Auth/Notifications</code>å†…çš„Phpç±»æ¥å®ç°ã€‚</p>
<h3 id="é”™è¯¯ä¿¡æ¯"><a href="#é”™è¯¯ä¿¡æ¯" class="headerlink" title="é”™è¯¯ä¿¡æ¯"></a>é”™è¯¯ä¿¡æ¯</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/15.laravel%20%E7%94%A8%E6%88%B7%E8%AE%A4%E8%AF%81.md/20210215113128410_1778641908.png"><br>å¦‚æœä½ è§‰å¾—Laravelè‡ªå¸¦çš„é”™è¯¯éªŒè¯æ¶ˆæ¯æ»¡è¶³ä¸äº†ä½ çš„å£å‘³æˆ–è€…è¯´ä½ æƒ³æ¥ç‚¹â€è‡ªå®šä¹‰â€œï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹å…¶<code>vendor/laravel/framework/src/Illuminate/Foundation/Auth</code>ç›®å½•ä¸­çš„ç±»ä»¥åŠ<code>app/Http/Controllers/Auth</code>åˆ†åˆ«è¿›è¡Œä¿®æ”¹ä»¥å¾—åˆ°æ»¡è¶³ã€‚</p>
<h4 id="ResetsPasswords-php"><a href="#ResetsPasswords-php" class="headerlink" title="ResetsPasswords.php"></a>ResetsPasswords.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">Illuminate</span>\<span class="title class_">Foundation</span>\<span class="title class_">Auth</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Auth</span>\<span class="title">Events</span>\<span class="title">PasswordReset</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Auth</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Hash</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Password</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Str</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">ResetsPasswords</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">RedirectsUsers</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Display the password reset view for the given token.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * If no token is present, display the link request form.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Http\Request  $request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  string|null  $token</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Contracts\View\Factory|\Illuminate\View\View</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">showResetForm</span>(<span class="params">Request <span class="variable">$request</span>, <span class="variable">$token</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;auth.passwords.reset&#x27;</span>)-&gt;<span class="title function_ invoke__">with</span>(</span><br><span class="line">            [<span class="string">&#x27;token&#x27;</span> =&gt; <span class="variable">$token</span>, <span class="string">&#x27;email&#x27;</span> =&gt; <span class="variable">$request</span>-&gt;email]</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reset the given user&#x27;s password.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Http\Request  $request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\RedirectResponse|\Illuminate\Http\JsonResponse</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">reset</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">validate</span>(<span class="variable">$this</span>-&gt;<span class="title function_ invoke__">rules</span>(), <span class="variable">$this</span>-&gt;<span class="title function_ invoke__">validationErrorMessages</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Here we will attempt to reset the user&#x27;s password. If it is successful we</span></span><br><span class="line">        <span class="comment">// will update the password on an actual user model and persist it to the</span></span><br><span class="line">        <span class="comment">// database. Otherwise we will parse the error and return the response.</span></span><br><span class="line">        <span class="variable">$response</span> = <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">broker</span>()-&gt;<span class="title function_ invoke__">reset</span>(</span><br><span class="line">            <span class="variable">$this</span>-&gt;<span class="title function_ invoke__">credentials</span>(<span class="variable">$request</span>), function (<span class="variable">$user</span>, <span class="variable">$password</span>) &#123;</span><br><span class="line">                <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">resetPassword</span>(<span class="variable">$user</span>, <span class="variable">$password</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// If the password was successfully reset, we will redirect the user back to</span></span><br><span class="line">        <span class="comment">// the application&#x27;s home authenticated view. If there is an error we can</span></span><br><span class="line">        <span class="comment">// redirect them back to where they came from with their error message.</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$response</span> == <span class="title class_">Password</span>::<span class="variable constant_">PASSWORD_RESET</span></span><br><span class="line">                    ? <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">sendResetResponse</span>(<span class="variable">$request</span>, <span class="variable">$response</span>)</span><br><span class="line">                    : <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">sendResetFailedResponse</span>(<span class="variable">$request</span>, <span class="variable">$response</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the password reset validation rules.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">rules</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">&#x27;token&#x27;</span> =&gt; <span class="string">&#x27;required&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;required|email&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;required|confirmed|min:10&#x27;</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the password reset validation error messages.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">validationErrorMessages</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">&#x27;required&#x27;</span> =&gt; <span class="string">&#x27;:attribute å¿…å¡«&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;éœ€è¦ä»¥é‚®ç®±æ ¼å¼å¡«å†™&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;min&#x27;</span> =&gt; <span class="string">&#x27;å¯†ç éœ€è¦ç­‰äºæˆ–å¤§äºåä½æ•°æˆ–ä»¥ä¸Š&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;confirmed&#x27;</span> =&gt; <span class="string">&#x27;é‡å¤å¯†ç ä¸æ­£ç¡®&#x27;</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the password reset credentials from the request.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Http\Request  $request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">credentials</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">only</span>(</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;password&#x27;</span>, <span class="string">&#x27;password_confirmation&#x27;</span>, <span class="string">&#x27;token&#x27;</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reset the given user&#x27;s password.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Contracts\Auth\CanResetPassword  $user</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  string  $password</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">resetPassword</span>(<span class="params"><span class="variable">$user</span>, <span class="variable">$password</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">setUserPassword</span>(<span class="variable">$user</span>, <span class="variable">$password</span>);</span><br><span class="line"></span><br><span class="line">        <span class="variable">$user</span>-&gt;<span class="title function_ invoke__">setRememberToken</span>(<span class="title class_">Str</span>::<span class="title function_ invoke__">random</span>(<span class="number">60</span>));</span><br><span class="line"></span><br><span class="line">        <span class="variable">$user</span>-&gt;<span class="title function_ invoke__">save</span>();</span><br><span class="line"></span><br><span class="line">        <span class="title function_ invoke__">event</span>(<span class="keyword">new</span> <span class="title class_">PasswordReset</span>(<span class="variable">$user</span>));</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">guard</span>()-&gt;<span class="title function_ invoke__">login</span>(<span class="variable">$user</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Set the user&#x27;s password.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Contracts\Auth\CanResetPassword  $user</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  string  $password</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">setUserPassword</span>(<span class="params"><span class="variable">$user</span>, <span class="variable">$password</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$user</span>-&gt;password = <span class="title class_">Hash</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$password</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the response for a successful password reset.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Http\Request  $request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  string  $response</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\RedirectResponse|\Illuminate\Http\JsonResponse</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">sendResetResponse</span>(<span class="params">Request <span class="variable">$request</span>, <span class="variable">$response</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">redirect</span>(<span class="variable">$this</span>-&gt;<span class="title function_ invoke__">redirectPath</span>())</span><br><span class="line">                            -&gt;<span class="title function_ invoke__">with</span>(<span class="string">&#x27;status&#x27;</span>, <span class="title function_ invoke__">trans</span>(<span class="variable">$response</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the response for a failed password reset.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  \Illuminate\Http\Request  $request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  string  $response</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Http\RedirectResponse|\Illuminate\Http\JsonResponse</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">sendResetFailedResponse</span>(<span class="params">Request <span class="variable">$request</span>, <span class="variable">$response</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_ invoke__">redirect</span>()-&gt;<span class="title function_ invoke__">back</span>()</span><br><span class="line">                    -&gt;<span class="title function_ invoke__">withInput</span>(<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">only</span>(<span class="string">&#x27;email&#x27;</span>))</span><br><span class="line">                    -&gt;<span class="title function_ invoke__">withErrors</span>([<span class="string">&#x27;email&#x27;</span> =&gt; <span class="title function_ invoke__">trans</span>(<span class="variable">$response</span>)]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the broker to be used during password reset.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Contracts\Auth\PasswordBroker</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">broker</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Password</span>::<span class="title function_ invoke__">broker</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the guard to be used during password reset.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Contracts\Auth\StatefulGuard</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">guard</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Auth</span>::<span class="title function_ invoke__">guard</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="RegisterController-php"><a href="#RegisterController-php" class="headerlink" title="RegisterController.php"></a>RegisterController.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>\<span class="title class_">Auth</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">User</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Http</span>\<span class="title">Controllers</span>\<span class="title">Controller</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Hash</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Validator</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">RegistersUsers</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegisterController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    | Register Controller</span></span><br><span class="line"><span class="comment">    |--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    | This controller handles the registration of new users as well as their</span></span><br><span class="line"><span class="comment">    | validation and creation. By default this controller uses a trait to</span></span><br><span class="line"><span class="comment">    | provide this functionality without requiring any additional code.</span></span><br><span class="line"><span class="comment">    |</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">use</span> <span class="title">RegistersUsers</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Where to redirect users after registration.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$redirectTo</span> = <span class="string">&#x27;/home&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create a new controller instance.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">middleware</span>(<span class="string">&#x27;guest&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get a validator for an incoming registration request.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  array  $data</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \Illuminate\Contracts\Validation\Validator</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">validator</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$data</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Validator</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$data</span>, [</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span> =&gt; [<span class="string">&#x27;required&#x27;</span>, <span class="string">&#x27;string&#x27;</span>, <span class="string">&#x27;max:255&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span> =&gt; [<span class="string">&#x27;required&#x27;</span>, <span class="string">&#x27;string&#x27;</span>, <span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;max:255&#x27;</span>, <span class="string">&#x27;unique:users&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;password&#x27;</span> =&gt; [<span class="string">&#x27;required&#x27;</span>, <span class="string">&#x27;string&#x27;</span>, <span class="string">&#x27;min:10&#x27;</span>, <span class="string">&#x27;confirmed&#x27;</span>],</span><br><span class="line">        ], [</span><br><span class="line">            <span class="string">&#x27;required&#x27;</span> =&gt; <span class="string">&#x27;:attribute å¿…å¡«&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;string&#x27;</span> =&gt; <span class="string">&#x27;:attribute éœ€ä»¥å­—ç¬¦ä¸²å½¢å¼&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;:attribute è¦ä»¥é‚®ç®±æ ¼å¼&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;min&#x27;</span> =&gt; <span class="string">&#x27;:attribute æœ€å°åä½æ•°&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;max&#x27;</span> =&gt; <span class="string">&#x27;:attribute æœ€å¤§ä¸èƒ½è¶…è¿‡255ä½&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;confirmed&#x27;</span> =&gt; <span class="string">&#x27;:attribute ä¸ä¸€è‡´&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;unique&#x27;</span> =&gt; <span class="string">&#x27;:attribute é‚®ç®±å†²çª&#x27;</span>,</span><br><span class="line">        ], [</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&quot;è”åˆå›¢é˜Ÿè´¦å·åç§°&quot;</span>,</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span> =&gt; <span class="string">&#x27;é‚®ç®±&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create a new user instance after a valid registration.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  array  $data</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> \App\User</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"><span class="keyword">array</span> <span class="variable">$data</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">User</span>::<span class="title function_ invoke__">create</span>([</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span> =&gt; <span class="variable">$data</span>[<span class="string">&#x27;name&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;email&#x27;</span> =&gt; <span class="variable">$data</span>[<span class="string">&#x27;email&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;password&#x27;</span> =&gt; <span class="title class_">Hash</span>::<span class="title function_ invoke__">make</span>(<span class="variable">$data</span>[<span class="string">&#x27;password&#x27;</span>]),</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/14.Laravel æ•°æ®åº“/">Laravel æ•°æ®åº“</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>å¦‚æœæˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªäº¤äº’æ€§éå¸¸å¼ºçš„ç«™ç‚¹ï¼Œé‚£ä¹ˆæ•°æ®åº“äº¤äº’å°±æ˜¯è¿™å…¶ä¸­å¿…ä¸å¯å°‘çš„ä¸€é¡¹ï¼Œåœ¨ç›®å‰ï¼ŒLaravelä¸»è¦æ”¯æŒå››ç§ä¸»æµçš„æ•°æ®åº“åˆ†åˆ«ä¸ºï¼šâ€œMySQLã€PostgreSQLã€SQLiteã€SQL Serverâ€ã€‚</p>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>åœ¨Laravelä¹‹ä¸­ï¼Œé…ç½®æ•°æ®åº“ä¸»è¦å¯ä»¥é€šè¿‡<code>config/database.php</code>ç±»è¿›è¡Œï¼Œä¹Ÿå¯é€šè¿‡é…ç½®<code>.env</code>æ–‡ä»¶æ¥å®ç°ï¼Œæœ¬æ–‡æˆ‘ä»¬ä»¥é…ç½®MySQLä¸ºä¾‹ï¼š</p>
<h3 id="database-php"><a href="#database-php" class="headerlink" title="database.php"></a>database.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;mysql&#x27;</span> =&gt; [</span><br><span class="line">    <span class="string">&#x27;driver&#x27;</span> =&gt; <span class="string">&#x27;mysql&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;url&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DATABASE_URL&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_HOST&#x27;</span>, <span class="string">&#x27;127.0.0.1&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_PORT&#x27;</span>, <span class="string">&#x27;3306&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_DATABASE&#x27;</span>, <span class="string">&#x27;test&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_USERNAME&#x27;</span>, <span class="string">&#x27;root&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_PASSWORD&#x27;</span>, <span class="string">&#x27;toor&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;unix_socket&#x27;</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;DB_SOCKET&#x27;</span>, <span class="string">&#x27;&#x27;</span>),</span><br><span class="line">    <span class="string">&#x27;charset&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;collation&#x27;</span> =&gt; <span class="string">&#x27;utf8mb4_unicode_ci&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prefix&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prefix_indexes&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;strict&#x27;</span> =&gt; <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;engine&#x27;</span> =&gt; <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&#x27;options&#x27;</span> =&gt; <span class="title function_ invoke__">extension_loaded</span>(<span class="string">&#x27;pdo_mysql&#x27;</span>) ? <span class="title function_ invoke__">array_filter</span>([</span><br><span class="line">        PDO::<span class="variable constant_">MYSQL_ATTR_SSL_CA</span> =&gt; <span class="title function_ invoke__">env</span>(<span class="string">&#x27;MYSQL_ATTR_SSL_CA&#x27;</span>),</span><br><span class="line">    ]) : [],</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h3 id="env"><a href="#env" class="headerlink" title=".env"></a>.env</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DB_CONNECTION=mysql</span><br><span class="line">DB_HOST=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line">DB_PORT=<span class="number">3306</span></span><br><span class="line">DB_DATABASE=test</span><br><span class="line">DB_USERNAME=root</span><br><span class="line">DB_PASSWORD=toor</span><br></pre></td></tr></table></figure>

<h2 id="CURD-ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰"><a href="#CURD-ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰" class="headerlink" title="CURD ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰"></a>CURD ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/14.laravel%20%E6%95%B0%E6%8D%AE%E5%BA%93.md/20210211083508017_1006013777.png"><br>åœ¨å®é™…çš„å¼€å‘é¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œå¯¹æ•°æ®åº“æ“ä½œæœ€ä¸ºä¸»è¦çš„å°±æ˜¯â€œCURDâ€å³<strong>å¢åˆ æ”¹æŸ¥</strong>çš„ä¸€ç³»åˆ—æ“ä½œï¼Œå¯¹æ­¤Laravelä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºè¿›è¡ŒCURDæ“ä½œçš„æ§åˆ¶å™¨æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å‘½ä»¤è¿›è¡Œåˆ›å»ºï¼š</p>
<blockquote>
<p>php artisan make:controller PostController â€“resource</p>
</blockquote>
<p>ä¹‹ååˆ›å»ºçš„æ•°æ®åº“CURDæ¨¡æ¿å°†ä¼šè‡ªåŠ¨åœ¨<code>app/Http/Controllers</code>ç›®å½•ä¸‹ç”Ÿæˆï¼Œè‡³æ§åˆ¶å™¨çš„ä¿¡æ¯æˆ‘ä»¬å¯ä»¥é‡æ–°å›é¡¾ä¸‹<code>6.Laravel æ§åˆ¶å™¨</code>æ‰€å­¦çš„çŸ¥è¯†ã€‚</p>
<h3 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h3><p>åœ¨Laravelä¹‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥DBæ‰©å±•ä¸­çš„<code>insert</code>æ–¹æ³•æ¥è¿›è¡Œæ’å…¥ï¼Œä¸”æ”¯æŒå¤šæ•°æ®æ’å…¥å¦‚ä¸‹ï¼š</p>
<h4 id="input-blode-php"><a href="#input-blode-php" class="headerlink" title="input.blode.php"></a>input.blode.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    Username:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="PostController"><a href="#PostController" class="headerlink" title="PostController"></a>PostController</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Show the form for creating a new resource.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$id</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">    DB::<span class="title function_ invoke__">insert</span>(<span class="string">&#x27;insert into user(id) value(?)&#x27;</span>, [<span class="variable">$id</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="web-app"><a href="#web-app" class="headerlink" title="web.app"></a>web.app</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/input&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>((<span class="string">&#x27;input&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/input/test&#x27;</span>, <span class="string">&#x27;PostController@create&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/14.laravel%20%E6%95%B0%E6%8D%AE%E5%BA%93.md/20210211102048089_154161389.png"><br>åœ¨å¢åˆ æ”¹æŸ¥ä¸­ï¼Œåˆ é™¤æ•°æ®æ’ç¬¬äºŒï¼Œä¹Ÿæ˜¯ä¸€é¡¹éå¸¸å¸¸ç”¨çš„éœ€æ±‚ï¼Œé€šå¸¸åªæœ‰ç®¡ç†å‘˜æƒé™æ‰å¯ä»¥åšåˆ°è¿™ç§åŠŸèƒ½ï¼Œå¦‚æœä½¿ç”¨Laravelæ¥å®ç°çš„è¯éœ€è¦<code>delete</code>æ–¹æ³•ï¼š</p>
<h4 id="PostController-1"><a href="#PostController-1" class="headerlink" title="PostController"></a>PostController</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the specified resource from storage.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  int  $id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">destroy</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$id</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">    DB::<span class="title function_ invoke__">delete</span>(<span class="string">&#x27;delete from user where id = ?&#x27;</span>,[<span class="variable">$id</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="input-blode-php-1"><a href="#input-blode-php-1" class="headerlink" title="input.blode.php"></a>input.blode.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    Username:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/show&#x27;</span>, <span class="string">&#x27;PostController@show&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/input/test&#x27;</span>, <span class="string">&#x27;PostController@destroy&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/14.laravel%20%E6%95%B0%E6%8D%AE%E5%BA%93.md/20210211104620737_1305690968.png"><br>åœ¨æœ¬æ¬¡çš„æ¼”ç¤ºå½“ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦å°†æ•°æ®åº“ä¸­çš„2æ›´æ”¹ä¸º20ï¼Œå½“ç„¶ç”±äºæˆ‘ä»¬æ•°æ®åº“ä¸­åªæœ‰ä¸€ä¸ªâ€idâ€å­—æ®µï¼Œå¦‚æœéœ€è¦ä½œå‡ºæŒ‡å®šä¿®æ”¹ä½ éœ€è¦å»ºç«‹ä¸¤ä¸ªå­—æ®µï¼Œæ¥è¿›è¡Œé…åˆï¼Œæœ¬æ¬¡æˆ‘ä»¬åªæ¼”ç¤ºå¦‚ä½•ä¿®æ”¹å­—æ®µæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨<code>update</code>æ•°æ®ï¼š</p>
<h4 id="PostController-2"><a href="#PostController-2" class="headerlink" title="PostController"></a>PostController</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Show the form for editing the specified resource.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  int  $id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">edit</span>(<span class="params">Request <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$id</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">input</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">    DB::<span class="title function_ invoke__">update</span>(<span class="string">&#x27;update user set id=?&#x27;</span>,[<span class="variable">$id</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="input-blude-php"><a href="#input-blude-php" class="headerlink" title="input.blude.php"></a>input.blude.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    Username:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="web-php-1"><a href="#web-php-1" class="headerlink" title="web.php"></a>web.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/input&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>((<span class="string">&#x27;input&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/input/test&#x27;</span>, <span class="string">&#x27;PostController@edit&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/14.laravel%20%E6%95%B0%E6%8D%AE%E5%BA%93.md/20210211100923491_1615165733.png"><br>å¯¹äºLaravelçš„æ•°æ®æŸ¥è¯¢ï¼Œä¹Ÿæ˜¯ä¸€é¡¹éå¸¸ç®€å•ä¸”ä¼˜é›…çš„è¯­æ³•å½¢å¼ï¼Œå…¶ä¸»è¦ä½¿ç”¨<code>select</code>æ–¹æ³•è¿›è¡ŒæŸ¥è¯¢ï¼š</p>
<h4 id="PostControoller"><a href="#PostControoller" class="headerlink" title="PostControoller"></a>PostControoller</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Display the specified resource.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  int  $id</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$users</span> = DB::<span class="title function_ invoke__">select</span>(<span class="string">&#x27;select * from user&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;input&#x27;</span>, [<span class="string">&#x27;users&#x27;</span>=&gt;<span class="variable">$users</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="input-blade-php"><a href="#input-blade-php" class="headerlink" title="input.blade.php"></a>input.blade.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;table border=<span class="string">&quot;1&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;id&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    @<span class="keyword">foreach</span> (<span class="variable">$users</span> <span class="keyword">as</span> <span class="variable">$user</span>)</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;&#123;&#123;<span class="variable">$user</span>-&gt;id&#125;&#125;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    @<span class="keyword">endforeach</span></span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h4 id="web-php-2"><a href="#web-php-2" class="headerlink" title="web.php"></a>web.php</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/show&#x27;</span>, <span class="string">&#x27;PostController@show&#x27;</span>);</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/13.Laravel è¡¨å•éªŒè¯/">Laravel è¡¨å•éªŒè¯</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>åœ¨Laravelä¹‹ä¸­æä¾›äº†å¾ˆå¤šç§ä¸åŒçš„æ–¹æ³•æ¥éªŒè¯è¡¨å•æ‰€ä¼ å…¥çš„æ•°æ®ï¼Œåœ¨é»˜è®¤çš„æƒ…å†µä¸‹Laravelä¼šä½¿ç”¨åŸºæœ¬çš„æ§åˆ¶å™¨ç±»<code>validatesRequest</code>æ‰€å®šä¹‰çš„ï¼Œè¯¥ç±»æä¾›äº†å„ç§å¼ºå¤§çš„éªŒè¯è§„åˆ™æ¥éªŒè¯æ‰€ä¼ å…¥çš„HTTPè¯·æ±‚ï¼š</p>
<h2 id="è¡¨å•ä¼ è¾“æ–¹å¼"><a href="#è¡¨å•ä¼ è¾“æ–¹å¼" class="headerlink" title="è¡¨å•ä¼ è¾“æ–¹å¼"></a>è¡¨å•ä¼ è¾“æ–¹å¼</h2><p>é€šå¸¸æˆ‘ä»¬ä¼šéªŒè¯è¡¨å•çš„ä¼ è¾“æ–¹å¼åˆ†åˆ«ä¸ºPOSTæˆ–æ˜¯GETï¼Œå¯¹æ­¤Laravelä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>isMethod</code>æ–¹æ³•æ¥è¿›è¡ŒéªŒè¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·¯ç”±ä¸­è¿›è¡Œä¹Ÿå¯åœ¨æ§åˆ¶å™¨ä¸­è¿›è¡Œï¼Œæœ¬æ–‡ä¸ºäº†ç®€çº¦æµç¨‹æ‰€ä»¥ä½¿ç”¨è·¯ç”±è¿›è¡Œï¼š</p>
<h3 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/input&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>((<span class="string">&#x27;input&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/input/test&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">isMethod</span>(<span class="string">&#x27;post&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="input-blode-php"><a href="#input-blode-php" class="headerlink" title="input.blode.php"></a>input.blode.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/input/test&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    Username:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> /&gt;&amp;nbsp;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;up&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="éªŒè¯è§„åˆ™"><a href="#éªŒè¯è§„åˆ™" class="headerlink" title="éªŒè¯è§„åˆ™"></a>éªŒè¯è§„åˆ™</h2><h3 id="æ§åˆ¶å™¨"><a href="#æ§åˆ¶å™¨" class="headerlink" title="æ§åˆ¶å™¨"></a>æ§åˆ¶å™¨</h3><p>é€šå¸¸åœ¨åŸç”Ÿæ€çš„PHPè¯­è¨€ä¹‹ä¸­ï¼ŒéªŒè¯è§„åˆ™é€šå¸¸ä¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç­‰æ–¹å¼ï¼Œä½†æ˜¯ç”±äºæ­£åˆ™è¡¨è¾¾å¼ä¸å®œäºé˜…è¯»ï¼Œæ‰€ä»¥Laravelä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§æ›´å¥½çš„<code>validate</code>æ–¹æ³•ï¼Œä¸»è¦åˆ†ä¸ºåˆ¶å®šè§„åˆ™ã€é”™è¯¯å›æ˜¾ã€è¡¨å•å‘½åç­‰ã€‚å¦‚æœä¼ å…¥çš„è¯·æ±‚å‚æ•°æœªé€šè¿‡æŒ‡å®šçš„éªŒè¯è§„åˆ™ï¼ŒLaravel åˆ™ä¼šå°†ç”¨æˆ·é‡å®šå‘åˆ°ä¹‹å‰çš„ä½ç½®ä¸­ï¼Œå¹¶ä¸”å°†é”™è¯¯ä¿¡æ¯å­˜å‚¨è‡³ <code>session</code>ä¸­ã€‚</p>
<figure class="highlight plaintext"><figcaption><span>å˜é‡ç”± ```Iliumineat\View\middleware\ShareErrorsFormSession```ä¸­é—´ä»¶ç»‘å®šè‡³è§†å›¾å½“ä¸­ï¼Œå½“è¿™ä¸ªä¸­é—´ä»¶è¢«ä½¿ç”¨ä¼šå°±å¯ä¸€åœ¨è§†å›¾è·å–åˆ° ```$error```å˜é‡ï¼ˆåœ¨ç†è®ºä¸Šæ¥å°† $error å¯ä»¥è¢«å®‰å…¨çš„ä½¿ç”¨ï¼‰</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```php</span><br><span class="line">// input.blode.php</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">    è¿™é‡Œä¸»è¦ç”¨äºè¿”å›é”™è¯¯ä¿¡æ¯</span><br><span class="line">--&gt;</span><br><span class="line">@if($errors-&gt;any())</span><br><span class="line">    &lt;div class=&quot;alert alert-danger&quot;&gt;</span><br><span class="line">        @foreach($errors-&gt;all() as $error)</span><br><span class="line">            &lt;p&gt;&#123;&#123;$error&#125;&#125;&lt;/p&gt;</span><br><span class="line">        @endforeach</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">@endif</span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;/input/test&quot; method=&quot;post&quot;&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=&quot;hidden&quot; name=&quot;_token&quot; value=&quot;&lt;?php echo csrf_token()?&gt;&quot;&gt;</span><br><span class="line">    Username:&lt;input type=&quot;text&quot; name=&quot;username&quot; /&gt;&amp;nbsp;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;up&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TestController</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Controllers</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">store</span>(<span class="params">Request <span class="variable">$request</span></span>) </span>&#123;</span><br><span class="line">        <span class="title function_ invoke__">print_r</span>(<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">all</span>());</span><br><span class="line">        <span class="variable language_">$this</span>-&gt;<span class="title function_ invoke__">validate</span>(<span class="variable">$request</span>, [</span><br><span class="line">             <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * ç”¨äºå®šä¹‰è§„åˆ™</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">           <span class="string">&#x27;username&#x27;</span>=&gt;<span class="string">&#x27;required|max:1|alpha&#x27;</span>,</span><br><span class="line">        ], [</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * |- å¤§ç±»</span></span><br><span class="line"><span class="comment">             * |    |- required å¿…å¡«</span></span><br><span class="line"><span class="comment">             * |    |- max æœ€å¤§</span></span><br><span class="line"><span class="comment">             * |    |- min æœ€å°</span></span><br><span class="line"><span class="comment">             * |    |- integer æ•°å€¼</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="string">&#x27;required&#x27;</span> =&gt; <span class="string">&#x27;:attribute å¿…å¡«&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;max&#x27;</span> =&gt; <span class="string">&#x27;:attribute é•¿åº¦ä¸èƒ½å¤§äºä¸€ä¸ªå­—ç¬¦&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;alpha&#x27;</span> =&gt; <span class="string">&#x27;:attribute åªèƒ½åŒ…å«å­—æ¯&#x27;</span>,</span><br><span class="line">        ], [</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * |- ç”¨äºç»™inputè¡¨å•è¿›è¡Œå‘½åï¼Œæ—¶å€™åä¼šè¾“å‡º</span></span><br><span class="line"><span class="comment">             * |    |-&quot;è´¦å·åç§° å¿…å¡«&quot;</span></span><br><span class="line"><span class="comment">             * |- å¦‚æœä¸ä½¿ç”¨åˆ™ä¼šè¾“å‡º</span></span><br><span class="line"><span class="comment">             * |    |- username è´¦å·åç§°</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">           <span class="string">&#x27;username&#x27;</span> =&gt; <span class="string">&#x27;è´¦å·åç§°&#x27;</span>,</span><br><span class="line">        ]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> web.php</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/input&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>((<span class="string">&#x27;input&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/input/test&#x27;</span>, <span class="string">&#x27;TestController@store&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="è¿”å›é”™è¯¯ä¿¡æ¯"><a href="#è¿”å›é”™è¯¯ä¿¡æ¯" class="headerlink" title="è¿”å›é”™è¯¯ä¿¡æ¯"></a>è¿”å›é”™è¯¯ä¿¡æ¯</h4><h5 id="è¿”å›å…¨éƒ¨é”™è¯¯ä¿¡æ¯"><a href="#è¿”å›å…¨éƒ¨é”™è¯¯ä¿¡æ¯" class="headerlink" title="è¿”å›å…¨éƒ¨é”™è¯¯ä¿¡æ¯"></a>è¿”å›å…¨éƒ¨é”™è¯¯ä¿¡æ¯</h5><p>å¦‚æœä¼ å…¥çš„è¯·æ±‚å‚æ•°æœªé€šè¿‡æŒ‡å®šçš„éªŒè¯è§„åˆ™ï¼ŒLaravel åˆ™ä¼šå°†ç”¨æˆ·é‡å®šå‘åˆ°ä¹‹å‰çš„ä½ç½®ä¸­ï¼Œå¹¶ä¸”å°†é”™è¯¯ä¿¡æ¯å­˜å‚¨è‡³ <code>session</code>ä¸­ã€‚</p>
<blockquote>
<p>$error å˜é‡ç”± <code>Iliumineat\View\middleware\ShareErrorsFormSession</code>ä¸­é—´ä»¶ç»‘å®šè‡³è§†å›¾å½“ä¸­ï¼Œå½“è¿™ä¸ªä¸­é—´ä»¶è¢«ä½¿ç”¨ä¼šå°±å¯ä¸€åœ¨è§†å›¾è·å–åˆ° <code>$error</code>å˜é‡ï¼ˆåœ¨ç†è®ºä¸Šæ¥å°† $error å¯ä»¥è¢«å®‰å…¨çš„ä½¿ç”¨ï¼‰</p>
</blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">if</span>(<span class="variable">$errors</span>-&gt;<span class="title function_ invoke__">any</span>())</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">alert</span> <span class="title">alert</span>-<span class="title">danger</span>&quot;&gt;</span></span><br><span class="line"><span class="class">        @<span class="title">foreach</span>($<span class="title">errors</span>-&gt;<span class="title">all</span>() <span class="title">as</span> $<span class="title">error</span>)</span></span><br><span class="line"><span class="class">            &lt;<span class="title">p</span>&gt;</span>&#123;&#123;<span class="variable">$error</span>&#125;&#125;&lt;/p&gt;</span><br><span class="line">        @<span class="keyword">endforeach</span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">@<span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°çš„ code ä¸­ï¼Œä¸»è¦å¯ä»¥è¿”å›å…¨éƒ¨çš„é”™è¯¯ä¿¡æ¯ï¼Œå‡è®¾<code>è¡¨å•1ã€è¡¨å•2</code>ä¸ºé€šè¿‡éªŒè¯è§„åˆ™ï¼Œåˆ™ä¼šå°†è¿™ä¸¤ä¸ªè¡¨å•çš„é”™è¯¯ä¿¡æ¯æ˜¾ç¤ºåœ¨ä¸€ä¸ªæ ‡ç­¾ä¹‹ä¸­ã€‚</p>
<h5 id="è¿”å›å•ä¸ªé”™è¯¯ä¿¡æ¯"><a href="#è¿”å›å•ä¸ªé”™è¯¯ä¿¡æ¯" class="headerlink" title="è¿”å›å•ä¸ªé”™è¯¯ä¿¡æ¯"></a>è¿”å›å•ä¸ªé”™è¯¯ä¿¡æ¯</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@<span class="title function_ invoke__">error</span>(<span class="string">&#x27;titles&#x27;</span>)</span><br><span class="line">    &lt;p&gt;&#123;&#123;<span class="variable">$message</span>&#125;&#125;&lt;/p&gt;</span><br><span class="line">@enderror</span><br><span class="line">&lt;textarea <span class="class"><span class="keyword">class</span>=&quot;<span class="title">issue</span>-<span class="title">textarea</span> @<span class="title">error</span>(&quot;<span class="title">titles</span>&quot;) <span class="title">is</span> <span class="title">issue</span>-<span class="title">orss</span> @<span class="title">enderror</span>&quot; <span class="title">rows</span>=&quot;1&quot; <span class="title">name</span>=&quot;<span class="title">titles</span>&quot;&gt;&lt;/<span class="title">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿”å›å•ä¸ªä¿¡æ¯æœ‰å¥½å¤„ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå¥½å¤„å°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿”å›çš„å•ä¸ªä¿¡æ¯æ¥è®¾ç½®æ˜¾ç¤º <strong>å¦‚æœè¯¥è¡¨å•ä¸ºé€šè¿‡éªŒè¯æ—¶çš„æ ·å¼</strong>ï¼Œè€Œç¼ºç‚¹åˆ™æ˜¯ <strong>éœ€è¦ä¸€ä¸ªä¸€ä¸ªçš„å†™</strong>ã€‚</p>
<h3 id="éªŒè¯è¡¨å•è¯·æ±‚"><a href="#éªŒè¯è¡¨å•è¯·æ±‚" class="headerlink" title="éªŒè¯è¡¨å•è¯·æ±‚"></a>éªŒè¯è¡¨å•è¯·æ±‚</h3><h4 id="åˆ›å»ºä¸€ä¸ªè¯·æ±‚ç±»"><a href="#åˆ›å»ºä¸€ä¸ªè¯·æ±‚ç±»" class="headerlink" title="åˆ›å»ºä¸€ä¸ªè¯·æ±‚ç±»"></a>åˆ›å»ºä¸€ä¸ªè¯·æ±‚ç±»</h4><p>é¢å¯¹æ›´ç¹æ‚çš„è¡¨å•éªŒè¯ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ª <strong>è¡¨å•è¯·æ±‚</strong> æ¥å¤„ç†è¡¨å•éªŒè¯çš„é€»è¾‘ï¼Œè¯¥è¯·æ±‚ç±»æ˜¯åŒ…å«éªŒè¯æ˜¯çš„éªŒè¯é€»è¾‘ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡ä¸‹è¿° <code>Artisan</code> å‘½ä»¤è¿›è¡Œåˆ›å»ºã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:request StoreTestPost</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¹‹åè¯¥è¯·æ±‚ç±»å°†ä¼šå­˜æ”¾åœ¨ <code>app/Http/Requests/</code> ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åˆ†åˆ«å¯ä»¥é€šè¿‡ <strong>authorizeã€rulesã€messagesã€attributes</strong> æ¥å¯¹è¯·æ±‚ç±»è¿›è¡Œä¸€ç³»åˆ—çš„è®¾ç½®å’Œæ“ä½œï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span>\<span class="title class_">Http</span>\<span class="title class_">Requests</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Http</span>\<span class="title">FormRequest</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StoreTestPost</span> <span class="keyword">extends</span> <span class="title">FormRequest</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç¡®å®šç”¨æˆ·æ˜¯å¦æœ‰æƒæå‡ºæ­¤è¯·æ±‚ã€‚</span></span><br><span class="line"><span class="comment">     * Determine if the user is authorized to make this request.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> bool</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">authorize</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–åº”ç”¨äºè¯·æ±‚çš„éªŒè¯è§„åˆ™ã€‚</span></span><br><span class="line"><span class="comment">     * Get the validation rules that apply to the request.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">rules</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">&#x27;test&#x27;</span> =&gt; <span class="string">&#x27;required&#x27;</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * ä¸ºè§„åˆ™å†™å…¥æç¤ºä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * Write prompt information for rules</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">messages</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">&#x27;required&#x27;</span> =&gt; <span class="string">&#x27;:attributeå¿…å¡«&#x27;</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * ä¸ºè¡¨å•è®¾ç½®åç§°</span></span><br><span class="line"><span class="comment">     * Set a name for the form</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">attributes</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">          <span class="string">&#x27;test&#x27;</span> =&gt; <span class="string">&quot;æµ‹è¯•&quot;</span>,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹å½“å‰çš„æ§åˆ¶å™¨ï¼Œå°†è¯·æ±‚æ”¹ä¸ºè¡¨å•è¯·æ±‚ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Store a newly created resource in storage.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  StoreTestPost  $request</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> \Illuminate\Http\Response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">store</span>(<span class="params">StoreTestPost <span class="variable">$request</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//web.php</span></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">post</span>(<span class="string">&#x27;/upload&#x27;</span>,<span class="string">&quot;PostController@store&quot;</span>);</span><br></pre></td></tr></table></figure>


<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">if</span>(<span class="variable">$errors</span>-&gt;<span class="title function_ invoke__">any</span>())</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        @<span class="keyword">foreach</span>(<span class="variable">$errors</span>-&gt;<span class="title function_ invoke__">all</span>() <span class="keyword">as</span> <span class="variable">$error</span>)</span><br><span class="line">            &lt;p&gt;&#123;&#123;<span class="variable">$error</span>&#125;&#125;&lt;/p&gt;</span><br><span class="line">        @<span class="keyword">endforeach</span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">@<span class="keyword">endif</span></span><br><span class="line">&#123;&#123;--inbar.blade.php--&#125;&#125;</span><br><span class="line">&lt;form action=<span class="string">&quot;/upload&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">    @csrf</span><br><span class="line">    &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;_token&quot;</span> value=<span class="string">&quot;&lt;?php echo csrf_token()?&gt;&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;test&quot;</span>&gt;</span><br><span class="line">    &lt;button type=<span class="string">&quot;submit&quot;</span>&gt;Up File&lt;/button&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å½“å‰è¯­è¨€ä¸‹çš„é”™è¯¯æç¤ºä¿¡æ¯"><a href="#å½“å‰è¯­è¨€ä¸‹çš„é”™è¯¯æç¤ºä¿¡æ¯" class="headerlink" title="å½“å‰è¯­è¨€ä¸‹çš„é”™è¯¯æç¤ºä¿¡æ¯"></a>å½“å‰è¯­è¨€ä¸‹çš„é”™è¯¯æç¤ºä¿¡æ¯</h4><p>å¦‚æœä½ çš„éœ€æ±‚åªæ˜¯ç®€å•çš„æƒ³å°† <strong>è¡¨å•æ‰€æç¤ºçš„é”™è¯¯ä¿¡æ¯</strong> æ”¹æˆä½ æƒ³è¦çš„ï¼Œé‚£ä¹ˆé€šè¿‡ç¼–è¾‘ <code>resources/lang/en/validation.php</code> æ–‡ä»¶ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ï¼Œé™¤æ­¤ä¹‹å¤–å®ƒè¿˜å¯ä»¥é€šè¿‡<code>attributes</code>æ”¯æŒè‡ªå®šä¹‰çš„è¡¨å•åç§°ã€‚</p>
<h2 id="Laravel-ç›®å‰æ”¯æŒçš„éªŒè¯è§„åˆ™"><a href="#Laravel-ç›®å‰æ”¯æŒçš„éªŒè¯è§„åˆ™" class="headerlink" title="Laravel ç›®å‰æ”¯æŒçš„éªŒè¯è§„åˆ™"></a>Laravel ç›®å‰æ”¯æŒçš„éªŒè¯è§„åˆ™</h2><table>
<thead>
<tr>
<th>DA</th>
<th>FA</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>accepted</td>
<td>éªŒè¯å¿…é¡»æ˜¯<strong>yes\on\1\true</strong></td>
<td>å¯ä»¥è¿ç”¨åœ¨æœåŠ¡æ¡æ¬¾</td>
</tr>
<tr>
<td>active_url</td>
<td>éªŒè¯å­—æ®µæ˜¯æœ‰æ•ˆçš„Aæˆ–aaè®°å½•</td>
<td></td>
</tr>
<tr>
<td>after:date</td>
<td>å¿…é¡»æ˜¯æŒ‡å®šæ—¥æœŸä¹‹åçš„å€¼</td>
<td></td>
</tr>
<tr>
<td>after_or_equal:date</td>
<td>éªŒè¯å­—æ®µæ˜¯æŒ‡å®šæ—¥æœŸä¹‹åä¸æ­¤æ—¥æœŸç›¸åŒçš„å€¼</td>
<td></td>
</tr>
<tr>
<td>alpha</td>
<td>éªŒè¯å¿…é¡»æ˜¯ç”±å­—æ¯ç»„æˆçš„æ•°æ®</td>
<td></td>
</tr>
<tr>
<td>alpha_dash</td>
<td>å…è®¸åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠç ´æŠ˜å·å’Œä¸‹åˆ’çº¿çš„æ•°æ®</td>
<td></td>
</tr>
<tr>
<td>alpha_num</td>
<td>å¿…é¡»å®Œå…¨æ˜¯å­—æ¯æˆ–æ•°å­—çš„æ•°æ®</td>
<td></td>
</tr>
<tr>
<td>array</td>
<td>éªŒè¯æ•°æ®æ˜¯ä¸€ä¸ªphpæ•°ç»„</td>
<td></td>
</tr>
<tr>
<td>bail</td>
<td>åœ¨ç¬¬ä¸€æ¬¡éªŒè¯å¤±è´¥ååœæ­¢éªŒè¯è§„åˆ™</td>
<td></td>
</tr>
<tr>
<td>before:date</td>
<td>è¿™ä¸ªéªŒè¯çš„æ•°æ®å¿…é¡»æ˜¯æŒ‡å®šçš„æ—¥æœŸå€¼</td>
<td></td>
</tr>
<tr>
<td>before_or_equal:date</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯åœ¨æŒ‡å®šæ—¥æœŸä¹‹å‰æˆ–ç›¸åŒçš„æ—¥æœŸ</td>
<td></td>
</tr>
<tr>
<td>between:min,max</td>
<td>å®‰æ­£æ•°æ®çš„å¤§å°å¿…é¡»åœ¨minå’Œmaxä¹‹é—´</td>
<td></td>
</tr>
<tr>
<td>boolean</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å¯ä»¥è½¬æ¢ä¸ºbooleanç±»å‹</td>
<td>æ¥å—trueã€falseã€1ã€0</td>
</tr>
<tr>
<td>confirmed</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å…·æœ‰åŒ¹é…å­—æ®µ</td>
<td>éªŒè¯å­—æ®µä¸ºpasswordï¼Œè¾“å…¥å¿…é¡»å­˜åœ¨åŒ¹é…çš„passwordå­—æ®µ</td>
</tr>
<tr>
<td>date</td>
<td>æ ¹æ®phpå‡½æ•°ï¼ŒéªŒè¯å¿…é¡»æ˜¯æœ‰æ•ˆçš„æ—¥æœŸ</td>
<td></td>
</tr>
<tr>
<td>date_equals:date</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ç­‰äºæŒ‡å®šæ—¥æœŸ</td>
<td></td>
</tr>
<tr>
<td>date_format:format</td>
<td>éªŒè¯æ•°æ®å¿…é¡»åŒ¹é…æŒ‡å®šçš„æ—¥æœŸæ ¼å¼</td>
<td></td>
</tr>
<tr>
<td>different:field</td>
<td>éªŒè¯çš„æ•°æ®å¿…é¡»ä¸fieldå€¼ä¸åŒ</td>
<td></td>
</tr>
<tr>
<td>digits:value</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä¸ºnumeric</td>
<td>ä¸”å¿…é¡»å…·æœ‰å‡†ç¡®é•¿åº¦çš„value</td>
</tr>
<tr>
<td>dimensions</td>
<td>uéªŒè¯æ–‡ä»¶å¿…é¡»æ˜¯å›¾ç‰‡ä¸”æ¯”ä¾‹ç¬¦åˆè§„åˆ™</td>
<td>min_width:x,min_height&#x3D;n</td>
</tr>
<tr>
<td>ditinct</td>
<td>éªŒè¯æ•°ç»„æ—¶æ•°æ®ä¸å…è®¸æœ‰ä»»ä½•é‡å¤</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>éªŒè¯æ•°æ®ç¬¦åˆe-mailåœ°å€æ ¼å¼</td>
<td></td>
</tr>
<tr>
<td>ends_with:foo,bar</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯æŒ‡å®šå€¼å†…çš„ç»“å°¾</td>
<td></td>
</tr>
<tr>
<td>exists:table,column</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å­˜åœ¨æŒ‡å®šçš„æ•°æ®åº“è¡¨ä¸­</td>
<td></td>
</tr>
<tr>
<td>file</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯æˆåŠŸä¸Šä¼ çš„æ–‡ä»¶</td>
<td></td>
</tr>
<tr>
<td>filled</td>
<td>éªŒè¯æ•°æ®çš„å­˜åœ¨æ—¶ä¸å¯ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>ge:field</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å¤§äºæŒ‡å®šçš„field</td>
<td>ä¸¤ä¸ªæ•°æ®å¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹</td>
</tr>
<tr>
<td>gte:field</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å¤§äºæˆ–ç­‰äºæŒ‡å®šçš„fileld</td>
<td></td>
</tr>
<tr>
<td>image</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä¸ºå›¾ç‰‡</td>
<td></td>
</tr>
<tr>
<td>in:foo,bar</td>
<td>é›…æ­£æ•°æ®å¿…é¡»åŒ…å«åœ¨æŒ‡å®šçš„å€¼åˆ—è¡¨ä¸­</td>
<td></td>
</tr>
<tr>
<td>in_array:anotherfield.*</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å­˜åœ¨ä¸å¦ä¸€ä¸ªå­—æ®µantherfieldå€¼ä¸­</td>
<td></td>
</tr>
<tr>
<td>integer</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ—¶æ•´æ•°</td>
<td></td>
</tr>
<tr>
<td>ip</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯ipåœ°å€</td>
<td>ip</td>
</tr>
<tr>
<td>ipv4</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯ipv4åœ°å€</td>
<td>ip</td>
</tr>
<tr>
<td>ipv6</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯ipv6åœ°å€</td>
<td>ip</td>
</tr>
<tr>
<td>json</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯æœ‰æ•ˆçš„jsonå­—ç¬¦ä¸²</td>
<td></td>
</tr>
<tr>
<td>lt:field</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯æŒ‡å®šçš„field</td>
<td></td>
</tr>
<tr>
<td>lte_field</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å°äºæˆ–ç­‰äºæŒ‡å®šçš„æ•°æ®</td>
<td></td>
</tr>
<tr>
<td></td>
<td>max:value</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å°äºæˆ–ç­‰äºç»™å®šçš„å€¼</td>
</tr>
<tr>
<td>mimetypes:text&#x2F;plain</td>
<td>éªŒè¯æ–‡ä»¶å¿…é¡»å…·å¤‡åˆ—å‡ºçš„å…¶ä¸­ä¸€ä¸ªæ‰©å±•åŒ¹é…çš„MIMEç±»å‹</td>
<td></td>
</tr>
<tr>
<td>mimes:foo,bar</td>
<td>éªŒè¯æ–‡ä»¶å¿…é¡»æ˜¯å…·æœ‰åˆ—å‡ºå…¶ä¸­ä¸€ä¸ªæ‰©å±•åå¯¹åº”çš„mimeç±»å‹</td>
<td>mimes:jpeg,png</td>
</tr>
<tr>
<td>min:value</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å…·æœ‰æœ€å°å€¼</td>
<td></td>
</tr>
<tr>
<td>not_in:foo,bar</td>
<td>éªŒè¯æ•°æ®ä¸èƒ½åŒ…å«åœ¨æŒ‡å®šçš„å€¼åˆ—è¡¨ä¸­</td>
<td></td>
</tr>
<tr>
<td>not_regex:pattern</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä¸å€¼idngdæ­£åˆ™è¡¨è¾¾å¼ä¸åŒ¹é…</td>
<td></td>
</tr>
<tr>
<td>nullable</td>
<td>éªŒè¯æ•°æ®å¯ä»¥ä¸º<code>null</code></td>
<td></td>
</tr>
<tr>
<td>memeric</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä¸ºæ•°å€¼</td>
<td></td>
</tr>
<tr>
<td>password</td>
<td>éªŒè¯ä¸­çš„æ•°æ®å¿…é¡»ä¸ç»è¿‡èº«åˆ†éªŒè¯çš„ç”¨æˆ·å¯†ç è¿›è¡ŒåŒ¹é…</td>
<td></td>
</tr>
<tr>
<td>present</td>
<td>éªŒè¯æ•°æ®å¿…é¡»å­˜åœ¨è¾“å…¥çš„æ•°æ®ä¸­</td>
<td>å¯ä»¥ä¸ºç©ºï¼Ÿ</td>
</tr>
<tr>
<td>regex:pattern</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä¸æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…</td>
<td></td>
</tr>
<tr>
<td>required</td>
<td>éªŒè¯çš„å­—æ®µå¿…é¡»å­˜åœ¨äºè¾“å…¥çš„æ•°æ®ä¸­ï¼Œè€Œä¸æ˜¯ä¸ºç©º</td>
<td>å€¼ä¸ºnullã€å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€æ— è·¯å¾„çš„ä¸Šä¼ æ–‡ä»¶</td>
</tr>
<tr>
<td>required_if:anotherfield,value_one,value_two</td>
<td>å¦‚æœå…¶ä»–æ•°æ®ä¸ºä»»æ„ä¸€å€¼ï¼Œæ­¤éªŒè¯æ•°æ®å¿…é¡»å­˜åœ¨ä¸”ä¸ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>required_unless:anotherfield,value</td>
<td>å¦‚æœæ•°æ®ä¸ç­‰äºä»»æ„å€¼ï¼Œæ­¤éªŒè¯æ•°æ®å¿…é¡»å­˜åœ¨ä¸”ä¸å¯ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>required_with:foo,bar</td>
<td>åœ¨å…¶ä»–ä»»æ„æŒ‡å®šæ•°æ®å‡ºç°æ—¶ï¼ŒéªŒè¯çš„æ•°æ®å¿…é¡»å­˜åœ¨ä¸”ä¸å¯ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>required_with_all:foo,bar</td>
<td>åªæœ‰åœ¨ä»»æ„ä¸€æ®µæ•°æ®å…¨éƒ¨å‡ºç°æ—¶ï¼ŒéªŒè¯æ•°æ®æ‰å¿…é¡»å­˜åœ¨ä¸”ä¸ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>reqrequired_without:foo,bar</td>
<td>åœ¨å…¶ä»–æ•°æ®ä¸å‡ºç°æ—¶ï¼ŒéªŒè¯æ•°æ®æ‰å­˜åœ¨ä¸”ä¸å¯ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>required_without_all:foo,bar</td>
<td>åªæœ‰åœ¨å…¶ä»–æŒ‡å®šæ•°æ®å­—æ®µå…¨éƒ¨ä¸å‡ºç°æ—¶ï¼ŒéªŒè¯æ•°æ®æ‰å¯å­˜åœ¨ä¸”ä¸å¯ä¸ºç©º</td>
<td></td>
</tr>
<tr>
<td>same:field</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä¸æŒ‡å®šæ•°æ®ç›¸åŒ¹é…</td>
<td></td>
</tr>
<tr>
<td>size:value</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æŒ‡å®šå€¼å¤§å°ä¸€è‡´</td>
<td></td>
</tr>
<tr>
<td>starts_with:foo,bar</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ä»¥æŒ‡å®šå€¼ä¹‹ä¸€å¼€å¤´</td>
<td></td>
</tr>
<tr>
<td>string</td>
<td>éªŒè¯æ•°æ®å¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</td>
<td></td>
</tr>
<tr>
<td>timezone</td>
<td>éªŒè¯æ•°æ®å¿…é¡»ç¬¦åˆphpå‡½æ•°æ‰€å®šä¹‰çš„æœ‰æ•ˆæ—¶åŒºæ ‡è¯†</td>
<td>timezoune_identifiers_list</td>
</tr>
<tr>
<td>unique:table,column,except,idColumn</td>
<td>éªŒè¯æ•°æ®åœ¨æŒ‡å®šæ•°æ®åº“è¡¨ä¸­æ˜¯å”¯ä¸€çš„</td>
<td></td>
</tr>
</tbody></table>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/12.Laravel Session/">Laravel Session</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>Sessionå³ä¼šè¯æ§åˆ¶ï¼Œä¸»è¦å°†å®¢æˆ·ç«¯çš„ä¿¡æ¯å­˜å‚¨äºcookieä¹‹ä¸­ï¼Œè¿™ä¹Ÿå°†ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ï¼Œå¦‚æœå®¢æˆ·ç«¯ç¦ç”¨äº†cookieæ”¯æŒï¼Œé‚£ä¹ˆsessionä¹Ÿå°†è¢«ç¦ç”¨ã€‚åœ¨Laravelä¹‹ä¸­ï¼ŒSessionä¸»è¦æä¾›äº†ä¸€ç§åœ¨å¤šè¯·æ±‚ä¹‹é—´å­˜å‚¨æœ‰å…³ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•ã€‚</p>
<p>Sessionçš„é…ç½®æ–‡ä»¶ä¸»è¦å­˜å‚¨åœ¨<code>config/session.php</code>æ–‡ä»¶ä¹‹ä¸­ï¼Œé»˜è®¤çš„æƒ…å†µä¸‹sessioné©±åŠ¨å››fileï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥è€ƒè™‘ä½¿ç”¨memcachedæˆ–æ˜¯redisè¿›è¡Œé©±åŠ¨ï¼Œä¸ºæ­¤Leravelè‡ªå¸¦äº†ä»¥ä¸‹å‡ ä¸ªå¼€ç®±å³ç”¨çš„é©±åŠ¨ï¼š</p>
<ol>
<li>fileï¼šå°†sessionå­˜å‚¨åœ¨<code>storage/framework.session</code>;</li>
<li>cookieï¼š å°†cookieå­˜å‚¨åœ¨åŠ å¯†çš„cookieä¹‹ä¸­;</li>
<li>databaseï¼šSessionå°†ä¼šè¢«å­˜å‚¨åœ¨å…³ç³»å‹æ•°æ®åº“ä¹‹ä¸­;</li>
<li>memcached and redisï¼šå°†sessionå­˜å‚¨åœ¨åŸºäºé«˜é€Ÿç¼“å­˜çš„å­˜å‚¨ç³»ç»Ÿå†…;</li>
<li>arrarï¼šå°†sessionå­˜å‚¨åœ¨phpæ•°ç»„ä¹‹ä¸­ï¼Œä½†æ˜¯ä¸ä¼šè¢«æŒä¹…åŒ–ã€‚</li>
</ol>
<h2 id="æ£€ç´¢-session"><a href="#æ£€ç´¢-session" class="headerlink" title="æ£€ç´¢ session"></a>æ£€ç´¢ session</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210142247053_290223486.png"><br>å¯¹äºsessionçš„æ£€ç´¢ï¼ŒLaravelä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªéå¸¸å‹å¥½ä¸”ç®€æ´çš„<code>get</code>æ–¹æ³•ï¼Œä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥è·å–æŒ‡å®šçš„sessionä¿¡æ¯ï¼š</p>
<h3 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="variable">$value</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;_token&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$value</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="è·å–å½“å‰æ‰€æœ‰çš„-session"><a href="#è·å–å½“å‰æ‰€æœ‰çš„-session" class="headerlink" title="è·å–å½“å‰æ‰€æœ‰çš„ session"></a>è·å–å½“å‰æ‰€æœ‰çš„ session</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210140103794_1313786480.png"><br>åœ¨Laravelæ¡†æ¶å†…ï¼Œå¦‚æœè¦æ£€ç´¢æ‰€æœ‰çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Laravel sessionæ‰€æä¾›çš„<code>all</code>æ–¹æ³•æ¥æ£€ç´¢æ‰€æœ‰ä¼šè¯æ•°æ®ï¼š</p>
<h3 id="web-php-1"><a href="#web-php-1" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="variable">$session</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">all</span>();</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$session</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="åˆ¤æ–­æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­æ˜¯å¦å­˜åœ¨</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210141043760_438142867.png"><br>åœ¨ä»¥ä¸Šç¤ºä¾‹å†…æˆ‘ä»¬ä¸»è¦ä»‹ç»äº†å¦‚ä½•è·å–å½“å‰çš„sessionæ•°æ®ï¼Œæ‰€ä»¥æœ¬æ¬¡æˆ‘ä»¬éœ€è¦è¿›è¡Œåˆ¤æ–­è¯¥sessionæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœè¿”å›<code>yes</code>å³è¯´æ˜å­˜åœ¨ï¼Œè¿”å›<code>no</code>å³ä¸å­˜åœ¨ï¼Œæœ¬æ¬¡æˆ‘ä»¬ä¸»è¦ä½¿ç”¨<code>exiets</code>ä»¥åŠ<code>has</code>åˆ†åˆ«è¿›è¡Œæ¼”ç¤ºï¼š</p>
<h3 id="exists"><a href="#exists" class="headerlink" title="exists"></a>exists</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    <span class="variable">$session</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">all</span>();</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$session</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">exists</span>(<span class="string">&#x27;_token&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="has"><a href="#has" class="headerlink" title="has"></a>has</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210141229554_2117742366.png"></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    <span class="variable">$session</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">all</span>();</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$session</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">has</span>(<span class="string">&#x27;_token&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="å­˜å‚¨-session"><a href="#å­˜å‚¨-session" class="headerlink" title="å­˜å‚¨ session"></a>å­˜å‚¨ session</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210142436713_1066060916.png"><br>åœ¨æ­¤å‰æˆ‘ä»¬ä¸»è¦ä»‹ç»äº†å¦‚ä½•æŸ¥è¯¢å’Œåˆ¤æ–­sessionç›¸å…³ï¼Œé‚£ä¹ˆå¦‚æœè¦è¿›è¡Œsessionå­˜å‚¨éœ€è¦å¦‚ä½•å®ç°ï¼Ÿå¯¹æ­¤Laravelä¸ºæˆ‘ä»¬æä¾›äº†<code>put</code>æ–¹æ³•ï¼š</p>
<h3 id="web-php-2"><a href="#web-php-2" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨</span></span><br><span class="line">    <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">put</span>(<span class="string">&#x27;jiangxue&#x27;</span>,<span class="string">&#x27;Jiang Xue analyzes the open knowledge repository&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">session</span>([<span class="string">&#x27;key&#x27;</span>=&gt;<span class="string">&#x27;value&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    <span class="variable">$value</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;jiangxue&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$value</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">has</span>(<span class="string">&#x27;jiangxue&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="ä¸´æ—¶-session"><a href="#ä¸´æ—¶-session" class="headerlink" title="ä¸´æ—¶ session"></a>ä¸´æ—¶ session</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210145326560_126734561.png"><br>ä¸´æ—¶sessionä¸ä¸´æ—¶urlä¸€æ ·ï¼Œå‡ ä¹æ˜¯åªè¦ä½ åˆ·æ–°è¿‡åå°±ä¼šè¢«è¿›è¡Œåˆ é™¤ï¼Œåœ¨é€šå¸¸éœ€è¦å®ç°è¯¥åŠŸèƒ½å¯èƒ½éœ€è¦å¾ˆä¹…ï¼Œå¯¹äºLaravelÂ·è€Œè¨€ï¼Œåªéœ€è¦ä½¿ç”¨<code>flash</code>æ–¹æ³•å³å¯ï¼š</p>
<h3 id="web-php-3"><a href="#web-php-3" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Http</span>\<span class="title">Request</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨</span></span><br><span class="line">    <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">flash</span>(<span class="string">&#x27;jiangxue&#x27;</span>,<span class="string">&#x27;Jiang Xue analyzes the open knowledge repository&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">session</span>([<span class="string">&#x27;key&#x27;</span>=&gt;<span class="string">&#x27;value&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    <span class="variable">$value</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;jiangxue&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$value</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">has</span>(<span class="string">&#x27;jiangxue&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="åˆ é™¤-session"><a href="#åˆ é™¤-session" class="headerlink" title="åˆ é™¤ session"></a>åˆ é™¤ session</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/12.laravel%20session.md/20210210144809860_1050624557.png"><br>å½“ç„¶ï¼Œæœ‰äº†å­˜å‚¨å°±æœ‰äº†åˆ é™¤ï¼Œå¦‚ä½•è¿›è¡Œåˆ é™¤æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ï¼Œå¯¹æ­¤Laravelä¸ºæˆ‘ä»¬æä¾›äº†<code>forget</code>æ–¹æ³•å°†ç”¨äºåˆ é™¤å•ä¸ªsessionæˆ–è€…å¤šä¸ªsessionï¼š</p>
<h3 id="web-php-4"><a href="#web-php-4" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url&#x27;</span>, function (Request <span class="variable">$request</span>) &#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨</span></span><br><span class="line">    <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">put</span>(<span class="string">&#x27;jiangxue&#x27;</span>,<span class="string">&#x27;Jiang Xue analyzes the open knowledge repository&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">session</span>([<span class="string">&#x27;key&#x27;</span>=&gt;<span class="string">&#x27;value&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    <span class="variable">$value</span> = <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;jiangxue&#x27;</span>);</span><br><span class="line">    <span class="title function_ invoke__">print_r</span>(<span class="variable">$value</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * åˆ é™¤</span></span><br><span class="line"><span class="comment">     * å¦‚éœ€è¦åˆ é™¤å¤šä¸ªå¯ä½¿ç”¨ $request-&gt;session()-&gt;forget([&#x27;key_one&#x27;, &#x27;key_two&#x27;]);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">forget</span>(<span class="string">&#x27;jiangxue&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$request</span>-&gt;<span class="title function_ invoke__">session</span>()-&gt;<span class="title function_ invoke__">has</span>(<span class="string">&#x27;jiangxue&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/11.Laravel URL/">Laravel URL</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>åœ¨Laravelæ¡†æ¶ä¹‹ä¸­ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¸°å¯Œçš„urlæ–¹æ³•ï¼Œåˆ†åˆ«å¯ä»¥å®ç°è®¿é—®ã€è¾“å‡ºã€è¿”å›ã€ç­¾åç­‰æ•ˆæœçš„urlï¼Œæœ¬æ–‡æˆ‘ä»¬å°†ä¼šä½¿ç”¨è¯¥æ–¹æ³•è¿›è¡Œä¸€ç³»åˆ—çš„urlæ¼”ç¤ºï¼š</p>
<h2 id="è¾“å‡ºurl"><a href="#è¾“å‡ºurl" class="headerlink" title="è¾“å‡ºurl"></a>è¾“å‡ºurl</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/11.laravel%20url.md/20210210105508464_646762168.png"><br>åœ¨Laravelä¹‹ä¸­ï¼Œè¯»è€…æœ€ä¸ºæœŸå¾…çš„æ˜¯è¾“å‡ºurlä¿¡æ¯çš„æ–¹æ³•ï¼Œä½¿ç”¨Laravelæ¡†æ¶ï¼Œè¾“å‡ºurlæ–¹æ³•åªéœ€è¦ä½¿ç”¨<code>current</code>å³å¯ï¼š</p>
<h3 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">View</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url/&#123;name&#125;&#x27;</span>, function (<span class="variable">$name</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">url</span>()-&gt;<span class="title function_ invoke__">current</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="è·å–ä¸Šä¸€ä¸ªè¯·æ±‚çš„url"><a href="#è·å–ä¸Šä¸€ä¸ªè¯·æ±‚çš„url" class="headerlink" title="è·å–ä¸Šä¸€ä¸ªè¯·æ±‚çš„url"></a>è·å–ä¸Šä¸€ä¸ªè¯·æ±‚çš„url</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/11.laravel%20url.md/20210210110029879_2074840744.png"><br>å½“ç„¶ï¼Œé™¤äº†è·å–urlï¼ŒLaravelè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å¦ä¸€ç§ç”¨äºè·å–ä¸Šä¸€ä¸ªurlçš„æ–¹æ³•<code>previous</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨è¯¥æ–¹æ³•æ¥è·å–ç”¨æˆ·ä¸Šä¸€ä¸ªé¡µé¢çš„url:</p>
<h3 id="web-php-1"><a href="#web-php-1" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/*</span><br><span class="line">|--------------------------------------------------------------------------</span><br><span class="line">| Web Routes</span><br><span class="line">|--------------------------------------------------------------------------</span><br><span class="line">|</span><br><span class="line">| Here is where you can register web routes for your application. These</span><br><span class="line">| routes are loaded by the RouteServiceProvider within a group which</span><br><span class="line">| contains the &quot;web&quot; middleware group. Now create something great!</span><br><span class="line">|</span><br><span class="line">*/</span><br><span class="line">use Illuminate\Support\Facades\View;</span><br><span class="line"></span><br><span class="line">Route::get(&#x27;/&#x27;, function () &#123;</span><br><span class="line">    return view(&#x27;welcome&#x27;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Route::get(&#x27;/url/&#123;name&#125;&#x27;, function ($name) &#123;</span><br><span class="line">    echo url()-&gt;previous();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="å‘½åurlè·¯ç”±"><a href="#å‘½åurlè·¯ç”±" class="headerlink" title="å‘½åurlè·¯ç”±"></a>å‘½åurlè·¯ç”±</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/11.laravel%20url.md/20210210110911124_876713428.png"><br>Laravelè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§å‘½åurlè·¯ç”±çš„æ–¹å¼ï¼Œå¦‚æœé˜…è¯»è¿‡ä»¥å¾€ç¯‡å¹…çš„è¯»è€…å¯èƒ½ä¼šå¯¹æ­¤æ„Ÿåˆ°ç†Ÿæ‚‰ï¼Œå°±æ˜¯<code>å‘½åè·¯ç”±</code>ï¼Œå¯ä»¥æ ¹æ®è·¯ç”±åç§°è¿›è¡Œè¾“å‡ºå¯¹åº”çš„ä¿¡æ¯ï¼š</p>
<h3 id="web-php-2"><a href="#web-php-2" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url/&#123;name&#125;&#x27;</span>, function (<span class="variable">$name</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">route</span>(<span class="string">&#x27;url.name&#x27;</span>,</span><br><span class="line">        [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="variable">$name</span>]);</span><br><span class="line">&#125;)-&gt;<span class="title function_ invoke__">name</span>(<span class="string">&#x27;url.name&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h4 id="è®¾ç½®é»˜è®¤å€¼ï¼Ÿ"><a href="#è®¾ç½®é»˜è®¤å€¼ï¼Ÿ" class="headerlink" title="è®¾ç½®é»˜è®¤å€¼ï¼Ÿ"></a>è®¾ç½®é»˜è®¤å€¼ï¼Ÿ</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/11.laravel%20url.md/20210210110840168_900074866.png"><br>å½“ç„¶æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºæ­¤è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä¹Ÿå°±å°±æ˜¯è¯´ä¸ç®¡ä½ çš„urlæ˜¯å¤šå°‘ï¼Œéƒ½ä¼šè¾“å‡ºè¿™ä¸ªé»˜è®¤å€¼ï¼š</p>
<h5 id="web-php-3"><a href="#web-php-3" class="headerlink" title="web.php"></a>web.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url/&#123;name&#125;&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="title function_ invoke__">route</span>(<span class="string">&#x27;url.name&#x27;</span>,</span><br><span class="line">        [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;hello&#x27;</span>]);</span><br><span class="line">&#125;)-&gt;<span class="title function_ invoke__">name</span>(<span class="string">&#x27;url.name&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="URL-ç­¾å"><a href="#URL-ç­¾å" class="headerlink" title="URL ç­¾å"></a>URL ç­¾å</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/11.laravel%20url.md/20210210122939324_534901254.png"><br>åœ¨è¿™é‡Œé¢çš„urlç­¾åæŒ‡çš„æ˜¯å¦‚æœä½ è®¿é—®çš„æ˜¯<code>localhost:8000/url/111</code>ï¼Œé‚£ä¹ˆä»–ä¼šä¿®æ”¹ä¸‹urlçš„ç›¸å…³æ•°æ®å¦‚ä¿®æ”¹æˆï¼šâ€œ<a target="_blank" rel="noopener" href="http://localhost:8000/url/jiangxue?signature=7ec0cf1d32c6189a1a9b3be402f870427686e5528dd912ceb27e9bc89ed85417%E2%80%9D%EF%BC%8C%E8%80%8C%E7%94%9F%E6%88%90%E7%9A%84%E8%BF%99%E4%B8%AA%E8%BF%9E%E6%8E%A5%E4%B8%8E%E4%BD%A0%E7%9B%B4%E6%8E%A5%E8%AE%BF%E9%97%AE%60%60%60localhost:8000/url/111%60%60%60%E6%95%88%E6%9E%9C%E6%98%AF%E7%9B%B8%E5%90%8C%E7%9A%84%EF%BC%8C%E8%BF%99%E9%A1%B9%E6%8A%80%E6%9C%AF%E4%B9%9F%E8%A2%AB%E8%BF%90%E7%94%A8%E5%9C%A8%E4%BA%86%E9%82%AE%E7%AE%B1%E5%8F%91%E9%80%81%E4%B8%8E%E8%AE%A4%E8%AF%81%E5%BD%93%E4%B8%AD%EF%BC%9A">http://localhost:8000/url/jiangxue?signature=7ec0cf1d32c6189a1a9b3be402f870427686e5528dd912ceb27e9bc89ed85417â€ï¼Œè€Œç”Ÿæˆçš„è¿™ä¸ªè¿æ¥ä¸ä½ ç›´æ¥è®¿é—®```localhost:8000/url/111```æ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œè¿™é¡¹æŠ€æœ¯ä¹Ÿè¢«è¿ç”¨åœ¨äº†é‚®ç®±å‘é€ä¸è®¤è¯å½“ä¸­ï¼š</a></p>
<h3 id="web-php-4"><a href="#web-php-4" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">URL</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url/&#123;name&#125;&#x27;</span>, function (<span class="variable">$name</span>) &#123;</span><br><span class="line">    <span class="variable">$url</span> = <span class="title class_">Url</span>::<span class="title function_ invoke__">signedRoute</span>(<span class="string">&#x27;url.name&#x27;</span>, [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;jiangxue&#x27;</span>]);</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$url</span>;</span><br><span class="line">&#125;)-&gt;<span class="title function_ invoke__">name</span>(<span class="string">&#x27;url.name&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="ä¸´æ—¶-URL"><a href="#ä¸´æ—¶-URL" class="headerlink" title="ä¸´æ—¶ URL"></a>ä¸´æ—¶ URL</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/11.laravel%20url.md/20210210123407296_1086119123.png"><br>Laravelå¯¹urlçš„æ”¯æŒè¿˜è¿œä¸äºä»¥ä¸Šæ‰€åˆ—ä¸¾çš„æ–¹æ³•ï¼Œä¸ºäº†æ›´å¥½çš„åº”ç”¨åœ¨ä»¥ä¸Šé‚®ç®±è®¤è¯çš„åœºæ™¯ä¸‹ï¼ŒLaravelè¿˜æä¾›äº†ä¸€ä¸ªä¸´æ—¶çš„urlç”Ÿæˆæ–¹æ³•<code>temporaySignedRoute</code>ï¼Œ<strong>å°±æ˜¯è¯´ä»–æ˜¯ä¼šå˜çš„</strong>ï¼š</p>
<h3 id="web-php-5"><a href="#web-php-5" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/url/&#123;name&#125;&#x27;</span>, function (<span class="variable">$name</span>) &#123;</span><br><span class="line">    <span class="variable">$url</span> = <span class="title class_">Url</span>::<span class="title function_ invoke__">temporarySignedRoute</span>(<span class="string">&#x27;url.name&#x27;</span>, <span class="title function_ invoke__">now</span>()-&gt;<span class="title function_ invoke__">addHour</span>(), [</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;jiangxue&#x27;</span></span><br><span class="line">    ]);</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$url</span>;</span><br><span class="line">&#125;)-&gt;<span class="title function_ invoke__">name</span>(<span class="string">&#x27;url.name&#x27;</span>);</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/php/laravel/10.Laravel è§†å›¾/">Laravel è§†å›¾</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/laravel/" rel="tag">laravel</a> <a class="article__tag-none-link" href="/tags/php/" rel="tag">php</a>
			</span>
		
	</div>

	

	
		<p>åœ¨Laravelæ¡†æ¶ä¸­ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<code>blade.php</code>çš„åç¼€æ‰©å±•åï¼Œé¦–å…ˆblade.phpæ˜¯ç”±Laravelæ‰€æä¾›çš„ä¸€ä¸ªç®€å•ä¸”å¼ºå¤§çš„æ¨¡æ¿å¼•æ“ï¼Œè¿™ä¸Spring bootæ‰€æä¾›çš„Thyemeleafç±»ä¼¼ã€‚bladeå¹¶ä¸ä¼šé™åˆ¶åœ¨è§†å›¾ä¸­ä½¿ç”¨çš„åŸç”Ÿphp codeï¼Œæ‰€æœ‰bladeè§†å›¾æ–‡ä»¶éƒ½ä¼šè¢«ç¼–è¯‘æˆåŸç”Ÿçš„php codeå¹¶å°†æ­¤ç¼“å­˜ï¼Œé™¤éè¢«å†æ¬¡ä¿®æ”¹å¦åˆ™å°†ä¸ä¼šè¢«é‡æ–°ç¼–è¯‘ï¼Œå¹¶ä¸€èˆ¬æƒ…å†µä¸‹å­˜å‚¨åœ¨<code>resources/views</code>ç›®å½•ä¸‹ã€‚</p>
<h2 id="è·¯ç”±ä¸è§†å›¾å‚æ•°ä¼ é€’"><a href="#è·¯ç”±ä¸è§†å›¾å‚æ•°ä¼ é€’" class="headerlink" title="è·¯ç”±ä¸è§†å›¾å‚æ•°ä¼ é€’"></a>è·¯ç”±ä¸è§†å›¾å‚æ•°ä¼ é€’</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/10.laravel%20%E8%A7%86%E5%9B%BE.md/20210210094643346_513911574.png"><br>æ‰€è°“è·¯ç”±ä¸å‚æ•°è¿›è¡Œä¼ é€’ï¼Œå…¶å®å°±æ˜¯è·å–è¯·æ±‚çš„ä¿¡æ¯å¹¶åœ¨blade.appå†…è¿›è¡Œè°ƒç”¨å…¶å‡½æ•°å¹¶è¾“å‡ºåçš„ä¿¡æ¯ï¼Œå³è·¯ç”±ä¸è§†å›¾å‚æ•°ï¼š</p>
<h3 id="web-php"><a href="#web-php" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">| Web Routes</span></span><br><span class="line"><span class="comment">|--------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">| Here is where you can register web routes for your application. These</span></span><br><span class="line"><span class="comment">| routes are loaded by the RouteServiceProvider within a group which</span></span><br><span class="line"><span class="comment">| contains the &quot;web&quot; middleware group. Now create something great!</span></span><br><span class="line"><span class="comment">|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;welcome&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/views/&#123;name&#125;&#x27;</span>, function (<span class="variable">$name</span>) &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="title function_ invoke__">view</span>(<span class="string">&#x27;views&#x27;</span>, [<span class="string">&#x27;name&#x27;</span> =&gt; <span class="variable">$name</span>]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="views-blade-php"><a href="#views-blade-php" class="headerlink" title="views.blade.php"></a>views.blade.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Hello,&#123;&#123;<span class="variable">$name</span>&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="è§†å›¾å…±äº«"><a href="#è§†å›¾å…±äº«" class="headerlink" title="è§†å›¾å…±äº«"></a>è§†å›¾å…±äº«</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/10.laravel%20%E8%A7%86%E5%9B%BE.md/20210210101302412_1867798053.png"><br>åœ¨Laravelä¹‹ä¸­ï¼Œå¦‚æœéœ€è¦ä¸åŒä¹‹é—´çš„è§†å›¾è¿›è¡Œæ•°æ®çš„å…±äº«ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>app/Providers/</code>ç›®å½•ä¸‹çš„<code>AppServiceProvider.php</code>ç±»ï¼Œåœ¨bootæ–¹æ³•ä¸‹å†™å…¥éœ€è¦å…±äº«çš„å‡½æ•°å’Œå‚æ•°å³å¯ï¼š</p>
<h3 id="AppServiceProvider-php"><a href="#AppServiceProvider-php" class="headerlink" title="AppServiceProvider.php"></a>AppServiceProvider.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Bootstrap any application services.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">boot</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">view</span>()-&gt;<span class="title function_ invoke__">share</span>(<span class="string">&#x27;date&#x27;</span>,<span class="string">&#x27;2021&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="views-blade-php-1"><a href="#views-blade-php-1" class="headerlink" title="views.blade.php"></a>views.blade.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;This is be Input up&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Hello,&#123;&#123;<span class="variable">$date</span>&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ¤æ–­è§†å›¾æ˜¯å¦å­˜åœ¨"><a href="#åˆ¤æ–­è§†å›¾æ˜¯å¦å­˜åœ¨" class="headerlink" title="åˆ¤æ–­è§†å›¾æ˜¯å¦å­˜åœ¨"></a>åˆ¤æ–­è§†å›¾æ˜¯å¦å­˜åœ¨</h2><p>  <img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/10.laravel%20%E8%A7%86%E5%9B%BE.md/20210210102754315_1464969605.png"><br>Laravelä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§é’ˆå¯¹è§†å›¾æ˜¯å¦å­˜åœ¨çš„æ–¹æ³•<code>exists</code>ï¼Œåªéœ€åœ¨è·¯ç”±web.phpç±»ä¸­è¿›è¡Œå®šä¹‰å³å¯ï¼š</p>
<h3 id="web-php-1"><a href="#web-php-1" class="headerlink" title="web.php"></a>web.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Route</span>::<span class="title function_ invoke__">get</span>(<span class="string">&#x27;/views&#x27;</span>, function () &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">view</span>()-&gt;<span class="title function_ invoke__">exists</span>(<span class="string">&#x27;views&#x27;</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;yes&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;no&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰é”™è¯¯é¡µé¢"><a href="#è‡ªå®šä¹‰é”™è¯¯é¡µé¢" class="headerlink" title="è‡ªå®šä¹‰é”™è¯¯é¡µé¢"></a>è‡ªå®šä¹‰é”™è¯¯é¡µé¢</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/markdown/web/php/laravel/10.laravel%20%E8%A7%86%E5%9B%BE.md/20210211112604757_1685435945.png"><br>åœ¨Laravelé¡¹ç›®ä¹‹ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨<code>resources/views/errors</code>å†…æ–°å»ºå„ä¸ªHTTPçŠ¶æ€ç çš„å¯¹åº”<code>blode.php</code>é¡µé¢ï¼Œæœ¬æ–‡ä¸»è¦æ¼”ç¤º404é¡µé¢ï¼š</p>
<h3 id="404-blode-php"><a href="#404-blode-php" class="headerlink" title="404.blode.php"></a>404.blode.php</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;<span class="number">404</span>&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;<span class="number">404</span>&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>





	<span class="different-posts">ğŸ“– <a href="/page/30">more posts</a> ğŸ“–</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ blog <br><br> é€šè¿‡ <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> è¿›è¡Œæ„å»ºçš„ï¼Œå­˜æ”¾åœ¨ <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> ä¸Šã€‚</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
