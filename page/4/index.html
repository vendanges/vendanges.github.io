<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>ç¼ç‘¶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="ç¼ç‘¶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">ç¼ç‘¶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">æ¢¦å…¥ç¼æ¥¼å¯’æœ‰æœˆï¼Œè¡Œè¿‡çŸ³æ ‘å†»æ— çƒŸ</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">ğŸ“– <a href="/page/3">earlier posts</a> ğŸ“–</span>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/2.0/11.Vue Prop/">Vue Prop</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue2-0/" rel="tag">vue2.0</a>
			</span>
		
	</div>

	

	
		<p>åœ¨ç»„å»ºåŸºç¡€ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº† Propæ˜¯ä½œä¸ºä¸€ä¸ªDOMå±æ€§ç»‘å®šï¼Œè€Œä¸æ˜¯å±æ€§ç»‘å®šï¼Œå¦‚æœæœ‰ä¸äº†è§£æˆ–ä¸çŸ¥é“çš„è¯»è€…å¯ä»¥é˜…è¯»ä¸‹å‰é¢å‡ ç« çš„å†…å®¹æœ€åæ¥é˜…è¯»æœ¬ç« ã€‚</p>
<h2 id="å¤§å°å†™"><a href="#å¤§å°å†™" class="headerlink" title="å¤§å°å†™"></a>å¤§å°å†™</h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒHTMLä¸­çš„å±æ€§åç§°æ˜¯ä¸å­˜åœ¨å¤§å°å†™æ•æ„Ÿçš„ï¼Œæ‰€ä»¥æµè§ˆå™¨å¤§å¤šéƒ½ä¼šå°†<code>å¤§å†™å­—æ¯</code>è§£é‡Šä¸º<code>å°å†™å­—æ¯</code>ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€é©¼å³°å‘½åçš„æ–¹å¼éœ€è¦ä½¿ç”¨å…¶<code>æ®µæ¨ªçº¿åˆ†å‰²çš„å‘½å</code>æ–¹å¼ã€‚</p>
<h2 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h2><p>é€šå¸¸çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„Propsç±»å‹éƒ½ä¼šä¸º<code>å­—ç¬¦ä¸²</code>ç±»å‹ï¼Œå¯¹æ­¤ï¼ŒVueä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¤šç§ç±»å‹çš„é€‰æ‹©æ–¹å¼ï¼Œå¦‚ï¼š</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>String</td>
<td>å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>Number</td>
<td>æ•°å­—</td>
</tr>
<tr>
<td>Boolean</td>
<td>å¸ƒå°”</td>
</tr>
<tr>
<td>Array</td>
<td>æ•°ç»„</td>
</tr>
<tr>
<td>Object</td>
<td>å¯¹è±¡</td>
</tr>
<tr>
<td>Function</td>
<td>åŠŸèƒ½</td>
</tr>
<tr>
<td>Promise</td>
<td>æ‰¿è¯º</td>
</tr>
</tbody></table>
<p>å¯¹æ­¤ï¼Œæˆ‘ä»¬çš„ code å¯ä»¥å°†ä¹‹å‰å•çº¯çš„å®šä¹‰å±æ€§ä¹‹åï¼Œåœ¨æŒ‡å®šå…¶ç±»å‹ï¼Œå¦‚:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;title&#x27;, &#x27;age&#x27;]</span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">    title: String,</span><br><span class="line">    age: Number,</span><br></pre></td></tr></table></figure>
<p>å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: String,</span><br><span class="line">            age: Number,</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ä¼ é€’é™æ€å’ŒåŠ¨æ€"><a href="#ä¼ é€’é™æ€å’ŒåŠ¨æ€" class="headerlink" title="ä¼ é€’é™æ€å’ŒåŠ¨æ€"></a>ä¼ é€’é™æ€å’ŒåŠ¨æ€</h2><p>å½“ä¸€åˆ‡æ‰§è¡Œå®Œæˆä¹‹åä½ ä¼šå‘ç°ï¼Œå³ä½¿æˆ‘ä½¿ç”¨çš„æ˜¯ <code>age</code>ï¼Œä½†vueå¹¶æ²¡æœ‰èµ·åˆ°ä»€ä¹ˆå®è´¨æ€§çš„æ•ˆæœï¼Œç”šè‡³è¿˜å¯ä»¥è¾“å…¥<code>Hello,world</code>å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ã€‚åœ¨è¿™ä¸ªæ—¶å€™ï¼Œç”±äºæˆ‘ä»¬ä¼ é€’ç»™ <code>prop</code>ä¸­æ˜¯<code>é™æ€ Prop</code>å³ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;props&quot;&gt;</span><br><span class="line">    &lt;props age=&quot;10&quot;&gt;&lt;/props&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: String,</span><br><span class="line">            age: Number,</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæƒ³ä¼ é€’ä¸€ä¸ª<code>åŠ¨æ€ Prop</code>ï¼Œéœ€è¦ä½¿ç”¨<code>v-bind</code>æˆ–<code>:</code>å³v-bindçš„ç¼©å†™æ¥è®©å…¶æˆä¸ºä¸€ä¸ª<code>åŠ¨æ€çš„ prop</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;props&quot;&gt;</span><br><span class="line">    &lt;props :age=&quot;10&quot;&gt;&lt;/props&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: String,</span><br><span class="line">            age: Number,</span><br><span class="line">            text: [String, Number]</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>å½“ä½¿ç”¨è¿‡<code>v-bind</code>æ¥ä¼ é€’ Propçš„æ—¶å€™ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ•°æ®éƒ½å°†æ˜¯<code>åŠ¨æ€çš„ prop</code>ï¼Œæ‰€ä»¥ vue ä¹Ÿå¯ä»¥æ ¹æ®æ‰€<code>å®šä¹‰çš„å±æ€§</code>æ¥è¿›è¡Œåˆ¤æ–­ Propæ•°æ®æ˜¯å¦ç¬¦åˆæ‰€å®šä¹‰çš„<code>Prop ç±»å‹</code></p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615745433_20210315010205921_1751733013.png"><br>é™¤äº†æŒ‡å®š Prop çš„ç±»å‹ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ vue ä¸ºæˆ‘ä»¬æ‰€æä¾›çš„ <code>Prop éªŒè¯</code>ï¼Œï¼ˆè™½ç„¶è¿™ä¸€ç‚¹æœ‰ç‚¹åƒæ˜¯ Laravel æ‰€æä¾›çš„è¡¨å•éªŒè¯ï¼Œä½†åœ¨Vueä¸­ä¹Ÿè¢«å‘æŒ¥çš„ç³ç³å°½è‡³ï¼‰ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;props-component :title-data=&quot;titleData&quot;&gt;&lt;/props-component&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var propsComponent = &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            titleData: &#123;</span><br><span class="line">                type: String,</span><br><span class="line">                required: true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;titleData&#125;&#125;&#x27;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        components: &#123;</span><br><span class="line">            &#x27;props-component&#x27;:propsComponent</span><br><span class="line">        &#125;,</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šå›¾ä¹‹ä¸­ï¼Œä¸»è¦æ¥éªŒè¯<code>titleData</code>å±æ€§æ˜¯å¦å­˜åœ¨æ•°æ®ï¼Œå¦‚æœå­˜åœ¨æ•°æ®åˆ™è¿›è¡Œæ˜¾ç¤ºï¼Œä½†å¦‚æœæ²¡æœ‰æ•°æ®åˆ™ä¼šåœ¨æ§åˆ¶å°ä¸­è¾“å‡ºé”™è¯¯ã€‚</p>
<h2 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615745434_20210315021023489_735669898.png"><br>åœ¨é€šå¸¸çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½ ä¸æŒ‡å®šç›¸å…³æ•°æ®ï¼Œé‚£ä¹ˆå°†ä¼šè¢«è¾“å‡ºä¸º<code>null</code>å³ç©ºï¼Œä¸”ä¸å¯è§ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ vue æ‰€æä¾›çš„<code>default</code>æ–¹æ³•æ¥è®¾ç½®ä¸€ä¸ªç»„ä»¶çš„é»˜è®¤å€¼ï¼Œè€Œé»˜è®¤å€¼çš„æ•°æ®åˆ™æ˜¯å…¶<code>å±æ€§</code>å†…çš„ä¿¡æ¯ï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;props&quot;&gt;</span><br><span class="line">    &lt;props :age=&quot;101&quot;&gt;&lt;/props&gt;</span><br><span class="line">    &lt;props&gt;&lt;/props&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            age: &#123;</span><br><span class="line">                type: Number,</span><br><span class="line">                default: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/2.0/10.Vue ç»„ä»¶æ³¨å†Œ/">Vue ç»„å»ºæ³¨å†Œ</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue2-0/" rel="tag">vue2.0</a>
			</span>
		
	</div>

	

	
		<h2 id="ç»„å»ºå"><a href="#ç»„å»ºå" class="headerlink" title="ç»„å»ºå"></a>ç»„å»ºå</h2><p>å…³äº Vue çš„ç»„å»ºåç‰¹åˆ«æ˜¯å…¨å±€ç»„ä»¶çš„æ³¨å†Œæ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;components-name&#x27;, &#123;</span><br><span class="line">    // â€¦â€¦</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­åœ¨å…¨å±€ç»„ä»¶æ³¨å†Œä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<strong>å…¨å±€ç»„ä»¶</strong>çš„åç§°ï¼Œè€Œç¬¬äºŒå‚æ•°åˆ™ä¸ºç»„ä»¶ä¸­çš„<strong>code</strong>ã€‚</p>
<h3 id="ç»„ä»¶åçš„å‘½åæ–¹å¼"><a href="#ç»„ä»¶åçš„å‘½åæ–¹å¼" class="headerlink" title="ç»„ä»¶åçš„å‘½åæ–¹å¼"></a>ç»„ä»¶åçš„å‘½åæ–¹å¼</h3><p>ç»„å»ºåçš„å®šä¹‰ä¸»è¦å‘½åæ–¹å¼ä¸º <code>kebab-case</code>å³â€œçŸ­æ¨ªçº¿åˆ†å‰²å‘½åæ–¹æ³•â€è¿˜æœ‰<code>é©¼å³°å¼å‘½å</code>ï¼Œä»–ä»¬çš„å‘½åæ–¹å¼ä¸»è¦ä½“ç°åœ¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&quot;component-name&quot;, &#123;</span><br><span class="line">    // â€¦â€¦</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä»¥åŠé©¼å³°å¼å‘½åæ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&quot;componentName&quot; , &#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>çŸ­æ¨ªçº¿å‘½åä»¥åŠé©¼å³°å¼å‘½åä¸»è¦åŒºåˆ†åœ¨<code>component-name</code>å’Œ<code>componentName</code>ï¼Œé€šå¸¸ä½¿ç”¨çŸ­æ¨ªçº¿æ˜æ˜æ›´åŠ çš„æ˜æ˜¾ä½†åœ¨ä¸€äº›è¯­è¨€ä¸­å¹¶ä¸æ”¯æŒï¼Œæ‰€ä»¥é©¼å³°å¼å‘½åæ–¹æ³•å—ä¼—æ›´å¤šã€‚</p>
<p>åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œè™½ç„¶<strong>çŸ­æ¨ªçº¿åˆ†å‰²</strong>ä»¥åŠ<strong>é©¼å³°å¼</strong>å‘½åæ–¹å¼éƒ½ä¼šè¢«æ¥å—ï¼Œä½†æ˜¯ç›´æ¥åœ¨DOMä¸­ä½¿ç”¨æ—¶åªæ”¯æŒä»¥<strong>çŸ­æ¨ªçº¿åˆ†å‰²</strong>å³<code>Kebab-case</code>æ˜¯æœ‰æ•ˆçš„</p>
<h2 id="å…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œ"><a href="#å…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œ" class="headerlink" title="å…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œ"></a>å…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œ</h2><h3 id="å…¨å±€æ³¨å†Œ"><a href="#å…¨å±€æ³¨å†Œ" class="headerlink" title="å…¨å±€æ³¨å†Œ"></a>å…¨å±€æ³¨å†Œ</h3><p>é€šè¿‡å…¨å±€æ³¨å†Œé€šå¸¸ä¼šä½¿ç”¨<code>Vue.component</code>æ¥åˆ›å»ºä¸€ä¸ªå…¨å±€ç»„ä»¶å³ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;component-name&#x27;, &#123;</span><br><span class="line">    // â€¦â€¦</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åœ¨ä»–ä»¬æ³¨å†Œä¹‹åå¯ä»¥ç”¨åœ¨ä»»ä½•æ–°çš„Vueå®ä¾‹ä¸­ï¼Œå°±æ¯”å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;componente-one&#x27;, &#123;</span><br><span class="line">    // â€¦â€¦ </span><br><span class="line">&#125;)</span><br><span class="line">Vue.component(&#x27;componente-two&#x27;, &#123;</span><br><span class="line">    // â€¦â€¦ code</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">new Vue (&#123;</span><br><span class="line">    el: &#x27;#app&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå¯ä»¥å¯ä»¥ç”¨è¿‡ä½¿ç”¨ä¸‹æ”¾å®ä¾‹ç›´æ¥ä½¿ç”¨åˆšåˆšæ‰€æ³¨å†Œçš„å…¨å±€ç»„ä»¶:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">componente-one</span>&gt;</span><span class="tag">&lt;/<span class="name">componente-one</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">componente-two</span>&gt;</span><span class="tag">&lt;/<span class="name">componente-two</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="å±€éƒ¨æ³¨å†Œ"><a href="#å±€éƒ¨æ³¨å†Œ" class="headerlink" title="å±€éƒ¨æ³¨å†Œ"></a>å±€éƒ¨æ³¨å†Œ</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615626087_20210313165644557_1926240209.png"><br>å…¨å±€æ³¨å†Œé€šå¸¸å¾€å¾€éƒ½ä¸ä¼šæ˜¯å¤ªäºç†æƒ³çš„ï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šçš„ç»„ä»¶ï¼Œä½†æ˜¯ä½ ç”¨åˆ°çš„åªæœ‰é‚£ä¸€ä¸¤ä¸ªï¼Œåˆ™ä¼šé€ æˆå¾ˆå¤šçš„ä»£ç è¡Œæ•°å¢åŠ ï¼ˆç»ç®¡å…¨å±€æ³¨å†Œçš„åˆå§‹ç»“æ„ä¼šæ¯”å±€éƒ¨æ³¨å†Œçš„å°‘å‡ è¡Œï¼‰ï¼Œé€šè¿‡å±€éƒ¨æ³¨å†Œï¼Œå³<code>æœ‰å¤šå°‘ï¼Œæ³¨å†Œå¤šå°‘</code>ï¼Œä½†å…¨å±€æ³¨å†Œåˆ™æ˜¯<code>å°½ç®¡æ¥ï¼Œè¶çƒ­ï¼Œæ¥è€…ä¸æƒ§çš„</code>çš„æ–¹å¼è¿›è¡Œç»„ä»¶çš„æ³¨å†Œã€‚é€šè¿‡ä¸Šè¿°çš„å¯¹æ¯”æˆ‘ä»¬å¯ä»¥æ›´å¿«çš„ç†è§£å…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œç›¸äº’ä¹‹é—´çš„å·®å¼‚ä»¥åŠåŒºåˆ«ï¼Œè¯»è€…å¯æ ¹æ®åœ¨å¼€å‘é¡¹ç›®ä¸­æ—¶è‡ªè¡Œè¿›è¡Œä½¿ç”¨ä¸¤ç§æ–¹æ³•æ¥æ„å»ºä¸€ä¸ªé¡¹ç›®ã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/2.0/1.Vue ç®€ä»‹/">Vue åŸºç¡€</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue2-0/" rel="tag">vue2.0</a>
			</span>
		
	</div>

	

	
		<p>Vue æ˜¯ç”±<code>å°¤é›¨æºª</code>æ‰€å¼€å‘çš„ä¸€ç§å‰ç«¯<code>js</code>æ¡†æ¶ï¼Œä»¥vueä¸ºä¸­å¿ƒçš„vue åº“æœ€ä¸ºå‡ºåï¼Œå…¶ä¸­çŸ¥åçš„æœ‰<code>vue-dataã€vue-tableâ€¦â€¦</code>åˆ†åˆ«è¿ç”¨åœ¨<code>æ•°æ®å¤§å±</code>ä»¥åŠ<code>è¡¨æ ¼å¤„ç†</code>æ–¹é¢ï¼Œå…¶ä¸­vueä¸»è¦ç”¨äº<strong>æ„å»ºç”¨æˆ·ç•Œé¢</strong>çš„æ¸è¿›å¼æ¡†æ¶ï¼Œæ ¸å¿ƒåº“åªæ”¯æŒå‰ç«¯æ˜¾ç¤ºã€‚è€Œæ¸è¿›å¼æ¡†æ¶ä¸»è¦æ˜¯ï¼šâ€œä¸€å¼€å§‹ä¸éœ€è¦å®Œå…¨æŒæ¡å…¨éƒ¨åŠŸèƒ½ï¼Œåˆ°åé¢ä¼šæ…¢æ…¢çš„æå‡â€ï¼Œå°±ä»¥<code>vue-data</code>ä¸ºä¾‹ï¼Œå³ä½¿å…‰é€šè¿‡å®˜æ–¹æ–‡æ¡£ä¹Ÿå¯ä»¥å¿«é€Ÿä¸Šæ‰‹ï¼Œè¿™ä¸vue.jsçš„æˆåŠŸå¯†åˆ‡ç›¸å…³ã€‚</p>
<p>vue.js çš„å®˜æ–¹æ–‡æ¡£æ˜¯å†™çš„æœ€ä¸ºè¯¦ç»†çš„æ¡†æ¶æ–‡æ¡£ä¹‹ä¸€ï¼Œè¿™ä¸å…¶vue.jså‘å±•ä¹‹å‡ºçš„Laravel ç¤¾åŒºæ–‡æ¡£å‡ºç°äº†å¯¹æ¯”ï¼Œå¦‚æœæŒ‰ç…§é€šä¿—çš„è¯æ¥è®²å°±æ˜¯â€œ<strong>æ•™ä½ é€ è½¦ä½†ä¸æ•™ä½ å¼€è½¦</strong>â€ï¼Œè¿™ä¹Ÿæ˜¯vue.jså¦‚æ­¤æˆåŠŸçš„å…³é”®å› ç´ ä¹‹ä¸€ï¼Œå…¶äºŒå°±æ˜¯ç”±äºvue.jsæ˜¯ç”±å›½äººæ‰€å¼€å‘çš„ï¼Œè¿™ä¹Ÿå¢åŠ äº†vue.jsåœ¨å›½å†…çš„å—æ¬¢è¿ç¨‹åº¦ä¸åŒç±»æ¡†æ¶ç¬¬ä¸€å½±å“æ›´å¥½ã€‚</p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>Vueçš„å®‰è£…éå¸¸çš„ç®€å•ï¼Œæœ¬æ–‡ä¸»è¦ä½¿ç”¨vueæ‰€æä¾›çš„cdnæ¥å¼•å…¥é¡¹ç›®å†…è¿›è¡Œæ¼”ç¤ºï¼Œvueä¸ºå¼€å‘è€…æä¾›äº†ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«ä¸º<code>å¼€å‘ç¯å¢ƒç‰ˆ</code>ä»¥åŠ<code>ç”Ÿäº§ç¯å¢ƒ</code>ç‰ˆæœ¬ï¼Œä¸¤è€…çš„åŒºåˆ«å°±æ˜¯ä¸€ä¸ª<strong>å«æœ‰äº†å¸®åŠ©ä»¥åŠå‘½ä»¤è¡Œè­¦å‘Š</strong>ï¼Œè€Œå¦ä¸€ä¸ªä¸»è¦<strong>ä¼˜åŒ–äº†å°ºå¯¸å’Œå¤„ç†é€Ÿåº¦</strong>ï¼Œæˆ‘ä»¬åˆ†åˆ«å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ CDNè¿›è¡Œå¼•å…¥ ï¼š</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>å¼€å‘ç¯å¢ƒç‰ˆ</td>
<td><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;</code></td>
</tr>
<tr>
<td>ç”Ÿäº§ç¯å¢ƒç‰ˆ</td>
<td><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue&quot;&gt;&lt;/script&gt;</code></td>
</tr>
</tbody></table>
<h2 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180760_20210308094150988_738689573.gif" alt="ç¼–è¾‘ app.message å€¼"><br>Vue.jså…è®¸ä½¿ç”¨è¾ƒä¸ºç®€æ´çš„æ¨¡æ¿è¯­æ³•ä»¥å£°æ˜å¼çš„å°†æ•°æ®æ¸²æŸ“åˆ°<code>HTML DOMï¼ˆHTML Document Object Modelï¼Œæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</code>å†…ï¼Œä½¿å¾—æ•°æ®å¯ä»¥<strong>ä»»æ„çš„è¿›è¡Œç¼–è¾‘ï¼Œä»¥åŠå®æ—¶é¢„è§ˆ</strong>ï¼ŒHTML DOMç”¨äºå°†å…ƒç´ çœ‹ä½œå¯¹è±¡ï¼Œ<code>ä»è€Œä½¿å¾—å…ƒç´ å¯ä»¥è¢«è¿›è¡Œç¼–è¾‘ä»¥åŠè·å–</code>ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬å£°æ˜ä¸€ä¸ª<code>message</code>å¯¹è±¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app =new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: &#x27;hello,world!&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;) </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ç»‘å®šå…ƒç´ å±æ€§"><a href="#ç»‘å®šå…ƒç´ å±æ€§" class="headerlink" title="ç»‘å®šå…ƒç´ å±æ€§"></a>ç»‘å®šå…ƒç´ å±æ€§</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p v-bind:title=&quot;message&quot;&gt;ç»‘å®šæ ‡é¢˜&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: &quot;ç»‘å®šå±æ€§ä¸ºtoLocaleDateString &quot; + new Date().toLocaleDateString() </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶å¦‚æœå°†é¼ æ ‡ç§»åŠ¨åˆ°<code>&lt;p&gt;</code>å…ƒç´ å†…ï¼Œåˆ™ä¼šæç¤ºä¿¡æ¯ä¸º<code>ç»‘å®šå±æ€§ä¸º toLocaleDateString()</code>æ–¹æ³•ï¼Œè¿™é‡Œæ‰€ç”¨åˆ°çš„<code>v-bind</code>ä¸ºvueæ‰€æä¾›çš„æŒ‡ä»¤ï¼š</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>v-bind</td>
<td>å°†è¿™ä¸ªå…ƒç´ ç‚¹çš„æ ‡é¢˜å±æ€§å’Œmessage å®ä¾‹å†…çš„æ¶ˆæ¯å±æ€§ ç»‘å®šåœ¨ä¸€èµ·</td>
<td></td>
</tr>
<tr>
<td>toLocaleDateString</td>
<td>åŒºåŸŸæ—¥æœŸå­—ç¬¦ä¸²</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180763_20210308100455145_465903495.png"></td>
</tr>
<tr>
<td>toLocaleTimeString</td>
<td>åŒºåŸŸæ—¶é—´å­—ç¬¦ä¸²</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180763_20210308100522456_1178855761.png"></td>
</tr>
<tr>
<td>toLocaleString</td>
<td>åŒºåŸŸå­—ç¬¦ä¸²</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180764_20210308100559537_524761025.png"></td>
</tr>
</tbody></table>
<h2 id="æ¡ä»¶"><a href="#æ¡ä»¶" class="headerlink" title="æ¡ä»¶"></a>æ¡ä»¶</h2><p>vue.jsæ”¯æŒæäº¤è¯­æ³•çš„å†™å…¥ï¼Œæœ¬ç« ä¸»è¦å…ˆä»‹ç»ä¸‹vueçš„ç‰¹ç‚¹ä»¥åŠè¯­æ³•ç­‰åŸºç¡€åŠŸèƒ½çš„å®ç°ï¼Œåœ¨åç»­æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»vueçš„æ¡ä»¶ä»¥åŠå¾ªç¯æŒ‡ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p v-if=&quot;message&quot;&gt;Hello,worldï¼&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸ä¸Šè¿°ä¸€æ ·ï¼Œvueä¸ä»…ä»…å¯ä»¥å°†æ•°æ®ç»‘å®šåˆ°DOMæ–‡æœ¬æˆ–å±æ€§ï¼Œè¿˜å¯ä»¥ç»‘å®šDOMçš„ç»“æ„ï¼Œè¿™æ„å‘³ç€ä½ åœ¨æ§åˆ¶å°ä¸­å°†<code>app.message=false</code>å¯ä»¥å°†<code>Hello,wirkd!</code>æ‰€éšè—ã€‚</p>
<h2 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615181640_20210308132719180_18339660.png"><br>åœ¨vueå†…ï¼Œå¾ªç¯å¯ä»¥é€šè¿‡ä½¿ç”¨<code>v-for</code>æŒ‡ä»¤æ¥å®ç°ï¼Œä¸ä¸Šè¿°ä¸€æ ·ï¼Œvueä¹Ÿä¼šå°†æ­¤ç»‘å®šåˆ°DOMå¯¹è±¡å†…ï¼Œéƒ½å¯è¿›è¡Œæ§åˆ¶å°å†…è¾“å…¥<code>app.todos.push(&#123;text : &quot;Hello,vue&quot;&#125;)</code>è¿›è¡Œä¿®æ”¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;todo in todos&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;&#123;todo.text&#125;&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">todos</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#123; <span class="attr">text</span>: <span class="string">&#x27;Hello,world&#x27;</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#123; <span class="attr">text</span>: <span class="string">&#x27;Hello,china&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="åŒå‘ç»‘å®š"><a href="#åŒå‘ç»‘å®š" class="headerlink" title="åŒå‘ç»‘å®š"></a>åŒå‘ç»‘å®š</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615181641_20210308133153611_510465296.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;input v-model=&quot;message&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el: &quot;#app&quot;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: &#x27;Hello,world&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä½¿ç”¨<code>v-model</code>æŒ‡ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸æ–¹ä¾¿çš„è·å–è¡¨å•æ‰€è¾“å…¥çš„å†…å®¹æ¥å®ç°åŒå‘ç»‘å®šã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/9.Node.js TCP Server/">Node.js TCP Server</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>TCP Server é€šè¿‡ Node ä¸­çš„ <code>net</code> æ¨¡å—æ¥å®ç° TCP å››å±‚æ¨¡å‹ï¼ˆåº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€é“¾è·¯å±‚ï¼‰</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Protocol</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>é“¾è·¯å±‚ï¼ˆLink layerï¼‰</td>
<td>è´Ÿè´£åœ¨ä»¥å¤ªç½‘ã€Wifi åº•å±‚ç½‘ç»œå‘é€æ•°æ®åŒ…ï¼Œå¹¶é€šè¿‡ç½‘å¡ã€ä½¿ç”¨ MAC åœ°å€æ¥æ ‡è®°ç½‘ç»œä¸Šçš„è®¾å¤‡</td>
<td>GPRSã€IEEEã€IPoeã€Localhostã€TRILLã€IPoACã€FDDIã€NAK\NACKã€SENDã€frame\frame relayã€ATMã€Data Link Layerã€PPPã€STPã€L2TPã€ARQã€CDPDã€LLDPã€LCPã€Link Aggregationã€HDLC</td>
</tr>
<tr>
<td>2</td>
<td>ç½‘ç»œå±‚\ç½‘ç»œäº’è”å±‚ï¼ˆInternet layerï¼‰</td>
<td>å®šä¹‰äº† IP åœ°å€çš„æ¦‚å¿µï¼Œé€šè¿‡ IP åœ°å€å–ä»£ MAC åœ°å€ï¼Œå¹¶å°†å±€åŸŸç½‘ã€å¹¿åŸŸç½‘é“¾æ¥æˆä¸€ä¸ªè™šæ‹Ÿç½‘ç»œï¼Œä¸»è¦ç›®çš„å°±æ˜¯ <strong>å°† IP åœ°å€ç¿»è¯‘æˆ MAC åœ°å€å°±å¯æŸ¥æ‰¾è®¾å¤‡</strong></td>
<td>IPsecã€IPv4\IPv5\IPv6\IPv9ã€ IP Addressã€x.25ã€IPXã€ICMP\ICMPv6ã€IGMPã€DDPã€Mobile IPã€Network Layerã€PPPã€RSVPã€Anti-replay</td>
</tr>
<tr>
<td>3</td>
<td>ä¼ è¾“å±‚ï¼ˆTransport layerï¼‰</td>
<td>ä¿è¯æ•°æ®åœ¨ IP åœ°å€æ ‡è®°çš„ä¸¤ç‚¹ä¹‹é—´è¿›è¡Œä¼ è¾“</td>
<td>TCPã€UDPã€TLS\SSLã€DCCPã€SCTPã€RSVP</td>
</tr>
<tr>
<td>4</td>
<td>åº”ç”¨å±‚ï¼ˆApplication layerï¼‰</td>
<td>ç›´æ¥ä¸åº”ç”¨ç¨‹åºå’Œæ¥å£ç»“åˆï¼Œå¹¶æä¾›å¸¸è§çš„åº”ç”¨æœåŠ¡</td>
<td>DHCPã€DNSã€FTPã€gopherã€HTTP\HTTP-2ã€IMAP4ã€IRCã€NNTPã€XMPPã€POP3ã€SIPã€SMTPã€SNMPã€SSHã€TELNETã€RPCã€RTCPã€RTPã€RTSPã€SDPã€SOAPã€GTPã€STUNã€NTPã€SSDP</td>
</tr>
</tbody></table>
<p>å¯¹äºæ¯ä¸ªç½‘ç»œå±‚æ¬¡ï¼ŒNode éƒ½æä¾›äº†ç›¸åº”çš„æ¨¡å—ï¼Œå¦‚ httpã€netã€tls&#x2F;cryptoã€dgram ç­‰ï¼Œå…¶ä¸­ netã€httpã€dgram æ¨¡å—åˆ†åˆ«å®ç°å’Œæä¾› TCPã€HTTP çš„é€šä¿¡ï¼Œå…¶ä¸­ <code>http</code> ä¸ºåº”ç”¨å±‚æ¨¡å—ï¼Œè€Œ <code>net</code> ä¸ºä¼ è¾“å±‚æ¨¡å—ã€‚</p>
<figure class="highlight plaintext"><figcaption><span>æ˜¯ä¸€ä¸ªç»¼åˆæ¨¡å—ï¼ŒåŒ…å«äº† ```http/tls/crypto``` ç­‰ï¼Œè¿™å°†ç”¨äºç¡®ä¿ä¼ è¾“çš„å®‰å…¨æ€§ã€‚å…¶ä¸­ ```net``` æ¨¡å—æ˜¯ node ä¸­çš„æ ¸å¿ƒæ¨¡å—ï¼Œä¸¥è°¨çš„æ¥è¯´ ```http.Server``` ç»§æ‰¿äº† ```net.Server```ï¼Œé™¤æ­¤ä¹‹å¤– ```HTTP SERVER/CLIENT``` éƒ½ä»¥æ¥ä¸ ```net.Socket```ï¼Œè€Œ net æ¨¡å—ä¸»è¦åˆ†ä¸ºï¼š</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. net.Serverï¼šé€šè¿‡å…¶å†…éƒ¨çš„ ```socket``` æ¥æä¾›å®¢æˆ·ç«¯çš„é€šä¿¡</span><br><span class="line">2. net.Socketï¼šTCP/Localhost socket çš„å®ç°ï¼Œå¹¶æä¾›äº†å…¨åŒå·¥çš„ stream æ¥å£</span><br><span class="line"></span><br><span class="line">&gt; Network socket ï¼ˆç½‘ç»œå¥—æ¥å­—ï¼‰æ˜¯æŒ‡ç½‘ç»œä¸­ä¸åŒä¸»æœºä¸Šåº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡ç«¯ç‚¹å¯¹è±¡ï¼Œä¸€ä¸ªå¥—æ¥å­—å°±æ˜¯ä¸€ä¸ªçš„å¦ä¸€ç«¯ï¼Œä¹Ÿå°±æ˜¯ä»¥ IP åŠç«¯å£æ‰€ç»„æˆçš„åœ°å€è¢«ç§°ä¹‹ä¸ºå¥—æ¥å­—åœ°å€ï¼ˆsocket addressï¼‰</span><br><span class="line"></span><br><span class="line">## Create TCP Server</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">var net = require(&#x27;net&#x27;)</span><br><span class="line"></span><br><span class="line">var server = net.createServer(function (socket) &#123;</span><br><span class="line">    console.log(&#x27;someone sonnects&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(8210, function () &#123;</span><br><span class="line">    console.log(&#x27;Create server on http://127.0.0.1:8210&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ª TCP æœåŠ¡å¯ä»¥é€šè¿‡ <code>net.createServer</code> æ–¹æ³•è¿›è¡Œåˆ›å»ºï¼Œå¯é€šè¿‡ <code>server.listen</code> æ¥è®¾ç½®æœåŠ¡çš„ç›‘å¬ç«¯å£ä»¥åŠï¼Œå½“ç„¶ä¸€æ—¦è¿è¡ŒæœåŠ¡æ—¶é™¤å‘çš„è¿˜æ˜¯ server ä¸‹çš„ <code>listening</code> äº‹ä»¶ï¼Œå› æ­¤ä¹Ÿæ”¯æŒå¦ä¸€ç§å†™æ³•ï¼š</p>
<h3 id="net-Server"><a href="#net-Server" class="headerlink" title="net.Server()"></a>net.Server()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;someone sonnects&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;listening&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1:8210/&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä¹‹å¤– <code>server</code> è¿˜æ”¯æŒå¦å¤–å‡ ç§ TCP äº‹ä»¶ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>listening</td>
<td>è°ƒç”¨ server.listen()ï¼Œå³å½“å¼€å§‹ç›‘å¬æ—¶å€™é™¤å‘</td>
</tr>
<tr>
<td>2</td>
<td>connection</td>
<td>å½“æœ‰æ–°åˆ›å»ºæ—¶åé™¤å‘ï¼Œå›è°ƒçš„å‚æ•°æ˜¯ socket è¿æ¥çš„å¯¹è±¡</td>
</tr>
<tr>
<td>3</td>
<td>close</td>
<td>å½“å…³é—­æ—¶è§¦å‘ï¼Œå›è°ƒå‡½æ•°æ²¡æœ‰å‚æ•°</td>
</tr>
<tr>
<td>4</td>
<td>error</td>
<td>å½“ TCP æœåŠ¡å‘ç”Ÿé”™è¯¯æ—¶è§¦å‘ï¼Œå›è°ƒå‚æ•°ä¸º error</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = <span class="keyword">new</span> net.<span class="title class_">Server</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬æ–°çš„è¯·æ±‚æ—¶è¿”å›å›è°ƒå‡½æ•°</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;connects someone&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬æ—¶è§¦å‘</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;listening&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1:8210/&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­è§¦å‘å›è°ƒå‡½æ•°</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;close&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;close server&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯æ—¶è¿”å›</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;server error!&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="server-address"><a href="#server-address" class="headerlink" title="server.address()"></a>server.address()</h3><p>å¦‚æœéœ€è¦ç›‘å¬ IP å¥—æ¥å­—ï¼Œä¹Ÿå°±æ˜¯å¥—æ¥å­—åœ°å€ï¼ˆsocket addressï¼‰ï¼Œå¯ä»¥é€šè¿‡ <code>server.address()</code> æ–¹æ³•æ¥å®ç°ï¼Œä»–ä¸»è¦æä¾›äº†ä¸‰ä¸ªæœåŠ¡å™¨ç»‘å®šçš„ <code>address</code> ä»¥åŠ <code>family</code> å’Œ <code>port</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;connects someone&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> address = server.<span class="title function_">address</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;TCP Server æ‰€ç›‘å¬çš„ç«¯å£å·ï¼š&quot;</span> + address.<span class="property">port</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;TCP Server æ‰€ç›‘å¬çš„åœ°å€ï¼š&quot;</span> + address.<span class="property">address</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;TCP Server IPv4 or IPv6ï¼š&quot;</span> + address.<span class="property">family</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœç›‘å¬çš„ç«¯å£å·æ˜¯ IPv6 åœ°å€ï¼Œé‚£ä¹ˆ <code>address</code> åˆ™è¿”å› <code>::</code></p>
</blockquote>
<h3 id="server-getConnections"><a href="#server-getConnections" class="headerlink" title="server.getConnections()"></a>server.getConnections()</h3><p>.<code>server.getConnections</code> æ–¹æ³•ç”¨äºå¼‚æ­¥è·å–æœåŠ¡å™¨ä¸Šçš„å¹¶å‘è¿æ¥æ•°ï¼Œå›è°ƒå‚æ•°åˆ†ä¸º <code>err</code> å’Œ <code>count</code> </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">&quot;net&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Create server on http://127.0.0.1:8210</span></span><br><span class="line"><span class="comment">    someone connects</span></span><br><span class="line"><span class="comment">    This is client count: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;someone connects&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    server.<span class="property">maxConnections</span>=<span class="number">3</span></span><br><span class="line">    server.<span class="title function_">getConnections</span>(<span class="keyword">function</span> (<span class="params">err,count</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;This is client count: &quot;</span> + count)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1:8210&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¹‹åæˆ‘ä»¬åˆ†åˆ«é€šè¿‡ GET è¯·æ±‚ <a target="_blank" rel="noopener" href="http://127.0.0.1:8210/">http://127.0.0.1:8210/</a> å¹¶é€šè¿‡ä»£ç†è®¿é—® uri åˆ™æœ‰ä¸‰ä¸ª IP è®¿é—®ï¼Œå› æ­¤åˆ†åˆ«ä¾æ¬¡å¾ªç¯è¾“å‡º This is Client count: 1~3 </p>
<h2 id="Server-at-Client-ä¹‹é—´çš„é€šä¿¡"><a href="#Server-at-Client-ä¹‹é—´çš„é€šä¿¡" class="headerlink" title="Server at Client ä¹‹é—´çš„é€šä¿¡"></a>Server at Client ä¹‹é—´çš„é€šä¿¡</h2><h3 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h3><p>æœåŠ¡ç«¯ä¸»è¦ç”¨äºæ¥æ”¶å®¢æˆ·ç«¯æ‰€å‘é€çš„æ¶ˆæ¯ï¼Œå› æ­¤åªéœ€è¦é€šè¿‡ <code>data</code> äº‹ä»¶æ¥æ¥æ”¶æ•°æ®æ—¶è¿›è¡Œè¾“å‡ºï¼Œåœ¨æ”¶åˆ°æ•°æ®ä¹‹å‰é¦–å…ˆé€šè¿‡ <code>address()</code> æ¥å°†è½¬æ¢ä¸º <code>JSON</code> æ ¼å¼å¹¶è¾“å‡ºï¼Œå¹¶é€šè¿‡ <code>socket.bytesWritten</code> æ¥è®¡ç®—å®¢æˆ·ç«¯æ‰€å‘é€çš„å­—èŠ‚æ•°ï¼Œæœ€åé€šè¿‡ <code>socket.bytesRead</code> æ–¹æ³•æ¥ç»Ÿè®¡ä¹¦æ•°æ®çš„å¤§å°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Create server on http://127.0.0.1/8210</span></span><br><span class="line"><span class="comment">    The is address is &#123;&quot;address&quot;:&quot;::&quot;,&quot;family&quot;:&quot;IPv6&quot;,&quot;port&quot;:8210&#125; ä»¥å‘é€</span></span><br><span class="line"><span class="comment">    æ¶ˆæ¯å¤§å°ä¸º 62</span></span><br><span class="line"><span class="comment">    Massage from client</span></span><br><span class="line"><span class="comment">    æ•°æ®çš„å¤§å°ä¸ºï¼š19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> addresss = server.<span class="title function_">address</span>()</span><br><span class="line">    <span class="keyword">var</span> message = <span class="string">&quot;The is address is &quot;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(addresss)</span><br><span class="line"></span><br><span class="line">    socket.<span class="title function_">write</span>(message,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> writeSize = socket.<span class="property">bytesWritten</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(message + <span class="string">&quot; ä»¥å‘é€&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ¶ˆæ¯å¤§å°ä¸º &quot;</span> + writeSize)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">			<span class="comment">// æ”¶åˆ°æ•°æ®æ—¶å›è°ƒ</span></span><br><span class="line">    socket.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>())</span><br><span class="line">        <span class="keyword">var</span> readSize = socket.<span class="property">bytesRead</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ•°æ®çš„å¤§å°ä¸ºï¼š&quot;</span> + readSize)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1/8210&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h3><p>åœ¨ Server ä¸ Client å»ºç«‹é“¾æ¥çš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯æ‰®æ¼”çš„æ˜¯æ•°æ®å‘é€è€…çš„èº«ä»½ï¼Œè€Œä»–ä¸»è¦çš„ä½œç”¨å°±æ˜¯ä¸æœåŠ¡ç«¯å»ºç«‹é“¾æ¥å¹¶å‘é€æ•°æ®ï¼Œä¹‹åç›‘å¬æœåŠ¡ç«¯çš„çŠ¶æ€ï¼Œåœ¨è¿™æœŸé—´ä¸»é€šè¿‡ <code>client.connect</code> æ¥é“¾æ¥æœåŠ¡ï¼Œä¹‹åä½¿ç”¨å…¶ <code>client.write</code> æ¥å†™å…¥æ•°æ®å¹¶å‘é€ã€‚</p>
<h4 id="net-Socket-ç±»"><a href="#net-Socket-ç±»" class="headerlink" title="net.Socket ç±»"></a>net.Socket ç±»</h4><h5 id="API"><a href="#API" class="headerlink" title="API"></a>API</h5><p>å¯¹äº <code>net.Socket</code> ç›¸å…³çš„ API  Node æä¾›äº†å¤šç§æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>socket.address()</td>
<td>è¿”å›æ“ä½œç³»ç»ŸæŠ¥å‘Šå¹¶ç»‘å®š addressï¼Œå’Œå¥—æ¥å­—çš„ port ä»¥åŠ family ç­‰</td>
</tr>
<tr>
<td>2</td>
<td>socket.bytesRead()</td>
<td>æ¥æ”¶çš„å­—èŠ‚æ•°</td>
</tr>
<tr>
<td>3</td>
<td>socket.bytesWritten()</td>
<td>å‘é€çš„å­—èŠ‚æ•°</td>
</tr>
<tr>
<td>4</td>
<td>socket.connect(options[,sonnectListener])</td>
<td>æŒ‡å®šå¥—æ¥å­—é“¾æ¥</td>
</tr>
<tr>
<td></td>
<td>options</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>port</code> å¥—æ¥å­—åº”è¯¥é“¾æ¥åˆ°çš„ç«¯å£ï¼ˆå¿…å¡«ï¼‰</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>host</code> å¥—æ¥å­—åº”è¿æ¥åˆ°çš„ä¸»æœºï¼ˆé»˜è®¤ä¸º <code>localhost</code>ï¼‰</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>localAddress</code> å¥—æ¥å­—åº”è¯¥é“¾æ¥åˆ°æœ¬åœ°åœ°å€</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>localPort</code> å¥—æ¥å­—åº”é“¾æ¥æœ¬åœ°ç«¯å£</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>family</code> IP å †æ ˆçš„ç‰ˆæœ¬ï¼ˆé€šå¸¸æ˜¯ IPv6ã€IPv4æˆ–0ï¼Œè€Œ 0 è¡¨ç¤º å…è®¸ IPv4&#x2F;6 åœ°å€ï¼‰</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>hints</code> å¯é€‰çš„ <code>dns.lookup()</code> æç¤º(ä¸»æœºå)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>lookup</code> è‡ªå®šä¹‰æŸ¥æ‰¾å‡½æ•°ï¼ˆé»˜è®¤ <code>dns.lookup()</code>ï¼‰</td>
</tr>
<tr>
<td>5</td>
<td>socket.connect(port[,host][,connectListener])</td>
<td>æŒ‡å®šå¥—æ¥å­—é“¾æ¥</td>
</tr>
<tr>
<td></td>
<td><code>port</code> å®¢æˆ·ç«¯åº”è¯¥é“¾æ¥åˆ°çš„ç«¯å£</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>host</code> å®¢æˆ·ç«¯åº”è¯¥é“¾æ¥åˆ°çš„ä¸»æœº</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>connectListener</code> æ–¹æ³•çš„å¸¸ç”¨å‚æ•°ï¼Œå°†è¢«æ·»åŠ ä¸º <code>connect</code> äº‹ä»¶ç›‘å¬</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td><code>socket.destroyed</code> åŠå…³é—­å¥—æ¥å­—ï¼ŒæœåŠ¡ç«¯å…³é—­æ—¶å‘é€æ•°æ®åŒ…ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å…³é—­</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>socket.localAddress</td>
<td>è¿œç¨‹å®¢æˆ·ç«¯é“¾æ¥æœ¬åœ° IP åœ°å€ï¼ˆä»¥ IP åœ°å€çš„å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºï¼Œå¦‚ <code>0.0.0.0</code>ï¼‰</td>
</tr>
<tr>
<td>8</td>
<td>socket.localPortï¼ˆsocket.remotePortï¼‰</td>
<td>æœ¬åœ°ç«¯å£æ•°å­—è¡¨ç¤ºï¼ˆå¦‚ <code>8210</code>ï¼‰</td>
</tr>
<tr>
<td>9</td>
<td>socket.remoteAddress</td>
<td>è¿œç¨‹ IP åœ°å€çš„å­—ç¬¦ä¸²å½¢å¼è¾“å‡ºï¼ˆå¦‚ <code>74.125.127.100</code> æˆ– <code>2001:4860:a005::68</code>ï¼‰</td>
</tr>
<tr>
<td>10</td>
<td>socket.remoteFamily</td>
<td>è¿œç¨‹ IP ç³»åˆ—çš„å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºï¼ˆå¦‚ <code>IPv6</code> æˆ– <code>IPv4</code>ï¼‰</td>
</tr>
<tr>
<td>11</td>
<td>socket.setTimeoutï¼ˆsocket.timeoutï¼‰</td>
<td>ç”¨äºè¿›è¡Œè®¾ç½®è¿æ¥ï¼ˆå¦‚æœ <code>timeout</code> ä¸º 0,åˆ™ç¦ç”¨ç©ºé—²è¶…æ—¶ï¼‰</td>
</tr>
<tr>
<td>12</td>
<td>socket.setKeepAlive()</td>
<td>ç”¨äºè®¾ç½®å’Œié•¿è¿æ¥</td>
</tr>
<tr>
<td>13</td>
<td>socket.destroy()\socket.destroyed</td>
<td>å½“é”™è¯¯å‘ç”Ÿæ—¶ï¼Œç”¨äºé”€æ¯ socketï¼Œä»¥ç¡®ä¿è¿™ä¸ª socket ä¸Šä¸ä¼šæœ‰å…¶ä»– IO æ“ä½œ</td>
</tr>
</tbody></table>
<h5 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h5><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>close</td>
<td>å½“é“¾æ¥æ–­å¼€æ—¶è§¦å‘ï¼Œå‡è®¾å› ä¸ºä¼ è¾“é”™è¯¯å¯¼è‡´æ–­å¼€ï¼Œåˆ™å‚æ•°ä¸º err</td>
</tr>
<tr>
<td>2</td>
<td>connect</td>
<td>å½“å»ºç«‹æˆåŠŸå¥—æ¥å­—é“¾æ¥æ—¶è§¦å‘</td>
</tr>
<tr>
<td>3</td>
<td>data</td>
<td>æ¥æ”¶åˆ°æ•°æ®æ—¶è§¦å‘</td>
</tr>
<tr>
<td>4</td>
<td>drain</td>
<td>å½“å†™ç¼“å­˜ç©ºäº†æ—¶è§¦å‘</td>
</tr>
<tr>
<td>5</td>
<td>end</td>
<td>å½“å¦ä¸€ç«¯ç»“æŸæ—¶è§¦å‘</td>
</tr>
<tr>
<td>6</td>
<td>error</td>
<td>å½“é”™è¯¯æ—¶è§¦å‘</td>
</tr>
<tr>
<td>7</td>
<td>lookup</td>
<td>å½“è§£æå®Œä¸»æœºååè§¦å‘</td>
</tr>
<tr>
<td>8</td>
<td>ready</td>
<td>å½“å¥—æ¥å­—å‡†å¤‡å¥½ä½¿ç”¨æ—¶è§¦å‘</td>
</tr>
<tr>
<td>9</td>
<td>timeout</td>
<td>æç¤ºç”¨æˆ· socket è¶…æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å…³é—­é“¾æ¥</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Connnect to Server</span></span><br><span class="line"><span class="comment">    The is address is &#123;&quot;address&quot;:&quot;::&quot;,&quot;family&quot;:&quot;IPv6&quot;,&quot;port&quot;:8210&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> net.<span class="title class_">Socket</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// é“¾æ¥æœåŠ¡å™¨ï¼Œ&quot;connect&quot; æ˜¯æŒ‡å½“æˆåŠŸå»ºç«‹è¿æ¥æ—¶è§¦å‘</span></span><br><span class="line">client.<span class="title function_">connect</span>(<span class="number">8210</span>,<span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Connnect to Server&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸ Server å»ºç«‹é“¾æ¥</span></span><br><span class="line">    client.<span class="title function_">write</span>(<span class="string">&quot;Massage from client&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">client.<span class="title function_">on</span>(<span class="string">&quot;data&quot;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“å¥—æ¥å­—å¦ä¸€ç«¯æ–­å¼€é“¾æ¥æ—¶å‡ºå‘å›è°ƒï¼Œä»è€Œç»“æŸå¥—æ¥å­—å¯è¯»ç«¯</span></span><br><span class="line">client.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;end Server&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/8.Node.js Express at ejs/">Node.js Express at ejs</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>express æ˜¯ä¸€ä¸ªé«˜åº¦åŒ…å®¹å’Œå¿«é€ŸåŒ…å®¹ä¸”æç®€çš„ Node.js Web æ¡†æ¶ï¼Œä¸»è¦ç”¨äºå…¶ API è·¯ç”±ä»¥åŠå¯¹æ•°æ®çš„é›†æˆæ”¯æŒï¼Œå¯é€šè¿‡ <code>express</code> æ¨¡å—å®Œæˆå„ç§ä½¿ç”¨ç¨‹åºæ–¹æ³•å’Œä¸­é—´ä»¶ï¼Œæ–¹ä¾¿å¿«æ·çš„åˆ›å»ºä¸€ä¸ªå¼ºå¤§çš„ APIã€‚</p>
<p>é€šè¿‡ <code>express</code> å’Œæ¨¡æ¿å¼•æ“ <code>ejs</code> çš„é…åˆï¼Œä»¥ ejs ååˆ†ç®€å•ä»¥åŠå¯¹ <code>express</code> è‰¯å¥½çš„é›†æˆï¼Œå¯ä»¥å……åˆ†çš„å®Œæˆå‰åç«¯çš„ç›¸å…³å¼€å‘éœ€æ±‚ï¼Œå¹¶ä»¥æ­¤æ¥å®Œæˆä¸€ä¸ªéå¸¸è§„èŒƒçš„ node start å†™æ³•ï¼Œåœ¨æ­¤ä¹‹å‰æˆ‘ä»¬éœ€è¦å®‰è£… <code>express</code> ä»¥åŠ <code>ejs</code> æ¨¡å—</p>
<blockquote>
<p>npm install ejs \ npm install express</p>
</blockquote>
<p>è·¯ç”±ç”¨äºç¡®å®šåº”ç”¨ç¨‹åºç‰¹å®šç«¯ç‚¹çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œä¸»è¦é€šè¿‡ <code>express</code> æ¥è¿›è¡Œå®ç°ï¼Œè€Œè¿™å…¶ä¸­ app ä¸ HTTP æ–¹æ³•ç›¸å¯¹åº”çš„ Express å¯¹è±¡æ–¹æ³•æ¥å®šä¹‰è·¯ç”±ï¼Œå¦‚ <code>app.get()</code> ç”¨äºå¤„ç† GET è¯·æ±‚ï¼Œè€Œ <code>app.post</code> åˆ™ç”¨äºå¤„ç† POST è¯·æ±‚ã€‚</p>
<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><p>è¿™äº›è·¯ç”±æ–¹æ³•éƒ½æŒ‡å®šäº†å›è°ƒå‡½æ•°ï¼ˆæˆ–è€…ï¼šâ€œå¤„ç†ç¨‹åºå‡½æ•°â€ï¼‰ï¼Œå½“ç¨‹åºæ¥æ”¶åˆ°æŒ‡å®šçš„è·¯ç”±ï¼ˆç«¯ç‚¹ï¼‰çš„æ—¶å€™ï¼ˆä¹Ÿå°±æ˜¯è¯´ HTTP æ–¹æ³•è¯·æ±‚æ—¶è¢«è°ƒç”¨ï¼‰ï¼Œæ¥è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œæ¢å¥è¯è¯´å°±æ˜¯åº”ç”¨ç¨‹åºç›‘å¬ä¸æŒ‡å®šè·¯ç”±å’Œæ–¹æ³•åŒ¹é…çš„è¯·æ±‚ï¼Œå½“æ£€æµ‹åˆ°åŒ¹é…æ—¶ï¼Œä»–ä¼šè°ƒç”¨å¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªéå¸¸ç¬¦åˆ node é£æ ¼çš„é¡¹ç›®å¹¶æ­é… ejs è¿›è¡Œå¼€å‘ï¼Œå¯ä»¥ç›®å½•ç»“æ„å¯ä»¥ä¸ºï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">node/</span><br><span class="line">â”œâ”€â”€ server.js</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ package-lock.json</span><br><span class="line">â”œâ”€â”€ route</span><br><span class="line">â”‚   â””â”€â”€ index.js</span><br><span class="line">â””â”€â”€ views</span><br><span class="line">    â””â”€â”€ index.ejs</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é™¤å» <code>node_modules</code> ç›®å½•</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> indexRoute = <span class="built_in">require</span>(<span class="string">&#x27;./route/index&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.set(name, value)ï¼Œå°† set name åˆ†é…ç»™ valueï¼Œå› æ­¤ä»–å¯ä»¥å­˜å‚¨ä»»ä½•æƒ³è¦çš„å€¼</span></span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&#x27;views&#x27;</span>, path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;views&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡å®šæ¸²æŸ“å¼•æ“ä½¿ç”¨ä½¿ç”¨ ejs</span></span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&#x27;view engine&#x27;</span>, <span class="string">&#x27;ejs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±å°†åŒ¹ä¸ path ç›¸åŒçš„è·¯å¾„</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/&#x27;</span>, indexRoute)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8021</span>)</span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±å‚æ•°"><a href="#è·¯ç”±å‚æ•°" class="headerlink" title="è·¯ç”±å‚æ•°"></a>è·¯ç”±å‚æ•°</h3><p>æ¥ä¸‹æ¥åœ¨ <code>route/</code> ç›®å½•é‡Œé¢æ·»åŠ  <code>use</code> æ‰€å¯¹åº”çš„æ–‡ä»¶ï¼Œå¹¶å¼•å…¥ <code>express</code> åº“ï¼Œå¹¶é€šè¿‡ <code>express.Router</code> åˆ›å»ºæ¨¡å—åŒ–ï¼Œä¹‹åä»¥ <code>router.get</code> å®ä¾‹æ¥æ£€æµ‹ç«¯ç‚¹å‚æ•°çš„è®¿é—®ï¼Œä¹‹åé€šè¿‡ <code>res.render</code> å°† HTML å­—ç¬¦ä¸²å‘é€åˆ°å®¢æˆ·ç«¯ï¼š</p>
<ul>
<li>res.render(view[, locals][, callback])<ul>
<li>view å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯è§†å›¾æ–‡ä»¶ï¼Œç”¨äºæ¸²æŸ“æ–‡ä»¶çš„è·¯å¾„</li>
<li>localsï¼Œä¸€ä¸ªå¯¹è±¡ï¼Œå…¶å±æ€§å®šä¹‰äº†è§†å›¾çš„å±€éƒ¨å˜é‡ã€‚</li>
<li>callbackï¼Œå›è°ƒå‡½æ•°ã€‚å¦‚æœæä¾›ï¼Œè¯¥æ–¹æ³•å°†è¿”å›å¯èƒ½çš„é”™è¯¯å’Œå‘ˆç°çš„å­—ç¬¦ä¸²ï¼Œä½†ä¸æ‰§è¡Œè‡ªåŠ¨å“åº”ã€‚å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨next(err)å†…éƒ¨è°ƒç”¨ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/:name&#x27;</span>, <span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">render</span>(<span class="string">&#x27;index&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">name</span>: req.<span class="property">params</span>.<span class="property">name</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/8.node.js%20express%20at%20ejs.md/4838212836698.png"></p>
<p>åœ¨ä¸Šè¿° code ä¸­ï¼Œåœ¨ <code>router.get</code> ç›‘æ§è·¯ç”±ç«¯ç‚¹ä¸­æ‰€ä½¿ç”¨çš„è·¯ç”±å‚æ•°ï¼ˆ:nameï¼‰æ˜¯ä¸€ä¸ªåŒ…å«æ˜ å°„å‘½åè·¯ç”±ï¼Œå…¶ä½œç”¨æ˜¯æ•è· URL ä¸­ä½ç½®æ‰€æŒ‡å®šçš„å€¼ï¼Œå¹¶å¡«å……åœ¨ <code>req.params</code> å¯¹è±¡ä¸­ï¼Œä½ å¯ä»¥éšæ„å®šä¹‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/user/:username/uid/:userid&#x27;</span>, <span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">render</span>(<span class="string">&#x27;index&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">username</span>: req.<span class="property">params</span>.<span class="property">username</span>,</span><br><span class="line">        <span class="attr">userid</span>: req.<span class="property">params</span>.<span class="property">userid</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:8021/user/kunlun/uid/20">http://localhost:8021/user/kunlun/uid/20</a></p>
</blockquote>
<p><img src="https://gitee.com/sif_one/drawing-bed/raw/9ae992c73ebe98123fc07646de096ecc924c77cd/javascript/node.js/8.node.js%20express%20at%20ejs.md/568318279175.png"><br>å½“ç„¶å¦‚æœä¸éœ€è¦ <code>ejs</code> è¿›è¡Œäº¤äº’ä¹Ÿå¯ä»¥é€šè¿‡å…¶ <code>res.render</code> æ–¹æ³• <code>options</code>å‚æ•°æ¥è¿›è¡Œå®ç°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/:name&#x27;</span>, <span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">render</span>(<span class="string">&#x27;index&#x27;</span>, <span class="keyword">function</span> (<span class="params">err,html</span>) &#123;</span><br><span class="line">        res.<span class="title function_">send</span>(html)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:8021/hehe">http://localhost:8021/hehe</a></p>
</blockquote>
<p>åœ¨è¿™å…¶ä¸­ <code>res.send</code> æ˜¯ä¸€ä¸ªç”¨äºå‘é€ HTTP å“åº”çš„æ–¹æ³•ï¼Œæ‰€æè¿°çš„ body å¯ä»¥æ˜¯ <code>bufferã€string\boolean\array</code> å¯¹è±¡ç­‰ã€‚</p>
<h2 id="Ejs"><a href="#Ejs" class="headerlink" title="Ejs"></a>Ejs</h2><p>åœ¨ <code>ejs</code> è¯•å›¾ä¸­éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ ejs æ˜¯é‚£ä¸ªéå¸¸å…³é”®çš„å‡ ä¸ªè¯­æ³•å°±å¯ä»¥è¿›è¡Œä½¿ç”¨ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>&lt;% code %&gt;</td>
<td>ç”¨äºè¿è¡Œ <code>JavaScript</code> ä»£ç </td>
</tr>
<tr>
<td>2</td>
<td>&lt;%&#x3D; code %&gt;</td>
<td>æ˜¾ç¤ºè½¬ä¹‰åçš„ HTML å†…å®¹</td>
</tr>
<tr>
<td>3</td>
<td>&lt;%- code %&gt;</td>
<td>æ˜¾ç¤ºåŸå§‹çš„ HTML å†…å®¹</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>DOCTYPE<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>User: &lt;%= username%&gt;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Uid: &lt;%= userid%&gt;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/7.Node.js HTTP Server/">Node.js HTTP Server</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>HTTPï¼ˆHyper Text Transfer Protocolï¼‰å³æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“åè®®ï¼Œç”¨äºæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é—®é¢˜ï¼Œä»æ¡æ‰‹å¼€å§‹å¤„ç† TCP é“¾æ¥ï¼Œä¸ºå®ç°è§£æ HTTP çš„é—®é¢˜ï¼ŒNode å¯ä»¥é€šè¿‡å…¶å†…ç½®çš„ <code>http</code> æ¨¡å—æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p>åº”ç”¨ç¨‹åºå¹¶ä¸å¯ä»¥ç›´æ¥å’Œ HTTP è¿›è¡Œä¸€äº›æ“ä½œï¼Œå› æ­¤å¯ä»¥é€šè¿‡å…¶ <code>http</code> æ¨¡å—ä¸­æ‰€æä¾›çš„ <code>requireï¼ˆè¯·æ±‚ï¼‰</code> ä»¥åŠ <code>responseï¼ˆå“åº”ï¼‰</code> æ¥å°† HTTP å“åº”è¿”å›æœåŠ¡å™¨ã€‚</p>
<blockquote>
<p>å› ä¸º <code>require</code> å°è£…äº† HTTP è¯·æ±‚ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>require</code> å¯¹è±¡å±æ€§æ–¹æ³•è·å–æ‰€æœ‰çš„ HTTP è¯·æ±‚ä¿¡æ¯</p>
<p>åŒæ ·çš„å› ä¸º <code>response</code> å¯¹è±¡å°è£…äº† HTTP å“åº”ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ­¤å¯¹è±¡æ–¹æ³•å°† HTTP å“åº”è¿”å›ç»™æµè§ˆå™¨</p>
</blockquote>
<p>å› æ­¤ http æ¨¡å—ä¹Ÿå¯ä»¥æœ‰ä¸¤ç§æ–¹å¼è¿›è¡Œä½¿ç”¨ï¼ŒæœåŠ¡ç«¯åˆ›å»º HTTP æœåŠ¡å™¨ä»¥æ­¤æ¥ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚å¹¶è¿”å›å“åº”ï¼Œè€Œä½œä¸ºå®¢æˆ·ç«¯ï¼Œå°†å‘èµ·ä¸€ä¸ª HTTP è¯·æ±‚ï¼ˆå®¢æˆ·ç«¯ï¼‰æ¥è·å–æœåŠ¡ç«¯çš„å“åº”ã€‚</p>
<h2 id="Request-at-Response"><a href="#Request-at-Response" class="headerlink" title="Request at Response"></a>Request at Response</h2><h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæœ¬åœ°æœåŠ¡å™¨æ¥ä»å…¶æ¥æ”¶æ•°æ®</span></span><br><span class="line"><span class="keyword">var</span> server = http.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    <span class="comment">// è·å¾— HTTP è¯·æ±‚çš„ method + url</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">method</span> + <span class="string">&#x27;:&#x27;</span> + req.<span class="property">url</span>)</span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">        body.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘è¯·æ±‚å‘é€å“åº”å¤´</span></span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123;<span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;text/html&#x27;</span>&#125;);</span><br><span class="line">    <span class="comment">// å®Œæˆå¹¶å‘é€è¯·æ±‚</span></span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&#x27;&lt;h1&gt;Hello,world!&lt;/h1&gt;&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8081</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Server is running at http://localhost:8081/&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>HTTP è¯·æ±‚çš„æœ¬è´¨ä¸Šå°±æ˜¯ Headers ä»¥åŠ body ä¸¤è€…ç»„æˆï¼Œå› æ­¤æˆ‘ä»¬é¦–å…ˆé€šè¿‡äº† <code>http.createServer</code> æ¥åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡ <code>server.listen()</code> çš„æ–¹æ³•ç›‘å¬ç«¯å£ï¼Œå½“å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å°±ä¼šçš„å›è°ƒå‡½æ•°å°±ä¼šiè¢«è°ƒç”¨ï¼Œå› æ­¤è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Server is running at http://localhost:8081/</span><br><span class="line">GET:/</span><br><span class="line">GET:/favicon.ico</span><br><span class="line">GET:/</span><br><span class="line">GET:/favicon.ico</span><br></pre></td></tr></table></figure>

<blockquote>
<p>HTTP è¯·æ±‚åœ¨å‘é€æœåŠ¡å™¨æ—¶ï¼Œæ˜¯ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„ä»¥æ•°æ®æµæ–¹å¼å‘é€ï¼ŒHTTP æ¨¡å—åˆ›å»ºçš„ HTTP æœåŠ¡å™¨æ¥å—åˆ°å®Œæ•´çš„è¯·æ±‚å¤´åä¼šè°ƒç”¨å‡½æ•°ï¼Œå› æ­¤é™¤äº†å¯ä»¥ä½¿ç”¨ request å¯¹è±¡è®¿é—®è¯·æ±‚å¤´æ•°æ®ä»¥å¤–ï¼Œè¿˜å¯ä»¥å°†æ­¤å½“ä½œä¸€ä¸ªåªè¯»æ•°æ®æµæ¥è®¿é—®è¯·æ±‚æ•°æ®æ</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> body = []</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">method</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">headers</span>)</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">        body.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        body = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(body)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(body.<span class="title function_">toString</span>())</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">listen</span>(<span class="number">8081</span>)</span><br></pre></td></tr></table></figure>

<p>å› æ­¤è¾“å‡ºçš„æ˜¯ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line"><span class="punctuation">&#123;</span> host<span class="punctuation">:</span> &#x27;localhost<span class="punctuation">:</span><span class="number">8081</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  connection<span class="punctuation">:</span> &#x27;keep-alive&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;sec-ch-ua&#x27;<span class="punctuation">:</span></span><br><span class="line">   &#x27;<span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;89&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;89&quot;</span><span class="punctuation">,</span> <span class="string">&quot;;Not A Brand&quot;</span>;v=<span class="string">&quot;99&quot;</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;cache-control&#x27;<span class="punctuation">:</span> &#x27;no-cache&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;sec-ch-ua-mobile&#x27;<span class="punctuation">:</span> &#x27;?<span class="number">0</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;user-agent&#x27;<span class="punctuation">:</span></span><br><span class="line">   &#x27;Mozilla/<span class="number">5.0</span> (X11; Linux x86_64) AppleWebKit/<span class="number">537.36</span> (KHTML<span class="punctuation">,</span> like Gecko) Chrome/<span class="number">89.0</span><span class="number">.4389</span><span class="number">.90</span> Safari/<span class="number">537.36</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;postman-token&#x27;<span class="punctuation">:</span> &#x27;<span class="number">9</span>c86d3ea<span class="number">-3</span>df2<span class="number">-9485</span><span class="number">-75e6</span>-f8d2af8c0b03&#x27;<span class="punctuation">,</span></span><br><span class="line">  accept<span class="punctuation">:</span> &#x27;*<span class="comment">/*&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;sec-fetch-site&#x27;: &#x27;none&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;sec-fetch-mode&#x27;: &#x27;cors&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;sec-fetch-dest&#x27;: &#x27;empty&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;accept-encoding&#x27;: &#x27;gzip, deflate, br&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;accept-language&#x27;: &#x27;zh-CN,zh-TW;q=0.9,zh;q=0.8,en-US;q=0.7,en;q=0.6&#x27; &#125;</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure>

<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><p>å®¢æˆ·ç«¯å‘é€è¯·æ±‚å¹¶æ¥å—åˆ°å®Œæ•´çš„æœåŠ¡ç«¯å“åº”å¤´æ—¶ï¼Œå°±ä¼šè°ƒç”¨å›è°ƒå‡½æ•°ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>response</code> å¯¹è±¡è®¿é—®å“åº”å¤´å¤–ï¼Œè¿˜å¯ä»¥å°† Response å½“ä½œä¸€ä¸ªåªè¯»æ•°æ®æµï¼Œå…¶ä¸­æœ€ä¸ºä¸»è¦çš„æ˜¯ <code>http.ServerResponse</code> æ‰€æä¾›çš„ç±»æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>response.statusCode</td>
<td>HTTP å“åº”çŠ¶æ€ç </td>
</tr>
<tr>
<td>2</td>
<td>response.headers</td>
<td>HTTP å“åº”å¤´</td>
</tr>
<tr>
<td>3</td>
<td>response.statusMessage</td>
<td>å½“å‰æ¶ˆæ¯çŠ¶æ€</td>
</tr>
<tr>
<td>4</td>
<td>response.complete</td>
<td>æ˜¯å¦å·²ç»æ¥æ”¶åˆ°äº†å®Œæ•´çš„ HTTP è¯·æ±‚å¤´ä¿¡æ¯</td>
</tr>
<tr>
<td>5</td>
<td>response.httpVersion</td>
<td>é“¾æ¥åˆ°æœåŠ¡å™¨çš„HTTP ç‰ˆæœ¬</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    HTTP çŠ¶æ€ç :  200</span></span><br><span class="line"><span class="comment">    &lt;h1&gt;Hello,world!&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">    è¯·æ±‚å¤´: true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">http.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8081/&#x27;</span>, <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> body = []</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;HTTP çŠ¶æ€ç : &quot;</span>,response.<span class="property">statusCode</span>)</span><br><span class="line"></span><br><span class="line">    response.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">        body.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    response.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        body = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(body)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(body.<span class="title function_">toString</span>())</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ˜¯å¦å·²ç»æ¥æ”¶å®Œæ•´çš„ HTTP ä¿¡æ¯:&quot;</span> ,response.<span class="property">complete</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="HTTP-x2F-2"><a href="#HTTP-x2F-2" class="headerlink" title="HTTP&#x2F;2"></a>HTTP&#x2F;2</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/7.node.js%20http%20server.md/2546941209175.png"><br>HTTP&#x2F;2 æ˜¯äº 19999 å¹´çš„ HTTP 1.1 çš„æ”¹è¿›ç‰ˆï¼ˆRFC 2616ï¼‰ååœ¨ 2014 å¹´ 12 æœˆç”± äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼ˆIETFï¼‰å†…çš„ <strong>HTTPBISï¼ˆHypertext Transfer Protocol Bisï¼‰</strong> å°ç»„è¿›è¡Œå¼€å‘ï¼Œå¹¶ç”± IETF é€’äº¤ç»™ IESG è¿›è¡Œè®¨è®ºï¼Œåœ¨ 2015 å¹´ 5 æœˆ æ­£å¼æ‰¹å‡†ï¼ˆRFC 7540ï¼‰</p>
<p>äº HTTP 1.1 ç›¸æ¯”æ”¯æŒäº†å¤šè·¯å¤ç”¨ï¼ˆMultiplexingï¼‰ã€é¦–éƒ¨å‹ç¼©ï¼ˆHeadersï¼‰ã€æœåŠ¡æ¨é€ï¼ˆServer Pushï¼‰ ç­‰ç‰¹ç‚¹ï¼Œæœ‰æ•ˆå‡å°‘äº†å¤§é‡çš„å¼€é”€ã€‚</p>
<blockquote>
<p>æœåŠ¡å™¨æ¨é€å³å…è®¸æœåŠ¡å™¨åœ¨å®¢æˆ·ç«¯ç¼“å­˜ä¸­å¡«å……æ•°æ®ï¼Œé€šè¿‡æœåŠ¡å™¨æ¨é€çš„æœºåˆ¶æ¥æå‰è¿›è¡Œè¯·æ±‚ï¼Œä½†éœ€è¦å®‰è£… http 2 æ¨¡å—</p>
<blockquote>
<p>ç”±äº http2 æ˜¯ä¸€ä¸ªå†…ç½®æ¨¡å—ï¼Œä¸ npm ä¸Šçš„ http2 æ— å…³</p>
</blockquote>
</blockquote>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">node/</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ package-lock.json</span><br><span class="line">â”œâ”€â”€ public</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â””â”€â”€ server.js</span><br><span class="line">â””â”€â”€ ssl</span><br><span class="line">    â”œâ”€â”€ localhost-cert.pem</span><br><span class="line">    â””â”€â”€ localhost-privkey.pem</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http2 = <span class="built_in">require</span>(<span class="string">&#x27;http2&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http2.<span class="title function_">createSecureServer</span>(&#123;</span><br><span class="line">    <span class="attr">key</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./ssl/localhost-privkey.pem&#x27;</span>),</span><br><span class="line">    <span class="attr">cert</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./ssl/localhost-cert.pem&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err));</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;stream&#x27;</span>, <span class="function">(<span class="params">stream, headers</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// stream is a Duplex</span></span><br><span class="line">    stream.<span class="title function_">respond</span>(&#123;</span><br><span class="line">        <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;:status&#x27;</span>: <span class="number">200</span></span><br><span class="line">    &#125;);</span><br><span class="line">    stream.<span class="title function_">write</span>(<span class="string">&quot;&lt;h1&gt;Hello,world!&lt;/h1&gt;&quot;</span>)</span><br><span class="line">    stream.<span class="title function_">end</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8443</span>);</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå³å¯é€šè¿‡ <a target="_blank" rel="noopener" href="https://localhost:8443/">https://localhost:8443/</a> ç›´æ¥è¿›è¡Œè®¿é—®ï¼Œå½“ç„¶ç”±äºä½¿ç”¨äº† ssl çš„åŸå›  node å…³é—­äº† <code>http</code> çš„è®¿é—®ï¼Œå› æ­¤åªå¯ä»¥é€šè¿‡ <code>https</code> è¿›è¡Œï¼Œå¦‚æœæ˜¯è‡ªå·±ç”Ÿæˆçš„è¯ä¹¦å¯èƒ½ä¼šæŠ¥é”™ï¼Œç‚¹å‡»ç»§ç»­è®¿é—®å³å¯ã€‚</p>
<blockquote>
<p>å¯ç›´æ¥é€šè¿‡ openssl ç”Ÿæˆè‡ªå·±çš„æœ¬åœ°è¯ä¹¦</p>
<p>openssl req -x509 -newkey rsa:2048 -nodes -sha256 -subj â€˜&#x2F;CN&#x3D;localhostâ€™ <br>  -keyout localhost-privkey.pem -out localhost-cert.pem
 </p>
</blockquote>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/6.Node.js File System/">Node.js File System</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>Node.js fs(file system) å³æ˜¯å†…ç½®çš„æ–‡ä»¶ç³»ç»Ÿæ¨¡å—ï¼Œç”¨äºè´Ÿè´£æ–‡ä»¶çš„åˆ°åšä»¥åŠè¯»å–ç­‰ï¼Œå¯é€šè¿‡ <code>console fs = require(&quot;fs&quot;)</code> ç›´æ¥è¿›è¡Œå¼•å…¥ï¼Œå› æ­¤ä¸ºäº†æ›´è¯¦ç»†çš„åˆ†æ¸…è¯¥æ¨¡å—æ‰€æä¾›çš„ APIï¼Œä¸»è¦åˆ†ä¸ºï¼šâ€œæ–‡ä»¶å±æ€§è¯»å†™ã€æ–‡ä»¶å†…å®¹è¯»å†™ã€æ–‡ä»¶æ“ä½œâ€ ç­‰ä¸‰ç§ã€‚</p>
<blockquote>
<p>fs æ¨¡å—æ‰€æä¾›çš„æ–¹æ³•æœ€å¤§ä¸åŒä¹‹å¤„åœ¨äºåŒæ—¶è¿˜æä¾›äº† <strong>å¼‚æ­¥ã€åŒæ­¥</strong> ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿™ä½“ç°åœ¨äº† <code>fs.readFile()</code> å’Œ <code>fs.readFileSync()</code></p>
<blockquote>
<figure class="highlight plaintext"><figcaption><span>options], callback)```  å¼‚æ­¥è¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">```fs.readFileSync(path[, options])``` ç”¨äºè¿”å› path å†…å®¹å³åŒæ­¥</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">| Id  |                          Name                           |                                        Info                                         |                         Type                         |</span><br><span class="line">| --- | ------------------------------------------------------- | ----------------------------------------------------------------------------------- | ---------------------------------------------------- |</span><br><span class="line">| 1   | fs.readFile(path[, options], callback)                  | ç”¨äºå¼‚æ­¥è¯»å–æ–‡ä»¶                                                                     | æ–‡ä»¶å†…å®¹è¯»å†™                                          |</span><br><span class="line">| 2   | fs.readFileSync(path[, options])                        | åŒæ­¥è¯»å–æ–‡ä»¶                                                                         | æ–‡ä»¶å†…å®¹è¯»å†™                                          |</span><br><span class="line">| 3   | fs.read(fd, buffer, offset, length, position, callback) | åœ¨å¼‚æ­¥æ¨¡å¼ä¸‹æ›´åŠ åˆç†çš„è¯»å–æ–‡ä»¶                                                        | æ–‡ä»¶å†…å®¹è¯»å†™                                          |</span><br><span class="line">|     | fd                                                      | é€šè¿‡ ```fs.open()``` æ‰€è¿”å›çš„æ–‡ä»¶æè¿°                                                 |                                                      |</span><br><span class="line">|     | buffer                                               | æ•°æ®å†™å…¥ç¼“å†²åŒº                                                                       |                                                      |</span><br><span class="line">|     | offset                                               | ç¼“å†²åŒºå†™å…¥æ•°æ®å†™å…¥çš„åç§»é‡                                                            |                                                      |</span><br><span class="line">|     | length                                               | éœ€è¦è¯»å–çš„å­—èŠ‚æ•°                                                                     |                                                      |</span><br><span class="line">|     | position                                             | æ–‡ä»¶è¯»å–çš„èµ·å§‹ä½ç½®                                                                   |                                                      |</span><br><span class="line">|     | callback                                             | å›è°ƒå‡½æ•°                                                                            |                                                      |</span><br><span class="line">|     |                                                      | err                                                                                 | è¿”å›é”™è¯¯ä¿¡æ¯                                          |</span><br><span class="line">|     |                                                      | bytesRead                                                                           | æ‰€è¯»å–çš„å­—èŠ‚æ•°                                        |</span><br><span class="line">|     |                                                      | buffer                                                                              | ç¼“å†²åŒºå¯¹è±¡                                            |</span><br><span class="line">| 4   | fs.open(path[, flags[, mode]], callback)                | å¼‚æ­¥æ‰“å¼€æ–‡ä»¶                                                                             | åº•å±‚æ–‡ä»¶æ“ä½œ                                            |</span><br><span class="line">|     | path                                                    | æ–‡ä»¶è·¯å¾„                                                                                 |                                                         |</span><br><span class="line">|     | flags                                                   | æ–‡ä»¶çš„æ‰“å¼€è¡Œä¸º                                                                           |                                                         |</span><br><span class="line">|     |                                                         | ```a```                                                                                  | å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶                                |</span><br><span class="line">|     |                                                         | ```ax```                                                                                 | åœ¨ ```a``` çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼Œå°±å¤±è´¥         |</span><br><span class="line">|     |                                                         | ```a+```                                                                                 | å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±åˆ›å»º                                    |</span><br><span class="line">|     |                                                         | ```ax+```                                                                                | åœ¨ ```a+``` çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¯»å–å¤±è´¥    |</span><br><span class="line">|     |                                                         | ```r```                                                                                  | ä»¥è¯»å–çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™å¼‚å¸¸              |</span><br><span class="line">|     |                                                         | ```r+```                                                                                 | ä»¥è¯»å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±æŠ›å‡ºå¼‚å¸¸            |</span><br><span class="line">|     |                                                         | ```rs```                                                                                 | ä»¥åŒæ­¥çš„æ–¹å¼è¯»å–æ–‡ä»¶                                    |</span><br><span class="line">|     |                                                         | ```rs+```                                                                                | ä»¥åŒæ­¥çš„æ–¹å¼è¯»å–å’Œå†™å…¥æ–‡ä»¶                              |</span><br><span class="line">|     |                                                         | ```w```                                                                                  | ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º                    |</span><br><span class="line">|     |                                                         | ```wx```                                                                                 | åœ¨ ```w``` çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„å­˜åœ¨ï¼Œæ–‡ä»¶å°†ä¼šå†™å…¥å¤±è´¥ |</span><br><span class="line">|     |                                                         | ```w+```                                                                                 | ä»¥è¯»å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º                |</span><br><span class="line">|     |                                                         | ```wx+```                                                                                | åœ¨ ```w+``` çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶å†™å…¥å¤±è´¥  |</span><br><span class="line">|     | mode                                                    | æ‰“å¼€çš„æƒé™                                                                               |                                                         |</span><br><span class="line">|     | callback                                                | å›è°ƒå‚æ•°                                                                                 |                                                         |</span><br><span class="line">| 5   | fs.writeFile(file, data[, options], callback)           | é€šè¿‡å¼‚æ­¥çš„æ–¹å¼å†™å…¥æ–‡ä»¶                                                                   | æ–‡ä»¶å†…å®¹è¯»å†™                                            |</span><br><span class="line">|     | file                                                    | æ–‡ä»¶å                                                                                   |                                                         |</span><br><span class="line">|     | data                                                    | éœ€è¦å†™å…¥çš„æ•°æ®                                                                           |                                                         |</span><br><span class="line">|     | options                                                 | ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼ŒåŒ…å«äº†ç¼–ç æ¨¡å¼ï¼ˆutf-8ï¼‰ä»¥åŠ flagsï¼ˆwï¼Œå†™å…¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ |                                                         |</span><br><span class="line">| 6   | fs.writeFileSync()                                      | é€šè¿‡åŒæ­¥çš„æ–¹å¼å†™å…¥æ–‡ä»¶                                                                   | æ–‡ä»¶å†…å®¹è¯»å†™                                            |</span><br><span class="line">| 7   | fs.stat()                                               | ç”¨äºè¯»å–æ–‡ä»¶å±æ€§                                                                         | æ–‡ä»¶å±æ€§è¯»å†™                                            |</span><br><span class="line">## readFile at readFileSync è¯»å–æ–‡ä»¶</span><br><span class="line">### fs.readFile()</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line"></span><br><span class="line">fs.readFile(&#x27;data.txt&#x27;, &#x27;utf-8&#x27;, function (err, data) &#123;</span><br><span class="line">   if (err) &#123;</span><br><span class="line">       console.log(err)</span><br><span class="line">   &#125; else &#123;</span><br><span class="line">       // File system!</span><br><span class="line">       console.log(data.toString())</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<blockquote>
<p>data.txt</p>
<blockquote>
<p>File system!</p>
</blockquote>
</blockquote>
<figure class="highlight plaintext"><figcaption><span>ä¸ ```fs.readFileSync()``` çš„ä¸»è¦åŒºåˆ«å°±æ˜¯ä¸€ä¸ªæ”¯æŒå¼‚æ­¥è€Œå¦ä¸€ä¸ªä»…ä»…æ˜¯åŒæ­¥æ–¹æ³•ï¼Œè¿™ä¸»è¦å¯ä»¥æ ¹æ®å…¶ ```callback()``` å°±å¯ä»¥åˆ†è¾¨å‡ºä¸¤è€…çš„ä½œç”¨ä¸åŠŸèƒ½ä¸Šçš„åŒºåˆ†ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è¿™ä¸»è¦æ¶‰åŠåˆ° ```err``` å’Œ ```data``` ä¸¤ä¸ªå‚æ•°ï¼Œåè€…ä¸º ```undefined```ï¼Œä¹Ÿå°±æ˜¯å…¶ ```path``` å†…çš„æ•°æ®ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿›è¡Œè¯»å–ï¼Œå½“å‘ç”Ÿé”™è¯¯æ—¶å°†ä¼šè¾“å‡º ```err``` å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">### fs.readFIleSync()</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line"></span><br><span class="line">var data = fs.readFileSync(&#x27;data.txt&#x27;, &#x27;utf-8&#x27;)</span><br><span class="line"></span><br><span class="line">// File system!</span><br><span class="line">console.log(data)</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸é»˜è®¤æƒ…å†µä¸‹å•ä¸ª <code>fs.readFIleSync()</code> å‚æ•°æ˜¯ä¸æ”¯æŒè¾“å‡ºé”™è¯¯çš„ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦è¾“å‡ºå‡½æ•°çš„æ–¹å¼è¾“å‡ºæ•°æ®ï¼Œå¯é…åˆ <code>try...catch</code> çš„æ–¹å¼æ¥å®ç°é”™è¯¯è¾“å‡ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> data = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="fs-read-fd-buffer-offset-length-position-callback-at-fs-open-and-fs-close"><a href="#fs-read-fd-buffer-offset-length-position-callback-at-fs-open-and-fs-close" class="headerlink" title="fs.read(fd, buffer, offset, length, position, callback) at fs.open and fs.close"></a>fs.read(fd, buffer, offset, length, position, callback) at fs.open and fs.close</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>fs.read(fd, buffer, offset, length, position, callback)</td>
<td>åœ¨å¼‚æ­¥æ¨¡å¼ä¸‹æ›´åŠ åˆç†çš„è¯»å–æ–‡ä»¶</td>
<td>æ–‡ä»¶å†…å®¹è¯»å†™</td>
</tr>
<tr>
<td></td>
<td>fd</td>
<td>é€šè¿‡ <code>fs.open()</code> æ‰€è¿”å›çš„æ–‡ä»¶æè¿°</td>
<td></td>
</tr>
<tr>
<td></td>
<td>buffer</td>
<td>æ•°æ®å†™å…¥ç¼“å†²åŒº</td>
<td></td>
</tr>
<tr>
<td></td>
<td>offset</td>
<td>ç¼“å†²åŒºå†™å…¥æ•°æ®å†™å…¥çš„åç§»é‡</td>
<td></td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>éœ€è¦è¯»å–çš„å­—èŠ‚æ•°</td>
<td></td>
</tr>
<tr>
<td></td>
<td>position</td>
<td>æ–‡ä»¶è¯»å–çš„èµ·å§‹ä½ç½®</td>
<td></td>
</tr>
<tr>
<td></td>
<td>callback</td>
<td>å›è°ƒå‡½æ•°</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>err</td>
<td>è¿”å›é”™è¯¯ä¿¡æ¯</td>
</tr>
<tr>
<td></td>
<td></td>
<td>bytesRead</td>
<td>æ‰€è¯»å–çš„å­—èŠ‚æ•°</td>
</tr>
<tr>
<td></td>
<td></td>
<td>buffer</td>
<td>ç¼“å†²åŒºå¯¹è±¡</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><figcaption><span>å¯ç”¨äºæ›´åŠ åˆç†çš„æ–‡ä»¶æ“ä½œï¼Œè¿™å…¶ä¸­ä¸»è¦åŒ…æ‹¬äº† **æ–‡ä»¶æ‰“å¼€ -> æ–‡ä»¶å†™å…¥ â€”> æ–‡ä»¶è¯»å– -> å…³é—­æ–‡ä»¶** çš„æ•´ä¸€å¥—æµç¨‹ï¼Œè®©æ•´ä¸ªå¯¹æ–‡ä»¶çš„æ“ä½œæ›´åŠ åˆç†å’Œç›´è§‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line">const buf = new Buffer.alloc(1024)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">    å‡†å¤‡æ‰“å¼€æ–‡ä»¶</span><br><span class="line">    æ–‡ä»¶æ‰“å¼€æˆåŠŸ</span><br><span class="line">    å¼€å§‹å‡†å¤‡è¯»å–æ–‡ä»¶</span><br><span class="line">    æ–‡ä»¶å†…å®¹ä¸ºï¼š Hello, File system</span><br><span class="line">    æ–‡ä»¶å…³é—­æˆåŠŸ</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">console.log(&quot;å‡†å¤‡æ‰“å¼€æ–‡ä»¶&quot;)</span><br><span class="line"></span><br><span class="line">fs.open(&#x27;data.txt&#x27;, &#x27;r+&#x27;, function (err,fd) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        console.log(err)</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&#x27;æ–‡ä»¶æ‰“å¼€æˆåŠŸ\nå¼€å§‹å‡†å¤‡è¯»å–æ–‡ä»¶&#x27;)</span><br><span class="line">    fs.read(fd, buf, 0, buf.length, 0, function (err, bytesRead) &#123;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            console.log(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (bytesRead&gt;0) &#123;</span><br><span class="line">            console.log(&#x27;æ–‡ä»¶å†…å®¹ä¸ºï¼š&#x27;,buf.slice(0,bytesRead).toString())</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fs.close(fd, function (err) &#123;</span><br><span class="line">            if (err) &#123;</span><br><span class="line">                console.log(err)</span><br><span class="line">            &#125;</span><br><span class="line">            console.log(&#x27;æ–‡ä»¶å…³é—­æˆåŠŸ&#x27;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="fs-open"><a href="#fs-open" class="headerlink" title="fs.open()"></a>fs.open()</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>fs.open(path[, flags[, mode]], callback)</td>
<td>å¼‚æ­¥æ‰“å¼€æ–‡ä»¶</td>
<td>åº•å±‚æ–‡ä»¶æ“ä½œ</td>
</tr>
<tr>
<td></td>
<td>path</td>
<td>æ–‡ä»¶è·¯å¾„</td>
<td></td>
</tr>
<tr>
<td></td>
<td>flags</td>
<td>æ–‡ä»¶çš„æ‰“å¼€è¡Œä¸º</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>a</code></td>
<td>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>ax</code></td>
<td>åœ¨ <code>a</code> çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼Œå°±å¤±è´¥</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>a+</code></td>
<td>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±åˆ›å»º</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>ax+</code></td>
<td>åœ¨ <code>a+</code> çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™è¯»å–å¤±è´¥</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>r</code></td>
<td>ä»¥è¯»å–çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™å¼‚å¸¸</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>r+</code></td>
<td>ä»¥è¯»å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨å°±æŠ›å‡ºå¼‚å¸¸</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>rs</code></td>
<td>ä»¥åŒæ­¥çš„æ–¹å¼è¯»å–æ–‡ä»¶</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>rs+</code></td>
<td>ä»¥åŒæ­¥çš„æ–¹å¼è¯»å–å’Œå†™å…¥æ–‡ä»¶</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>w</code></td>
<td>ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>wx</code></td>
<td>åœ¨ <code>w</code> çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„å­˜åœ¨ï¼Œæ–‡ä»¶å°†ä¼šå†™å…¥å¤±è´¥</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>w+</code></td>
<td>ä»¥è¯»å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»º</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>wx+</code></td>
<td>åœ¨ <code>w+</code> çš„åŸºç¡€ä¸Šï¼Œå¦‚æœæ–‡ä»¶è·¯å¾„å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶å†™å…¥å¤±è´¥</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–‡ä»¶æ‰“å¼€æˆåŠŸ</span></span><br><span class="line">fs.<span class="title function_">open</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;r+&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, fd</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ–‡ä»¶æ‰“å¼€æˆåŠŸ&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="fs-writeFile"><a href="#fs-writeFile" class="headerlink" title="fs.writeFile()"></a>fs.writeFile()</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>fs.writeFile(file, data[, options], callback)</td>
<td>é€šè¿‡å¼‚æ­¥çš„æ–¹å¼å†™å…¥æ–‡ä»¶</td>
<td>æ–‡ä»¶å†…å®¹è¯»å†™</td>
</tr>
<tr>
<td></td>
<td>file</td>
<td>æ–‡ä»¶å</td>
<td></td>
</tr>
<tr>
<td></td>
<td>data</td>
<td>éœ€è¦å†™å…¥çš„æ•°æ®</td>
<td></td>
</tr>
<tr>
<td></td>
<td>options</td>
<td>ä¸€ä¸ªå‚æ•°å¯¹è±¡ï¼ŒåŒ…å«äº†ç¼–ç æ¨¡å¼ï¼ˆutf-8ï¼‰ä»¥åŠ flagsï¼ˆwï¼Œå†™å…¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™å…¥æˆåŠŸï¼š Hello, File system</span></span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;data.txt&#x27;</span>, data, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> write = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å†™å…¥æˆåŠŸï¼š&#x27;</span> ,write)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="fs-writeFileSync"><a href="#fs-writeFileSync" class="headerlink" title="fs.writeFileSync()"></a>fs.writeFileSync()</h4><p>.<code>fs.writeFileSync()</code> æ˜¯ <code>fs.writeFile()</code> çš„åŒæ­¥æ–¹æ³•ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>try...catch</code> æ¥æ”¯æŒè¿”å› <code>err</code> ä¿¡æ¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&quot;Hello, File system&quot;</span></span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">open</span>(<span class="string">&#x27;data.txt&#x27;</span>,<span class="string">&#x27;r+&#x27;</span>, <span class="keyword">function</span> (<span class="params">err,fd</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;data.txt&#x27;</span>, data)</span><br><span class="line">					<span class="comment">// å†™å…¥æˆåŠŸ Hello, File system</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å†™å…¥æˆåŠŸ&#x27;</span>, data )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="è·å–æ–‡ä»¶å±æ€§-fs-stat"><a href="#è·å–æ–‡ä»¶å±æ€§-fs-stat" class="headerlink" title="è·å–æ–‡ä»¶å±æ€§ (fs.stat())"></a>è·å–æ–‡ä»¶å±æ€§ (fs.stat())</h2><p>â€œè·å–æ–‡ä»¶å±æ€§â€æ˜¯æŒ‡æ–‡ä»¶çš„å¤§å°ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ <code>fs.stat(path[, options], callback)</code> æ¥è¿›è¡Œå®ç°ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­å­˜åœ¨ç€ <code>fs.stats</code> ç±»ï¼Œç”¨äºè·å–æ–‡ä»¶çš„å±æ€§ï¼Œå¸¸ç”¨çš„ä¸ºï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>stat.isFile()</td>
<td>æ˜¯å¦æ˜¯æ–‡ä»¶</td>
</tr>
<tr>
<td>2</td>
<td>stat.isDirectory()</td>
<td>æ˜¯å¦æ˜¯ç›®å½•</td>
</tr>
<tr>
<td>3</td>
<td>stat.size()</td>
<td>æ–‡ä»¶å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</td>
</tr>
<tr>
<td>4</td>
<td>stat.birthtime()</td>
<td>åˆ›å»ºæ—¶é—´</td>
</tr>
<tr>
<td>5</td>
<td>stat.mtime()</td>
<td>ä¿®æ”¹æ—¶é—´</td>
</tr>
<tr>
<td>6</td>
<td>stat.ctime()</td>
<td>æœ€åä¸€æ¬¡æ›´æ”¹æ—¶é—´</td>
</tr>
<tr>
<td>7</td>
<td>stat.atimeMS()</td>
<td>æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´</td>
</tr>
<tr>
<td>8</td>
<td>stat.mtimeMS()</td>
<td>æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    æ˜¯å¦æ˜¯æ–‡ä»¶: true</span></span><br><span class="line"><span class="comment">    æ–‡ä»¶å¤§å°: 18</span></span><br><span class="line"><span class="comment">    åˆ›å»ºæ—¶é—´: 2021-09-01T02:23:04.637Z</span></span><br><span class="line"><span class="comment">    ä¿®æ”¹æ—¶é—´: 2021-09-01T02:23:04.637Z</span></span><br><span class="line"><span class="comment">    æœ€åè®¿é—®: 2021-09-01T02:23:04.949Z</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.<span class="title function_">stat</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, stat</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ˜¯å¦æ˜¯æ–‡ä»¶:&quot;</span>, stat.<span class="title function_">isFile</span>())</span><br><span class="line">        <span class="keyword">if</span> (stat.<span class="title function_">isFile</span>()) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ–‡ä»¶å¤§å°:&#x27;</span>, stat.<span class="property">size</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ›å»ºæ—¶é—´:&#x27;</span>, stat.<span class="property">birthtime</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä¿®æ”¹æ—¶é—´:&#x27;</span>, stat.<span class="property">mtime</span>) <span class="comment">// stat.ctime</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´:&#x27;</span>, stat.<span class="property">atime</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/5.Node.js Buffer/">Node.js Buffer</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<h2 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h2><p>ç¼“å†²åŒºæ˜¯å†…å­˜åŒºåŸŸï¼Œå’Œç›´æ¥ä¸å†…å­˜äº¤äº’çš„ç¼–ç¨‹è¯­è¨€ Cã€C++ã€Go ç­‰ç›¸æ¯”ï¼ŒJavaScript å¯¹è¿™ä¸ªæ“ä½œå¾ˆå¾®ä¹å…¶å¾®ï¼Œå› æ­¤ä¸ºäº†å®ç°ä¸å†…å­˜åŒºåŸŸæ‰“äº¤é“ï¼ŒBuffer ç”±æ­¤è€Œç”Ÿã€‚</p>
<h3 id="Buffer-class"><a href="#Buffer-class" class="headerlink" title="Buffer class"></a>Buffer class</h3><p>Buffer ç±»ä¸»è¦çš„ä½œç”¨å°±æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºå­˜æ”¾äºŒè¿›åˆ¶æ•°æ®çš„ç¼“å­˜åŒºï¼Œæ˜¯ Node ä¸“é—¨å®šä¹‰çš„ä¸€ä¸ªç±»ï¼Œç”¨äºå¼¥è¡¥ JavaScript è‡ªç”±çš„å­—ç¬¦ä¸²ç±»å‹æ— æ³•æ»¡è¶³å¤§é‡äºŒè¿›åˆ¶æ•°æ®å¤„ç†ã€‚</p>
<p>Buffer æ˜¯ Node çš„ä¸€ä¸ªæ ¸å¿ƒåº“ï¼Œå› æ­¤ä¸º Node å¸¦æ¥äº†å¦ä¸€ç§åŸå§‹çš„æ•°æ®å­˜å‚¨æ–¹æ³•ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼Œè®© Node å¤„ç† äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<p>æ‰€ä»¥ Buffer åº“ä¸»è¦çš„ç”¨å¤„å°±æ˜¯éœ€è¦ Node å¤„ç† I&#x2F;O çš„æ—¶å€™ï¼Œå°±å¯ä»¥é€šè¿‡ Buffer åº“è¿›è¡Œä¸€ä¸ªå¤„ç†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¿›è¡Œå­—ç¬¦ç¼–ç æˆ–æ•°æ®ç±»å‹çš„è½¬æ¢ã€‚</p>
<p>ç¼“å†²åŒºå¯ä»¥é€šè¿‡ä½¿ç”¨ <code>Buffer.[form(),alloc(),allocUnsafe()]</code> æ–¹æ³•è¿›è¡Œæ„å»ºï¼Œè¿™ä¹Ÿæ¶‰åŠåˆ°äº† Buffer æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>buffer.alloc</td>
<td>å¯ä»¥åˆ›å»ºä»»æ„å¤§å°çš„ç¼“å­˜åŒº</td>
<td>type</td>
</tr>
<tr>
<td>2</td>
<td>buffer.from(arrayBuffer[, byteOffset[, length])</td>
<td>èƒ½å¤Ÿé€šè¿‡å­—ç¬¦ä¸²ã€ç¼“å†²åŒºã€æ•°ç»„ç­‰æ–¹å¼åˆ›å»ºç¼“å­˜åŒº</td>
<td>type</td>
</tr>
<tr>
<td></td>
<td>byteOffset</td>
<td>éœ€è¦æš´éœ²çš„åœ°ä¸€ä¸ªç´¢å¼•å€¼</td>
<td></td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>æš´éœ²çš„å­—èŠ‚æ•°</td>
<td></td>
</tr>
<tr>
<td>0x1</td>
<td>buffer.byteLength()</td>
<td>æŸ¥è¯¢å­—èŠ‚é•¿åº¦</td>
<td>method</td>
</tr>
<tr>
<td>0x2</td>
<td>buffer.compare(target[,target1,target..])</td>
<td>æ¯”è¾ƒä¸¤ä¸ªç¼“å†²åŒºï¼ˆbufferï¼‰å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå¹¶è¿”å› -1ã€0ã€1</td>
<td>method</td>
</tr>
<tr>
<td></td>
<td>0</td>
<td>ä¸ target ç›¸ç­‰è¿”å› <code>0</code></td>
<td></td>
</tr>
<tr>
<td></td>
<td>1</td>
<td>å¦‚æœ target çš„ size ä¸åŒä»¥åŠ fill ç›¸ç­‰ï¼Œåˆ™è¿”å› <code>1</code></td>
<td></td>
</tr>
<tr>
<td></td>
<td>-1</td>
<td>å¦‚æœ target çš„ fill ä¸ç›¸ç­‰ï¼Œåˆ™è¿”å› <code>-1</code></td>
<td></td>
</tr>
<tr>
<td>0x3</td>
<td>buffer.concat</td>
<td>å°†ä¸€ä¸ªæˆ–å¤šä¸ªç¼“å­˜åŒºå¯¹è±¡åˆå¹¶ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œåˆå¹¶åå¯ä»¥è·å–æ–°çš„å¯¹è±¡é•¿åº¦</td>
<td>method</td>
</tr>
<tr>
<td>0x4</td>
<td>buffer.entries()</td>
<td>ç”¨äºè¿”å›ç¼“å†²åŒºçš„ <code>[index,byte]</code></td>
<td>method</td>
</tr>
<tr>
<td>0x5</td>
<td>buffer.fill()</td>
<td>ç”¨äºç¼“å†²åŒºå¡«å……</td>
<td>method</td>
</tr>
<tr>
<td>0x6</td>
<td>buffer.includes(values)</td>
<td>ç”¨äºåˆ¤æ–­ values æ˜¯å¦åœ¨ç¼“å†²åŒºï¼ˆbufferï¼‰ä¸­</td>
<td>method</td>
</tr>
<tr>
<td>0x7</td>
<td>buffer.isEncoding</td>
<td>åˆ¤æ–­ Buffer ç›®å‰æ‰€æ”¯æŒçš„ç¼–ç åç§°</td>
<td>method</td>
</tr>
<tr>
<td>0x8</td>
<td>buf.slice(start[,end])</td>
<td>ç”¨äºå°† buffe å†…çš„ fill è¿›è¡Œåˆ‡ç‰‡</td>
<td>method</td>
</tr>
<tr>
<td>0x9</td>
<td>buf.toJSON()</td>
<td>å°†æ•°æ®è¾“å‡ºä¸º JSON æ ¼å¼</td>
<td>method</td>
</tr>
<tr>
<td>0x10</td>
<td>buf.write(string[,offset,length,encoding])</td>
<td>å°† string å†™å…¥ buffer ä¸­</td>
<td>method</td>
</tr>
</tbody></table>
<h4 id="buffer-alloc"><a href="#buffer-alloc" class="headerlink" title="buffer.alloc"></a>buffer.alloc</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;Buffer 01 01 01 01 01 01 01 01 01 01&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å­—èŠ‚çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">var</span> buflen = <span class="title class_">Buffer</span>.<span class="title function_">byteLength</span>(buf)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buflen)</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º 10 çš„ç¼“å­˜åŒºï¼Œä¸”ç”¨ <code>1</code> è¿›è¡Œå¡«å……ï¼Œå¹¶é€šè¿‡ <code>Buffer.byteLength</code> æ¥æŸ¥è¯¢å­—èŠ‚çš„é•¿åº¦ã€‚</p>
<blockquote>
<p>ä¸ <code>length</code> çš„åŒºåˆ«æ˜¯ <code>byteLength</code> ä¸ä¼šè€ƒè™‘ç”¨äºå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚ç¼–ç </p>
</blockquote>
<h4 id="buffer-fill-arrayBuffer-byteOffset-length"><a href="#buffer-fill-arrayBuffer-byteOffset-length" class="headerlink" title="buffer.fill(arrayBuffer[, byteOffset[, length])"></a>buffer.fill(arrayBuffer[, byteOffset[, length])</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ Unit8Array åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> arrA = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arrB = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(arrA.<span class="property">buffer</span>, <span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(arrB.<span class="property">buffer</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// abcd</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="title function_">toString</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">const</span> buff = <span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buff.<span class="title function_">toString</span>())</span><br></pre></td></tr></table></figure>

<h5 id="buf-toJSON"><a href="#buf-toJSON" class="headerlink" title="buf.toJSON()"></a>buf.toJSON()</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ Unit8Array åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> arrA = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arrB = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(arrA.<span class="property">buffer</span>, <span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(arrB.<span class="property">buffer</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; type: &#x27;Buffer&#x27;, data: [ 97, 98, 99, 100 ] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="title function_">toJSON</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">const</span> buff = <span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buff.<span class="title function_">toJSON</span>())</span><br></pre></td></tr></table></figure>

<h4 id="buffer-compare-target-target1-targetâ€¦"><a href="#buffer-compare-target-target1-targetâ€¦" class="headerlink" title="buffer.compare(target[,target1,targetâ€¦])"></a>buffer.compare(target[,target1,targetâ€¦])</h4><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>0x2</td>
<td>buffer.compare(target[,target1,target..])</td>
<td>æ¯”è¾ƒä¸¤ä¸ªç¼“å†²åŒºï¼ˆbufferï¼‰å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå¹¶è¿”å› -1ã€0ã€1</td>
</tr>
<tr>
<td></td>
<td>0</td>
<td>ä¸ target ç›¸ç­‰è¿”å› <code>0</code></td>
</tr>
<tr>
<td></td>
<td>1</td>
<td>å¦‚æœ target çš„ size ä¸åŒä»¥åŠ fill ç›¸ç­‰ï¼Œåˆ™è¿”å› <code>1</code></td>
</tr>
<tr>
<td></td>
<td>-1</td>
<td>å¦‚æœ target çš„ fill ä¸ç›¸ç­‰ï¼Œåˆ™è¿”å› <code>-1</code></td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf1 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="keyword">var</span> com = <span class="title class_">Buffer</span>.<span class="title function_">compare</span>(buf1,buf2)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(com)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf3 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">const</span> buf4 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// -1</span></span><br><span class="line"><span class="keyword">var</span> com1 = <span class="title class_">Buffer</span>.<span class="title function_">compare</span>(buf3,buf4)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(com1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf5 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> buf6 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="keyword">var</span> com2 = <span class="title class_">Buffer</span>.<span class="title function_">compare</span>(buf5,buf6)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(com2)</span><br></pre></td></tr></table></figure>

<h4 id="buffer-concat"><a href="#buffer-concat" class="headerlink" title="buffer.concat()"></a>buffer.concat()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> buf1 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [buf, buf1, buf2]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> con = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 &lt;Buffer 00 00 00 00 00&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">byteLength</span>(con), con)</span><br></pre></td></tr></table></figure>

<h4 id="buffer-entries"><a href="#buffer-entries" class="headerlink" title="buffer.entries()"></a>buffer.entries()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;hello,world!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 0, 104 ]</span></span><br><span class="line"><span class="comment">    [ 1, 101 ]</span></span><br><span class="line"><span class="comment">    [ 2, 108 ]</span></span><br><span class="line"><span class="comment">    [ 3, 108 ]</span></span><br><span class="line"><span class="comment">    [ 4, 111 ]</span></span><br><span class="line"><span class="comment">    [ 5, 44 ]</span></span><br><span class="line"><span class="comment">    [ 6, 119 ]</span></span><br><span class="line"><span class="comment">    [ 7, 111 ]</span></span><br><span class="line"><span class="comment">    [ 8, 114 ]</span></span><br><span class="line"><span class="comment">    [ 9, 108 ]</span></span><br><span class="line"><span class="comment">    [ 10, 100 ]</span></span><br><span class="line"><span class="comment">    [ 11, 33 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> point <span class="keyword">of</span> buf.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(point)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 104</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><figcaption><span>ä¸ç›´æ¥é€šè¿‡ ```buf[0]``` è¿™ç§é€ä¸€è¾“å‡ºæ›´åŠ çš„æ–¹ä¾¿å’Œå¿«æ·ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#### buffer.fill</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const buf = Buffer.alloc(5).fill(&#x27;hello&#x27;)</span><br><span class="line"></span><br><span class="line">// hello</span><br><span class="line">console.log(buf.toString())</span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line">const buf2 = Buffer.alloc(5,&#x27;hello&#x27;)</span><br><span class="line">console.log(buf2.toString())</span><br></pre></td></tr></table></figure>


<h4 id="buffer-includes-values"><a href="#buffer-includes-values" class="headerlink" title="buffer.includes(values)"></a>buffer.includes(values)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;This is Buffer&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// true false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="title function_">includes</span>(<span class="string">&#x27;is&#x27;</span>), buf.<span class="title function_">includes</span>(<span class="string">&#x27;as&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h4 id="buf-slice-start-end"><a href="#buf-slice-start-end" class="headerlink" title="buf.slice(start[,end])"></a>buf.slice(start[,end])</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;abcd&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> sli = buf.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ab</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sli.<span class="title function_">toString</span>())</span><br></pre></td></tr></table></figure>

<h4 id="buf-write-string-offset-length-encoding"><a href="#buf-write-string-offset-length-encoding" class="headerlink" title="buf.write(string[,offset,length,encoding])"></a>buf.write(string[,offset,length,encoding])</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">6</span>);</span><br><span class="line"><span class="keyword">const</span> len = buf.<span class="title function_">write</span>(<span class="string">&#x27;buffer&#x27;</span>,<span class="number">0</span>,<span class="number">6</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`byte: <span class="subst">$&#123;buf&#125;</span> length: <span class="subst">$&#123;len&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ç¼–ç è½¬æ¢"><a href="#å­—ç¬¦ç¼–ç è½¬æ¢" class="headerlink" title="å­—ç¬¦ç¼–ç è½¬æ¢"></a>å­—ç¬¦ç¼–ç è½¬æ¢</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buffer = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;hello,world!&#x27;</span>, <span class="string">&#x27;ascii&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer.<span class="title function_">toString</span>(<span class="string">&#x27;ascii&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 104 101 108 108</span></span><br><span class="line"><span class="comment"> * h -&gt; 104</span></span><br><span class="line"><span class="comment"> * e -&gt; 101</span></span><br><span class="line"><span class="comment"> * l -&gt; 108</span></span><br><span class="line"><span class="comment"> * l -&gt; 108</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer[<span class="number">0</span>],buffer[<span class="number">1</span>],buffer[<span class="number">2</span>],buffer[<span class="number">3</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>ç¼“å†²åŒºæ˜¯ä¸€ä¸ªå­—èŠ‚æ•°æ®ï¼Œå› æ­¤å¯ä»¥åƒæ•°ç»„ä¸€æ ·è¿›è¡Œè®¿é—®ï¼Œé™¤æ­¤å®ƒè¿˜æ”¯æŒæ•°ç§ç¼–ç çš„è½¬æ¢ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>uft8 ï¼ˆutf-8ï¼‰</td>
<td>å¤šå­—èŠ‚çš„ Unicode å­—ç¬¦ï¼Œè®¸å¤šç½‘é¡µå’Œç©æ–‡æ¡£æ ¼å¼ä½¿ç”¨ <code>UFT-8</code> ä¹Ÿæ˜¯ <strong>é»˜è®¤çš„å­—ç¬¦ç¼–ç </strong>ï¼ˆå½“ buffer è§£ç è¿‡ç¨‹ä¸­å¦‚æœ UTF-8 ä¸æ˜¯æœ‰æ•ˆå­—ç¬¦ï¼Œå°†ä¼šä»¥ unicode æ›¿æ¢å­—ç¬¦ ï¿½ ç”¨äºè¡¨ç¤ºé”™è¯¯ï¼‰</td>
<td>å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>2</td>
<td>utf16leï¼ˆutf-16leï¼‰</td>
<td>å¤šå­—èŠ‚ç¼–ç çš„ Unicode å­—ç¬¦ï¼Œä¸ utf8 ä¸åŒçš„æ˜¯å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦éƒ½å°†ä½¿ç”¨ <strong>2ä¸ªæˆ–4ä¸ª</strong> å­—èŠ‚è¿›è¡Œç¼–ç </td>
<td>å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>3</td>
<td>latin1 ï¼ˆLatin-1ï¼‰</td>
<td>å³ ISO-8859-1 ï¼Œå› æ­¤æ­¤ç¼–ç ä»…æ”¯æŒ <strong>U+0000ï½U+00FF</strong> çš„ Unicode å­—ç¬¦ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½å°†ä½¿ç”¨å•å­—èŠ‚è¿›è¡Œç¼–ç ï¼ˆä¸€ç§ä¸€å­—èŠ‚çš„å­—ç¬¦ä¸²æ–¹å¼ï¼‰</td>
<td>å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>4</td>
<td>base64</td>
<td>ä¸€ç§åŸºäº 64 ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„æ–¹æ³•ï¼Œå¯æ‰“å°çš„å­—æ¯ <strong>a-z\A-Z</strong> ä»¥åŠæ•°å­— <strong>0-9</strong>ï¼Œæ­¤å¤–è¿˜åŒ…å«ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦æˆ–æ¢è¡Œç¬¦ï¼‰ä¼šè¢« buffer å¿½ç•¥</td>
<td>äºŒè¿›åˆ¶</td>
</tr>
<tr>
<td>5</td>
<td>base64url</td>
<td>ä¸€ä¸ªå¯¹ base64 æ ‡å‡†çš„ä¿®æ”¹ï¼Œå…¶ç›®çš„æ˜¯èƒ½å°†ç¼–ç ç»“æœç”¨äºæ–‡ä»¶åæˆ– URL åœ°å€ï¼Œå½“å­—ç¬¦ä¸²é€šè¿‡ buffer æ—¶ï¼Œbase64url ä¹Ÿå°†æ¥å—å¸¸è§„çš„ base64 ç¼–ç è½¬æ¢ã€‚</td>
<td>äºŒè¿›åˆ¶</td>
</tr>
<tr>
<td>6</td>
<td>hexï¼ˆ16 è¿›åˆ¶ï¼‰</td>
<td>å°†æ¯ä¸ªå­—èŠ‚è½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦</td>
<td>äºŒè¿›åˆ¶</td>
</tr>
<tr>
<td>7</td>
<td>ascii</td>
<td>ä»…ç”¨äº 7 ä½æ•°çš„ ASCII æ•°æ®ï¼Œå½“é€šè¿‡ buffer æ—¶ï¼Œå°†ä¼šç­‰æ•ˆäº Lantin-1</td>
<td>æ—§å­—ç¬¦</td>
</tr>
<tr>
<td>8</td>
<td>binary (Lation-1)</td>
<td>Lation-1 çš„åˆ«åï¼Œé€šè¿‡æ­¤ç¼–ç åˆ—å‡ºçš„æ‰€æœ‰ç¼–ç éƒ½ä¼šåœ¨å­—ç¬¦ä¸²å’ŒäºŒè¿›åˆ¶ä¹‹é—´è½¬æ¢</td>
<td>æ—§å­—ç¬¦</td>
</tr>
<tr>
<td>9</td>
<td>ucs2ï¼ˆutf-16leï¼‰</td>
<td>uft-16le çš„åˆ«åï¼Œæ³›æŒ‡ UTF-16 çš„ä¸€ç§å˜ä½“ï¼Œæ­¤ç¼–ç ä¸æ”¯æŒå¤§äº U+FFFF çš„å­—ç¬¦</td>
<td>æ—§å­—ç¬¦</td>
</tr>
</tbody></table>
<blockquote>
<p>å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>buffer.isEncoding	</code> æ–¹æ³•æ¥è¿›è¡Œåˆ¤æ–­ Buffer æ˜¯å¦æ”¯æŒè¯¥ç¼–ç ç±»å‹ã€‚</p>
</blockquote>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/4.Node.js Model å¼•å…¥æµç¨‹/">Node.js Model å¼•å…¥æµç¨‹</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>Node model å¯ä»¥ç›¸äº’è¿›è¡Œè°ƒç”¨ï¼ŒNode.js ä¸ºæ­¤æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¨¡å—ç³»ç»Ÿï¼Œè¿™å¯ä»¥å†…ç½®çš„ä¹Ÿå¯ä»¥æ˜¯é€šè¿‡ <code>npm</code> è¿›è¡Œå®‰è£…çš„ï¼Œå› æ­¤ Node.js æä¾›äº† <code>exports</code> å’Œ <code>require</code> ä¸¤ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­ <code>exports</code> ç”¨äºæ¨¡å—å…¬å¼€çš„æ¥å£ï¼Œè€Œ <code>require</code> åˆ™ç”¨äºè·å–æ¨¡å—çš„ <code>exports</code> å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setName</span> = <span class="keyword">function</span> (<span class="params">thyName</span>) &#123;</span><br><span class="line">        name = thyName;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHello</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hey,&#x27;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Hello</span>;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>exports</code> å¯¹è±¡å°† <code>Hello</code> å¯¹è±¡æœ¬èº«ï¼Œå› æ­¤åœ¨é€šè¿‡ <code>require</code> å¯¹è±¡è¿›è¡Œå¼•å…¥çš„æ—¶å€™ï¼Œå°±ä¼šè¾“å‡º Hello å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Hello</span> = <span class="built_in">require</span>(<span class="string">&#x27;./modelName&#x27;</span>)</span><br><span class="line">hello = <span class="keyword">new</span> <span class="title class_">Hello</span>()</span><br><span class="line">hello.<span class="title function_">setName</span>(<span class="string">&#x27;This is vievs file!&#x27;</span>)</span><br><span class="line">hello.<span class="title function_">sayHello</span>()</span><br></pre></td></tr></table></figure>

<p>åœ¨ Node.js æ¨¡å—ä¸­ï¼Œæ¨¡å—ä¸»è¦åˆ†ä¸º <strong>æ ¸å¿ƒæ¨¡å—</strong>ï¼Œè¿™æ˜¯ Node.js æ‰€æä¾›çš„æ¨¡å—ï¼Œè€Œå¦ä¸€ä¸ªåˆ™æ˜¯ç”¨æˆ·æ‰€ç¼–å†™çš„æ¨¡å—ï¼Œè¢«ç§°ä¹‹ä¸º <strong>æ–‡ä»¶æ¨¡å—</strong>ã€‚è¿™ä¹‹é—´çš„åŒºåˆ«å°±æ˜¯æ ¸å¿ƒæ¨¡å—éƒ¨åˆ†åœ¨ Node ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶ç¼–è¯‘äº†äºŒè¿›åˆ¶çš„æ‰§è¡Œæ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ Node è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œæ ¸å¿ƒæ¨¡å—å°±ä¼šè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå› æ­¤å’Œå› æ¨¡å—åœ¨å¼•å…¥çš„æ—¶å€™ï¼Œæ–‡ä»¶å®šä½ä»¥åŠç¼–è¯‘æ‰§è¡Œå°±ä¼šè¢«çœç•¥æ‰ã€‚</p>
<p>ä½†ç”¨æˆ·æ‰€ç¼–å†™çš„æ–‡ä»¶æ¨¡å—åˆ™éœ€è¦é€šè¿‡ <strong>æŸ¥æ‰¾è·¯å¾„ï¼Œæ–‡ä»¶å®šä½ï¼Œç¼–è¯‘æ‰§è¡Œ</strong> è¿™ä¸‰ä¸ªæµç¨‹ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è¿›è¡ŒåŠ¨æ€åŠ è½½ï¼Œå› æ­¤æ¯”è¾ƒæ…¢ã€‚æ‰€ä»¥å’Œæ ¸å¿ƒæ¨¡å—æ¯”èµ·æ¥ï¼Œé€Ÿåº¦æ˜¯è‡ªç„¶èµ¶ä¸ä¸Šäººå®¶å†…ç½®çš„ã€‚</p>
<h2 id="require-æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥"><a href="#require-æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥" class="headerlink" title="require æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥"></a>require æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/4.node.js%20model.md/5142988836618.png"></p>
<h3 id="æ–‡ä»¶ç¼“å­˜åŒº"><a href="#æ–‡ä»¶ç¼“å­˜åŒº" class="headerlink" title="æ–‡ä»¶ç¼“å­˜åŒº"></a>æ–‡ä»¶ç¼“å­˜åŒº</h3><p>å¯¹äº require çš„æ–‡ä»¶ç¼“å­˜åŒºä¸»è¦çš„ä½œç”¨å°±æ˜¯ä¼šä¼˜å…ˆä»æ–‡ä»¶æ¨¡å—ä¸­åŠ è½½å·²ç»å­˜åœ¨çš„æ¨¡å—è¿™ä¹Ÿå°±è¯´æ˜äº† Node å¯¹å¼•å…¥è¿‡çš„æ¨¡å—éƒ½ä¼šè¿›è¡Œç¼“å­˜ï¼Œä»¥å‡å°‘ç¬¬äºŒæ¬¡ä½¿ç”¨æ—¶çš„åŠ è½½æ—¶é—´ã€‚</p>
<p>ä½†ä¸æµè§ˆå™¨ç¼“å­˜é™æ€è„šæœ¬æ–‡ä»¶ä¸åŒçš„æ˜¯ï¼ŒNode.js æ‰€ç¼“å­˜çš„æ˜¯ç¼–è¯‘ä¹‹åçš„å¯¹è±¡ï¼Œæ— è®ºæ˜¯æ ¸å¿ƒæ¨¡å—è¿˜æ˜¯æ–‡ä»¶æ¨¡å—ï¼Œå¯¹äºäºŒæ¬¡åŠ è½½éƒ½ä¸€å¾‹é‡‡ç”¨ç¼“å­˜ä¼˜å…ˆçš„æ–¹å¼è¿›è¡Œã€‚</p>
<blockquote>
<p>ä¸åŒä¹‹å¤„åœ¨äºæ ¸å¿ƒæ¨¡å—çš„æ£€æŸ¥ä¼˜äºæ–‡ä»¶æ¨¡å—çš„ç¼“å­˜æ£€æŸ¥</p>
</blockquote>
<h3 id="åŸç”Ÿæ¨¡å—åŠ è½½"><a href="#åŸç”Ÿæ¨¡å—åŠ è½½" class="headerlink" title="åŸç”Ÿæ¨¡å—åŠ è½½"></a>åŸç”Ÿæ¨¡å—åŠ è½½</h3><p>åŸç”Ÿæ¨¡å—çš„åŠ è½½ä»…æ¬¡äºæ£€æŸ¥æ–‡ä»¶ç¼“å­˜åŒºæ˜¯å¦å­˜åœ¨ï¼Œå› æ­¤é€šè¿‡ <code>require</code> è§£æå®Œæ–‡ä»¶åä¹‹åï¼Œæ£€æŸ¥è¯¥æ¨¡å—æ˜¯å¦åœ¨åŸç”Ÿæ¨¡å—ä¸­ã€‚</p>
<p>å¦‚ <code>http</code> æ¨¡å—ï¼Œè™½ç„¶ä¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹å­˜åœ¨ <code>http/http.js/http.node/http.json</code> æ–‡ä»¶ï¼Œä½† <code>http</code> æ¨¡å—ä¸ä¼šä»è¿™äº›æ–‡ä»¶ä¸­åŠ è½½ï¼Œè€Œæ˜¯ä»åŸç”Ÿæ¨¡å—ä¸­è¿›è¡ŒåŠ è½½ã€‚</p>
<p>å› æ­¤åŸç”Ÿæ¨¡å—å†…åŒæ ·æœ‰ä¹Ÿæœ‰ä¸€ä¸ªç¼“å­˜åŒºï¼Œå¦‚ç¼“å­˜åŒºæ²¡æœ‰è¢«åŠ è½½è¿‡ï¼Œå°±ä¼šè°ƒç”¨åŸç”Ÿæ¨¡å—çš„åŠ è½½æ–¹å¼è¿›è¡ŒåŠ è½½å’Œæ‰§è¡Œã€‚</p>
<h3 id="æ–‡ä»¶åŠ è½½"><a href="#æ–‡ä»¶åŠ è½½" class="headerlink" title="æ–‡ä»¶åŠ è½½"></a>æ–‡ä»¶åŠ è½½</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/4.node.js%20model.md/3951420721462.png"></p>
<p>å½“æ–‡ä»¶æ¨¡å—åœ¨ç¼“å­˜ä¸­å¹¶ä¸å­˜åœ¨æ˜¯ï¼Œè€Œä¸”è¿˜æ˜¯åŸç”Ÿæ¨¡å—çš„æ—¶å€™ï¼Œ<code>require</code> æ–¹æ³•æ‰€ä¼ å…¥çš„å‚æ•°å°±ä¼šè¢« Node.js è§£æï¼Œå¹¶ä»æ–‡ä»¶ç³»ç»Ÿä¸­åŠ è½½åˆ°å®é™…çš„æ–‡ä»¶ã€‚å¯¹äºæ²¡ä¸€ä¸ªè¢«åŠ è½½çš„æ–‡ä»¶æ¨¡å—ï¼Œåˆ›å»ºè¿™ä¸ªæ¨¡å—å¯¹è±¡çš„æ—¶å€™å°±ä¼šç”Ÿæˆä¸€ä¸ª <code>paths</code> å±æ€§ï¼Œä¹Ÿå°±æ˜¯ <code>/node_modules</code>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ <code>console.log(module.paths)</code> æ¥æ ¹æ®å½“å‰æ–‡ä»¶çš„è·¯å¾„è®¡ç®—å¾—åˆ° <code>module path</code>ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ &#x27;/home/kunlun/Development/Web/Demo/node/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/Development/Web/Demo/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/Development/Web/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/Development/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/node_modules&#x27;,</span><br><span class="line">  &#x27;/node_modules&#x27; ]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»å½“å‰æ–‡ä»¶ç›®å½•å†…å¼€å§‹æŸ¥æ‰¾ <code>node_modules</code> ç›®å½•ï¼Œç„¶åä¾æ¬¡è¿›å…¥æŸ¥æ‰¾çˆ¶ç›®å½•ä¸‹çš„ <code>node_modules</code>ï¼Œä»¥æ­¤å¾ªç¯è¿­ä»£åˆ°æ ¹ç›®å½•ä¸‹çš„ <code>node_modules</code> ç›®å½•ã€‚</p>
</blockquote>
<p>å¦‚æœ &#96;&#96;&#96;require&#96;&#96; æŒ‡å‘çš„æ˜¯ç»å¯¹è·¯å¾„çš„æ–‡ä»¶ï¼ŒæŸ¥æ‰¾æ—¶å°±ç›´æ¥ä½œä¸ºå½“å‰çš„è·¯å¾„è¿›è¡Œä½¿ç”¨ï¼Œå¦‚æœä¸æ˜¯åˆ™è¿›å…¥æŸ¥æ‰¾çš„æµç¨‹ã€‚ä»¥ module_path ä¸­å–å‡ºåœ°ä¸€ä¸ªç›®å½•ä½œä¸ºæŸ¥æ‰¾çš„åŸºå‡†ï¼š</p>
<ol>
<li>ç›´æ¥å°è¯•ä»å½“å‰ç›®å½•è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœå­˜åœ¨åˆ™ç»“æŸæµç¨‹ï¼Œåè€Œç»§ç»­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶è¿›å…¥ä¸‹ä¸€é˜¶æ®µ</li>
<li>å°è¯•æ·»åŠ æ‰©å±•ååç¼€è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœå­˜åœ¨å°±ç»“æŸæŸ¥æ‰¾ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µ</li>
<li>å°è¯•å°† require çš„å‚æ•°ä½œä¸ºä¸€ä¸ªåŒ…è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¯»å–é¡¹ç›®ç›®å½•ä¸‹çš„ <code>package.json</code> æ–‡ä»¶</li>
<li>å°è¯•æ·»åŠ æ‰©å±•åæˆ–æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¦‚æœå­˜åœ¨å°±ç»“æŸæµç¨‹ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µ</li>
<li>å¦‚æœç»§ç»­å¤±è´¥ï¼Œåˆ™å–å‡º module path ä¸­ä¸‹ä¸€ä¸ªç›®å½•ä½œä¸ºæŸ¥æ‰¾çš„åŸºå‡†ï¼Œå¾ªç¯ 1ï½5 æ­¥éª¤</li>
<li>å¦‚æœä»ç„¶å¤±è´¥ï¼Œåˆ™ä¸€ç›´å¾ªç¯ 1ï½6 æ­¥éª¤ï¼ŒçŸ¥é“ module path ä¸­æœ€åä¸€ä¸ªå€¼</li>
<li>å¦‚æœæŒç»­å¤±è´¥ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ol>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/3.Node.js at ECMAScript 6/">Node.js at ECMAScript</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ <strong>ECMAScript</strong> æ˜¯ä¸€ç§ç”± Ecma å›½é™…ï¼ˆEcma Internationalï¼‰æ ¹æ®å…¶æ ‡å‡†å®šä¹‰çš„è„šæœ¬è¯­è¨€è§„èŒƒï¼Œä¸»è¦åœ¨ JavaScript ä¸Šè¿ç”¨å¹¿æ³›ï¼Œè€Œ ECMAScript æ˜¯åœ¨ 2015 å¹´ 6 æœˆæ‰€æ­£å¼å‘å¸ƒï¼Œè¿™ä½¿å¾— JavaScript å¯ä»¥ç”¨æ¥ç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºï¼Œæˆä¸ºä¼ä¸šçº§å¼€å‘è¯­è¨€ã€‚</p>
<blockquote>
<p>ECMAScript å‰èº«ä¸ºæ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼šï¼ˆEuropean Computer Manufacturers Associationï¼ŒECMAï¼‰ï¼Œæ˜¯ä¸€ä¸ªå›½é™…æ€§ä¼šå‘˜åˆ¶åº¦çš„ä¿¡æ¯å’Œç”µä¿¡æ ‡å‡†ç»„ç»‡ã€‚</p>
</blockquote>
<p>å› æ­¤éµå¾ª ES6 ä¸­çš„ JS è¯­æ³•ä¹Ÿæ˜¯ Node.js åŸºç¡€ä¹‹ä¸€ï¼Œå› ä¸º Node.js æœ¬è´¨ä¸Šè¿˜æ˜¯ JavaScript æ‰€ä»¥é€šè¿‡äº†è§£å¹¶å­¦ä¹  ES6 ä¸­çš„æ–¹æ³•å¯ä»¥å¿«é€ŸæŒæ¡ JSã€‚</p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>array.push()</code></td>
<td>å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦</td>
</tr>
<tr>
<td>2</td>
<td><code>array.pop()</code></td>
<td>åˆ é™¤æœ€åä¸€ä¸ªè®¿é—®æœ€åä¸€ä¸ªæ•°ç»„</td>
</tr>
<tr>
<td>3</td>
<td><code>array.shift()</code></td>
<td>åˆ é™¤ç¬¬ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›åˆ é™¤åçš„ç¬¬ä¸€ä¸ªæ•°ç»„</td>
</tr>
<tr>
<td>4</td>
<td><code>arry.shift()</code></td>
<td>ä»æ•°ç»„èµ·å§‹ä½ç½®æ·»åŠ å…ƒç´ ï¼Œå¹¶è¿”å›æ·»åŠ åçš„é•¿åº¦</td>
</tr>
<tr>
<td>5</td>
<td><code>array.splice(start,deleteCount)</code></td>
<td>æ ¹æ®æ•°ç»„çš„ç´¢å¼•åˆ é™¤æ•°ç»„ï¼Œå¹¶è¿”å›åˆ é™¤çš„å…ƒç´ </td>
</tr>
<tr>
<td>6</td>
<td><code>array.concat()</code></td>
<td>å°†æ•°ç»„åˆå¹¶</td>
</tr>
<tr>
<td>7</td>
<td><code>array.split())</code></td>
<td>ç”¨äºå°†å­—ç¬¦ä¸²å½¢å¼è½¬ä¸ºæ•°ç»„</td>
</tr>
<tr>
<td>8</td>
<td><code>array.sort()</code></td>
<td>é€šè¿‡åŸåœ°ç®—æ³•å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿”å›æ•°ç»„ï¼ˆæ ¹æ® <strong>UTF-16</strong> ä»£ç å€¼è¿›è¡Œæ’åºï¼‰</td>
</tr>
<tr>
<td>9</td>
<td><code>array.reverse()</code></td>
<td>å°†æ–¹æ³•æ•°ç»„ä¸­çš„å…ƒç´ é¢ å€’ï¼Œå¹¶è¿”å›æ•°ç»„ï¼Œä¹‹ååŸæœ¬ç¬¬ä¸€ä¸ªæ•°ç»„å°†ä¼šå˜æˆæœ€åä¸€ä¸ª</td>
</tr>
<tr>
<td>10</td>
<td><code>array.slice(start, end)</code></td>
<td>åˆ é™¤ç´¢å¼•å€¼ <code>start ~ end</code> çš„æ•°ç»„ï¼ˆä» 0 å¼€å§‹ï¼‰</td>
</tr>
<tr>
<td>11</td>
<td><code>array.forEach(callback(currentValue [, index [, array]])</code></td>
<td>ç”¨äºéå†æ•°ç»„ï¼Œå¹¶æœªæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼ˆ <strong>ä¸ <code>array.map</code> çš„åŒºåˆ«å°±æ˜¯ä¸è¿”å›æ•°ç»„</strong> ï¼‰ï¼Œè¯¥å‡½æ•°ä¸»è¦åˆ†ä¸ºä¸‰ä¸ª ï¼š</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> ç´¢å¼•å·</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> å…ƒç´ </td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> æ•°ç»„</td>
</tr>
<tr>
<td>12</td>
<td><code>array.map(callback(currentValue [, index [, array]])</code></td>
<td>ç”¨äºéå†æ•°ç»„ï¼Œå¹¶æœªæ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼Œå¹¶è¿”å›æ–°çš„æ•°ç»„ï¼Œè¯¥å‡½æ•°ä¸»è¦åˆ†ä¸ºä¸‰ä¸ª ï¼š</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> ç´¢å¼•å·</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> å…ƒç´ </td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> æ•°ç»„</td>
</tr>
<tr>
<td>13</td>
<td><code>array.filter()</code></td>
<td>è¿”å›æ»¡è¶³éœ€è¦çš„æ–°æ•°ç»„</td>
</tr>
<tr>
<td>14</td>
<td><code>array.every()</code></td>
<td>åˆ¤æ–­æ•°ç»„å…ƒç´ æ˜¯å¦æ»¡è¶³ï¼Œå¹¶è¿”å›å¸ƒå°”å€¼</td>
</tr>
<tr>
<td>15</td>
<td><code>array.some()</code></td>
<td>ä¸€å¥æ¡ä»¶åˆ¤æ–­æ•°ç»„ä¸­å…ƒç´ æ˜¯å¦æ»¡è¶³ï¼Œå¹¶è¿”å›å¸ƒå°”å€¼(æ•°ç»„å†…æ»¡è¶³ä¸€å‘å³å¯)</td>
</tr>
<tr>
<td>16</td>
<td><code>arr.reduce(callback, currentValue[, index[, array]])[, initialValue])</code></td>
<td>é€šè¿‡å®šä¹‰çš„ reducer å‡½æ•°æ¥è¿”å›ä¸€ä¸ªæœ€ç»ˆå€¼</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>initialValue</code> æ‰§è¡Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼Œå¦‚æœæä¾›äº†ï¼Œåˆ™ <code>previousValue(callback)</code> æˆä¸ºç¬¬ä¸€ä¸ªå€¼ï¼Œç­‰äº initialValue</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>currentValue</code> ç­‰äºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå€¼</td>
</tr>
<tr>
<td>17</td>
<td><code>Array.from()</code></td>
<td>å°†ä¸€ä¸ªç±»ä¼¼çš„æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</td>
</tr>
<tr>
<td>18</td>
<td><code>Array.of()</code></td>
<td>å°†ä¸€ç»„å€¼è½¬æ¢ä¸ºæ•°ç»„</td>
</tr>
<tr>
<td>19</td>
<td><code>array.copyWithin(target, start, end)</code></td>
<td>ç”¨äºå°†å½“å‰ä½ç½®çš„æ•°ç»„å…ƒç´ å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®å¹¶è¦†ç›–åŸæ¥çš„å…ƒç´ </td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>target</code> ä¸ºç›®æ ‡ä½ç½®ï¼Œä» 0 å¼€å§‹</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>start</code> æ˜¯å½“å‰å…ƒç´ æœ€åˆä½ç½®</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>end</code> å½“å‰å…ƒç´ ç»“æŸçš„ä½ç½®</td>
</tr>
<tr>
<td>20</td>
<td><code>array.find(index, value, array)</code></td>
<td>ç”¨äºéå†æ•°ç»„ï¼Œå¹¶æ ¹æ®è¡¨è¾¾å¼æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼Œè¯¥å‡½æ•°ä¸»è¦åˆ†ä¸ºä¸‰ä¸ª ï¼š</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> ç´¢å¼•å·</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> å…ƒç´ </td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> æ•°ç»„</td>
</tr>
<tr>
<td>21</td>
<td><code>array.findIndex(index, value, array)</code></td>
<td>ç”¨äºéå†æ•°ç»„ï¼Œå¹¶æ ¹æ®è¡¨è¾¾å¼æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼ˆ <strong>ä¸ <code>array.find()</code> åŒºåˆ«åœ¨äºå¦‚æœæœªæ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„åˆ™è¿”å› â€œ-1â€</strong> ï¼‰ ï¼Œè¯¥å‡½æ•°ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªï¼š</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> ç´¢å¼•å·</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> å…ƒç´ </td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> æ•°ç»„</td>
</tr>
<tr>
<td>22</td>
<td><code>array.fill(value, start, end)</code></td>
<td>é€šè¿‡ç´¢å¼•æ¥æ·»åŠ å…ƒç´  ï¼Œè¯¥å‡½æ•°ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªï¼š</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> å¾…æ·»åŠ å…ƒç´ </td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>start</code> å¼€å§‹ä½ç½®ç´¢å¼•</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>end</code> æœ€ç»ˆä½ç½®ç´¢å¼•</td>
</tr>
<tr>
<td>23</td>
<td><code> array.includes(Value)</code></td>
<td>åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å« Valueï¼Œå¹¶è¿”å›å¸ƒå°”å€¼</td>
</tr>
<tr>
<td>24</td>
<td><code>array.keys()</code></td>
<td>éå†æ•°ç»„é”®å</td>
</tr>
<tr>
<td>25</td>
<td><code>array.values()</code></td>
<td>éå†æ•°ç»„é”®å€¼</td>
</tr>
<tr>
<td>26</td>
<td><code>array.entries()</code></td>
<td>éå†æ•°ç»„çš„é”®åå’Œé”®å€¼</td>
</tr>
</tbody></table>
<h3 id="array-push"><a href="#array-push" class="headerlink" title="array.push"></a>array.push</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">push</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// To arr add Four</span></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">&#x27;Four&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Four&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>


<h3 id="array-pop"><a href="#array-pop" class="headerlink" title="array.pop"></a>array.pop</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">arr.<span class="title function_">pop</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ ï¼šTwo</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr + <span class="string">&#x27; å½“å‰æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯ï¼š&#x27;</span> + arr.<span class="title function_">pop</span>())</span><br></pre></td></tr></table></figure>

<h3 id="array-shift"><a href="#array-shift" class="headerlink" title="array.shift"></a>array.shift</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ One</span></span><br><span class="line">arr.<span class="title function_">shift</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º Two</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr + <span class="string">&#x27; å½“å‰æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ï¼š&#x27;</span> + arr.<span class="title function_">shift</span>())</span><br></pre></td></tr></table></figure>

<h3 id="array-unshift"><a href="#array-unshift" class="headerlink" title="array.unshift"></a>array.unshift</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">unshift</span>(<span class="string">&#x27;Start&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Start&#x27;, &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-splice-start-deleteCount"><a href="#array-splice-start-deleteCount" class="headerlink" title="array.splice(start,deleteCount)"></a>array.splice(start,deleteCount)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">splice</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;3&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-concat"><a href="#array-concat" class="headerlink" title="array.concat"></a>array.concat</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢ Four,Five</span></span><br><span class="line"><span class="keyword">const</span> arr__ = [<span class="string">&#x27;Four&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå¹¶ä¸¤ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> __arr = arr.<span class="title function_">concat</span>(arr__)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Four&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(__arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-split"><a href="#array-split" class="headerlink" title="array.split"></a>array.split</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="string">&#x27;Hello,world!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Hello,world!&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">split</span>())</span><br></pre></td></tr></table></figure>

<h3 id="array-sort"><a href="#array-sort" class="headerlink" title="array.sort()"></a>array.sort()</h3><p>é‡‡ç”¨äº†åŸåœ°ç®—æ³•ï¼ˆin-place algorithmï¼‰ï¼Œå³ä¸éœ€è¦å€ŸåŠ©é¢å¤–çš„æ•°æ®ç»“æ„å°±å¯ä»¥å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œå˜å¹»ï¼Œè€Œ <code>array.sort()</code> æ˜¯æ ¹æ® <strong>UTF-16</strong> ä»£ç å•å…ƒå€¼åºåˆ—è¿›è¡Œæ„å»ºçš„ï¼Œå› æ­¤è¿˜æ˜¯å–å†³ä¸ä»£ç å€¼çš„é¡ºåºï¼Œæ— æ³•ä¿è¯æ’åºæ—¶é—´å’Œç©ºé—´çš„å¤æ‚æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤æƒ…å†µä¸‹æ˜¯ä»å°åˆ°å¤§è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">sort</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ’åºé¡ºåºæ”¹ä¸ºä»å¤§åˆ°å°</span></span><br><span class="line"><span class="keyword">const</span> arr__ = arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> b-a);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;6&#x27;, &#x27;5&#x27;, &#x27;4&#x27;, &#x27;3&#x27;, &#x27;2&#x27;, &#x27;1&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-reverse"><a href="#array-reverse" class="headerlink" title="array.reverse"></a>array.reverse</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array:  [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Array: &#x27;</span>, arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ•°ç»„åè½¬</span></span><br><span class="line"><span class="keyword">const</span> reversed = arr.<span class="title function_">reverse</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reverse:  [ &#x27;Five&#x27;, &#x27;Fire&#x27;, &#x27;Three&#x27;, &#x27;Two&#x27;, &#x27;One&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Reverse: &#x27;</span>, reversed)</span><br></pre></td></tr></table></figure>

<h3 id="array-forEach"><a href="#array-forEach" class="headerlink" title="array.forEach"></a>array.forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:One  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:1 value:Two  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:2 value:Three  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:3 value:Fire  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:4 value:Five  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span>  array:`</span>, array)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:One array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:2 value:Two array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:4 value:Three array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:6 value:Fire array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:8 value:Five array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr_.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    index = index * <span class="number">2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span> array:`</span>, array)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="array-map"><a href="#array-map" class="headerlink" title="array.map"></a>array.map</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:1  array: NaN</span></span><br><span class="line"><span class="comment">index:1 value:2  array: NaN</span></span><br><span class="line"><span class="comment">index:2 value:3  array: NaN</span></span><br><span class="line"><span class="comment">index:3 value:4  array: NaN</span></span><br><span class="line"><span class="comment">index:4 value:5  array: NaN</span></span><br><span class="line"><span class="comment">index:5 value:6  array: NaN</span></span><br><span class="line"><span class="comment">undefined</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> foreach = arr_.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    array = array * <span class="number">2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span>  array:`</span>, array)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foreach)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:1 array: NaN</span></span><br><span class="line"><span class="comment">index:1 value:2 array: NaN</span></span><br><span class="line"><span class="comment">index:2 value:3 array: NaN</span></span><br><span class="line"><span class="comment">index:3 value:4 array: NaN</span></span><br><span class="line"><span class="comment">index:4 value:5 array: NaN</span></span><br><span class="line"><span class="comment">index:5 value:6 array: NaN</span></span><br><span class="line"><span class="comment">[ undefined, undefined, undefined, undefined, undefined, undefined ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> map = arr_.<span class="title function_">map</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    array = array * <span class="number">2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span> array:`</span>, array)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map)</span><br></pre></td></tr></table></figure>

<h3 id="array-filter"><a href="#array-filter" class="headerlink" title="array.filter"></a>array.filter</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ 1, 2, 3 ]</span></span><br><span class="line"><span class="keyword">let</span> starr = arr_.<span class="title function_">filter</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> i &lt;= <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(starr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27; ]</span></span><br><span class="line"><span class="keyword">let</span> starr_ = arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> v &lt;= <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(starr_)</span><br></pre></td></tr></table></figure>

<h3 id="array-slice-start-end"><a href="#array-slice-start-end" class="headerlink" title="array.slice(start,end)"></a>array.slice(start,end)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">slice</span>(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">slice</span>(<span class="number">0</span>,-<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<h3 id="array-every-i-v"><a href="#array-every-i-v" class="headerlink" title="array.every(i,v)"></a>array.every(i,v)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> ifarr = arr.<span class="title function_">every</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> v &lt; <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ifarr)</span><br></pre></td></tr></table></figure>

<h3 id="array-some-i-v"><a href="#array-some-i-v" class="headerlink" title="array.some(i,v)"></a>array.some(i,v)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> ifarr = arr.<span class="title function_">some</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> i &lt; <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ifarr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_.<span class="title function_">some</span>(<span class="function"><span class="params">arr_</span> =&gt;</span> arr_ &gt;= <span class="number">10</span> ))</span><br></pre></td></tr></table></figure>

<h3 id="array-reduce-previousValue-currentValue"><a href="#array-reduce-previousValue-currentValue" class="headerlink" title="array.reduce(previousValue, currentValue)"></a>array.reduce(previousValue, currentValue)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line"><span class="keyword">let</span> arr_ = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">previousValue, currentValue</span>) =&gt;</span></span><br><span class="line">    previousValue + currentValue,<span class="number">5</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_)</span><br></pre></td></tr></table></figure>

<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="string">&#x27;hey&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;h&#x27;, &#x27;e&#x27;, &#x27;y&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(arr))</span><br></pre></td></tr></table></figure>

<h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="string">&#x27;hey&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;hey&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">of</span>(arr))</span><br></pre></td></tr></table></figure>

<h3 id="array-copyWithin-target-start-end"><a href="#array-copyWithin-target-start-end" class="headerlink" title="array.copyWithin(target, start, end)"></a>array.copyWithin(target, start, end)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** ç”¨äºå°†å½“å‰ä½ç½®çš„å…ƒç´ å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®ï¼Œå¹¶è¦†ç›–åŸæ¥çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"> * target ä¸ºç›®æ ‡ä½ç½®ï¼ˆ0ä¸ºå¼€å§‹ï¼‰ Â·ã€Œ1ã€</span></span><br><span class="line"><span class="comment"> * start æ˜¯æœ€åˆçš„ä½ç½® Â·ã€Œ0ã€</span></span><br><span class="line"><span class="comment"> * end æ˜¯ç»“æŸçš„ä½ç½®   Â·ã€Œ1ã€</span></span><br><span class="line"><span class="comment"> * [ &#x27;One&#x27;, &#x27;One&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">copyWithin</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="array-find-index-value-array"><a href="#array-find-index-value-array" class="headerlink" title="array.find(index, value, array)"></a>array.find(index, value, array)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** æ ¹æ®è¡¨è¾¾å¼æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">string</span>&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> index   ç´¢å¼•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> value   å…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> array   æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> <span class="variable">One</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> arr_ = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">index, value, array</span>) =&gt;</span> <span class="function"><span class="params">index</span> =&gt;</span> <span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_)</span><br></pre></td></tr></table></figure>

<h3 id="array-findIndex-index-value-array"><a href="#array-findIndex-index-value-array" class="headerlink" title="array.findIndex(index, value, array)"></a>array.findIndex(index, value, array)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** æ ¹æ®è¡¨è¾¾å¼æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼Œå¦‚æœæœªæ‰¾ç¬¦åˆè¦æ±‚çš„åˆ™è¿”å› &quot;-1&quot;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> index   ç´¢å¼•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> value   å…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> array   æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> -1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> arr_ = arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">index, value, array</span>) =&gt;</span> value &gt; <span class="number">199</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_)</span><br><span class="line"></span><br><span class="line"><span class="comment">/** æ ¹æ®è¡¨è¾¾å¼æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">string</span>&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> index   ç´¢å¼•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> value   å…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> array   æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> <span class="variable">undefined</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> arr_find = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">index, value, array</span>) =&gt;</span> value &gt; <span class="number">199</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_find)</span><br></pre></td></tr></table></figure>

<h3 id="array-fill-value-start-end"><a href="#array-fill-value-start-end" class="headerlink" title="array.fill(value, start, end)"></a>array.fill(value, start, end)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Start&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;End&#x27; ] [ &#x27;Start&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;End&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">fill</span>(<span class="string">&#x27;Start&#x27;</span>,<span class="number">0</span>,<span class="number">1</span>),arr.<span class="title function_">fill</span>(<span class="string">&#x27;End&#x27;</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<h3 id="array-includes-Value"><a href="#array-includes-Value" class="headerlink" title="array.includes(Value)"></a>array.includes(Value)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦åŒ…å« Value</span></span><br><span class="line"><span class="comment"> * One: true</span></span><br><span class="line"><span class="comment"> * Start: false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;One:&#x27;</span>,arr.<span class="title function_">includes</span>(<span class="string">&#x27;One&#x27;</span>),<span class="string">&#x27;\nStart:&#x27;</span>, arr.<span class="title function_">includes</span>(<span class="string">&#x27;Start&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="forâ€¦â€¦in"><a href="#forâ€¦â€¦in" class="headerlink" title="forâ€¦â€¦in"></a>forâ€¦â€¦in</h3><h4 id="array-keys"><a href="#array-keys" class="headerlink" title="array.keys()"></a>array.keys()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toarr = arr.<span class="title function_">keys</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/** éå†æ•°ç»„é”®å</span></span><br><span class="line"><span class="comment">     0</span></span><br><span class="line"><span class="comment">     1</span></span><br><span class="line"><span class="comment">     2</span></span><br><span class="line"><span class="comment">     3</span></span><br><span class="line"><span class="comment">     4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> keys <span class="keyword">of</span> toarr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(keys)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="array-values"><a href="#array-values" class="headerlink" title="array.values()"></a>array.values()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toarr = arr.<span class="title function_">values</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/** éå†æ•°ç»„é”®å€¼</span></span><br><span class="line"><span class="comment">     One</span></span><br><span class="line"><span class="comment">     Two</span></span><br><span class="line"><span class="comment">     Three</span></span><br><span class="line"><span class="comment">     Fire</span></span><br><span class="line"><span class="comment">     Five</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> values <span class="keyword">of</span> toarr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(values)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="array-entries"><a href="#array-entries" class="headerlink" title="array.entries()"></a>array.entries()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toarr = arr.<span class="title function_">entries</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/** éå†æ•°ç»„é”®åå’Œé”®å€¼</span></span><br><span class="line"><span class="comment">     [ 0, &#x27;One&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 1, &#x27;Two&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 2, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 3, &#x27;Fire&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 4, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> keys <span class="keyword">of</span> toarr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(keys)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>é€šè¿‡ ECMAScript6 å‡½æ•°å¸¦æ¥äº†å¾ˆå¤šæ‰©å±•ä»¥åŠæ–°çš„ç‰¹æ€§ï¼Œè¿™å…¶ä¸­åŒ…æ‹¬äº†æ–°æ‰©å±•çš„ REST å‚æ•°ã€è§£æ„å‚æ•°ã€æ‰©å±•è¿ç®—ç¬¦ã€ç®­å¤´å‡½æ•°ç­‰ï¼Œä»¥åŠ NAME å±æ€§ã€‚</p>
<h3 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h3><p>ES6 å…è®¸ä½œä¸ºå‡½æ•°çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œç›´æ¥å†™æ‰å‚æ•°åé¢å³å¯ï¼Œè€Œåœ¨æ­¤ä¹‹å‰åˆ™éœ€è¦åŠ ä¸Šå‚æ•°çš„åˆ¤æ–­ä»¥åŠç©ºå­—ç¬¦çš„é—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">x,y = <span class="string">&#x27;world!&#x27;</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Hello world!</span></span><br><span class="line"><span class="comment">Hello ,world!</span></span><br><span class="line"><span class="comment">Hello </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>,<span class="string">&#x27;,world!&#x27;</span>)</span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>,<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>é™¤äº†ç®€ä»‹çš„å†™æ³•ï¼Œæˆ‘ä»¬è¿˜è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°ä¸­ç”Ÿå‘½çš„å‚æ•°å˜é‡ï¼Œéƒ½æ˜¯ <strong>é»˜è®¤å£°æ˜</strong> çš„ï¼Œå› æ­¤é€šè¿‡ <code>let/const</code> å†æ¬¡å£°æ˜å°±ä¼šå‡ºç°æŠ¥é”™çš„é—®é¢˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">err</span> (x = <span class="number">1</span>,y = <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">1</span>;  <span class="comment">// error</span></span><br><span class="line">    <span class="keyword">let</span> y = <span class="number">2</span>;  <span class="comment">// error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ<strong>åªæœ‰åœ¨ä¼ é€’å‚æ•°ä¸º <code>undefined</code> æ˜¯ï¼Œæ‰ä¼šä½¿ç”¨é»˜è®¤å‚æ•°</strong>ï¼Œè€Œ <strong>null</strong> ã€å’Œç©ºå­—ç¬¦å°†ä¼šè¢«è®¤ä¸ºæœ‰å€¼ä¼ é€’</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">na</span>(<span class="params">x,y = <span class="number">18</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x+<span class="string">&#x27;,&#x27;</span>,y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    User, null</span></span><br><span class="line"><span class="comment">    User,</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">na</span>(<span class="string">&#x27;User&#x27;</span>,<span class="literal">null</span>)</span><br><span class="line"><span class="title function_">na</span>(<span class="string">&#x27;User&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h4><p>è§£æ„èµ‹å€¼å¯ä»¥ä¸å‚æ•°é»˜è®¤å€¼ç»“åˆèµ·æ¥ä½¿ç”¨ï¼Œé€šè¿‡è§£æ„èµ‹å€¼å¯ä»¥å°†å€¼ä»å¯¹è±¡ä¸­å–å‡ºï¼Œèµ‹å€¼ç»™å…¶ä»–çš„å˜é‡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">na</span>(<span class="params">&#123;x,y = <span class="number">18</span>&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    undefined 18</span></span><br><span class="line"><span class="comment">    1 18</span></span><br><span class="line"><span class="comment">    1 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">na</span>(&#123;&#125;)</span><br><span class="line"><span class="title function_">na</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="title function_">na</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°çš„ code ä½¿ç”¨äº†å¯¹è±¡çš„è§£æ„è´Ÿå€¼çš„é»˜è®¤å€¼ï¼Œåªæœ‰å½“å‡½æ•° <code>na</code> çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå˜é‡ <code>x</code> å’Œ <code>y</code> æ‰ä¼šé€šè¿‡è§£æ„èµ‹å€¼ç”Ÿæˆã€‚</p>
<p>åœ¨ä¸‹è¿°çš„ code ä¸­ï¼Œä¸¤ç§å†™æ³•åˆ†åˆ«éƒ½å¯¹å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼è¿›è¡Œäº†è®¾å®šï¼Œ<code>one</code> çš„å‡½æ•°å‚æ•°é»˜è®¤å€¼æ˜¯ç©ºå¯¹è±¡ï¼Œä½†æ˜¯è®¾ç½®äº†å¯¹è±¡è§£æ„é»˜è®¤å€¼ã€‚è€Œ <code>two</code> åˆ™æ˜¯æœ‰ä¸€ä¸ªå…·ä½“çš„å±æ€§çš„å¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®å¯¹è±¡è§£æ„çš„é»˜è®¤å€¼ï¼Œå› æ­¤ä¸¤è€…åœ¨è¾“å‡ºæ—¶çš„å·®å¼‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">one</span>(<span class="params">&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([x,y])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">two</span>(<span class="params">&#123;x,y&#125; = &#123;x:<span class="number">0</span>, y:<span class="number">0</span>&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([x,y])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 0, 0 ]</span></span><br><span class="line"><span class="comment">    [ 0, 0 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>()</span><br><span class="line"><span class="title function_">two</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 1, 2 ]</span></span><br><span class="line"><span class="comment">    [ 1, 2 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>&#125;)</span><br><span class="line"><span class="title function_">two</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 1, 0 ]</span></span><br><span class="line"><span class="comment">    [ 1, undefined ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="title function_">two</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 0, 0 ]</span></span><br><span class="line"><span class="comment">    [ undefined, undefined ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>(&#123;&#125;)</span><br><span class="line"><span class="title function_">two</span>(&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="ä¸å®šå‚æ•°ï¼ˆå‰©ä½™å‚æ•°ï¼‰"><a href="#ä¸å®šå‚æ•°ï¼ˆå‰©ä½™å‚æ•°ï¼‰" class="headerlink" title="ä¸å®šå‚æ•°ï¼ˆå‰©ä½™å‚æ•°ï¼‰"></a>ä¸å®šå‚æ•°ï¼ˆå‰©ä½™å‚æ•°ï¼‰</h5><p>ä¸å®šå‚æ•°ä¹Ÿè¢«ç§°ä¹‹ä¸º â€å‰©ä½™å‚æ•°â€œï¼Œä»–ä¸»è¦ç”¨äºè¡¨ç¤ºä¸ç¡®å®šå‚æ•°çš„ä¸ªæ•°ï¼Œç”± <code>...å˜é‡å</code> è¿›è¡Œå®šä¹‰ï¼Œå…·åå‚æ•°åªèƒ½æ”¾åœ¨å‚æ•°ç»„çš„æœ€åï¼Œå¹¶ä¸”åªèƒ½æœ‰ä¸€ä¸ªä¸å®šå‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">...values</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(values.<span class="property">length</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="title function_">foo</span>(<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>,<span class="string">&#x27;fore&#x27;</span>,<span class="string">&#x27;fire&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="rest-at-arguments"><a href="#rest-at-arguments" class="headerlink" title="rest at arguments"></a>rest at arguments</h5><p>è¿™é‡Œçš„ rest å¹¶ä¸æ˜¯å·²ç»å£å£ç›¸ä¼ çš„ REST APIï¼Œè€Œæ˜¯ä¼‘æ­¢ç¬¦çš„æ„æ€ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">...values</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</span><br><span class="line">        sum += val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>æ­£å› ä¸ºé€šè¿‡ä¸å®šå‚æ•°çš„ä½œç”¨ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨å…¶å‘å‡½æ•°å†…ä¼ å…¥ä»»æ„æ•°å€¼å¹¶é€šè¿‡æ±‚å’Œå‡½æ•°è¿›è¡Œè®¡ç®—ï¼Œé€šè¿‡ä½¿ç”¨ rest çš„æ–¹æ³•å¯ä»¥ä»£æ›¿ <code>arguments</code> å˜é‡ï¼Œè€Œä»–ä¸»è¦æ˜¯ä¼ é€’å‡½æ•°çš„æ˜¯ç±»ä¼¼çš„æ•°ç»„å¯¹è±¡ï¼Œä½†é€šè¿‡ <code>Array.prototype.slice.call</code> å¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªçœŸæ­£çš„æ•°ç»„å¯¹è±¡ï¼Œ<strong>è¿™ä¹Ÿæ˜¯ä»–ä¸ rest çš„åŒºåˆ«ï¼Œ rest å‚æ•°å°±æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„æ‰€ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨</strong>ã€‚</p>
<h3 id="name-å±æ€§"><a href="#name-å±æ€§" class="headerlink" title="name å±æ€§"></a>name å±æ€§</h3><p>å‡½æ•°çš„ name å±æ€§ï¼Œæ˜¯åœ¨ ES6ã€ES5 ä¸­å¯ä»¥è·å–å’Œè°ƒç”¨å‡½æ•°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»–åœ¨ ES6 ä¸­çš„è¡¨ç°éå¸¸çš„æ–¹ä¾¿ä»¥åŠå¿«æ·ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// foo</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">name</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">of</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// of</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">of</span>.<span class="property">name</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å…·åå‡½æ•°èµ‹å€¼ç»™å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> te = <span class="keyword">function</span> <span class="title function_">st</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// st</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(te.<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p>ç®­å¤´å‡½æ•°ä¸»è¦ä½¿ç”¨åˆ°çš„è¿˜æ˜¯ä¸€äº›è¿ç®—ç¬¦è¡¨è¾¾å¼ä¸­çš„å‡ é¡¹ç»„æˆï¼Œåœ¨å‡½æ•°ä¸­ä½¿ç”¨è¿™äº›ç®­å¤´å‡½æ•°å¯ä»¥æ˜¾å¾—æ›´åŠ ç®€æ´çš„å‡½æ•°ä¹¦å†™æ–¹å¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span> + <span class="number">10</span>);</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line">fn.<span class="title function_">call</span>(&#123;a&#125;);</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç®­å¤´å‡½æ•°å†…æ˜¯ä¸ä¼šåŒ…å« <code>this</code> çš„ï¼Œå› æ­¤ä¸Šè¿°ç®­å¤´å‡½æ•°ä½“ä¸­çš„ this å¯¹è±¡æ˜¯å®šä¹‰å‡½æ•°æ—¶çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å‡½æ•°æ—¶çš„å¯¹è±¡ã€‚</p>
<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>é—­åŒ…ï¼ˆClosureï¼‰ç®€å•æ¥è¯´å°±æ˜¯èƒ½å¤Ÿè¯»å–å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œè¿™ä¸ªæ¦‚å¿µæœ€æ—©å‡ºç°åœ¨ 60 å¹´ä»£ï¼Œå…¶æœ€æ—©å®ç°é—­åŒ…çš„ç¨‹åºè¯­è¨€æ˜¯ Schemeï¼Œä¹‹åå¼€å§‹è¢«å¹¿æ³›çš„è¿ç”¨åœ¨äº†å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¹‹ä¸­ã€‚ç®€å•ç†è§£å°±æ˜¯ï¼Œå½“æ¯åˆ›å»ºä¸€ä¸ªå‡½æ•°æ—¶ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨ for å¾ªç¯å†…éƒ¨ä¸­å®šä¹‰äº†å†…éƒ¨å‡½æ•° iï¼Œå¹¶é€šè¿‡å†…éƒ¨å¾ªç¯æ•°ç»„ push x5</span></span><br><span class="line"><span class="comment"> * å› æ­¤å†…éƒ¨å‡½æ•°å¯ä»¥è·å–åˆ°æ¯æ¬¡å¾ªç¯çš„å€¼ï¼Œæ‰§è¡Œäº† close å‡½æ•°å¹¶æœ€åèµ‹</span></span><br><span class="line"><span class="comment"> * å€¼ç»™äº† testã€‚</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">[i:5]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> close = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> i * i;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = <span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼€å§‹é€šè¿‡ test æ¥è°ƒç”¨å‡½æ•°ï¼Œå¼€å§‹æ‰§è¡Œ close å†…çš„ for å¾ªç¯</span></span><br><span class="line"><span class="comment">    25</span></span><br><span class="line"><span class="comment">    25</span></span><br><span class="line"><span class="comment">    25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">0</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">0</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">0</span>]())</span><br></pre></td></tr></table></figure>

<p>ä¹‹åæˆ‘ä»¬æ¢ä¸€ä¸ªå†™æ³•ï¼Œå½“ for å¾ªç¯æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œi ä¼šä½œä¸ºå‚æ•°å®æ—¶ä¼ è¾“åˆ°å†…éƒ¨å‡½æ•°ä¸­ï¼ˆaï¼‰ï¼Œå› æ­¤è·å–çš„å®é™…ä¸Šæ˜¯æ•°ç»„ï¼Œè°ƒç”¨æ—¶é€šè¿‡ test æ¥è°ƒç”¨å‡½æ•°ï¼Œå¼€å§‹æ‰§è¡Œ close å†…çš„ for å¾ªç¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å½“ for å¾ªç¯æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œi ä¼šä½œä¸ºå‚æ•°å®æ—¶ä¼ è¾“åˆ°å†…éƒ¨å‡½æ•°ä¸­ï¼ˆaï¼‰ï¼Œå› æ­¤è·å–çš„å®é™…ä¸Šæ˜¯æ•°ç»„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">[ 0, 1, 4, 9, 16, 25, 36, 49, 64, 81 ]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> close = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> a * a;</span><br><span class="line">        &#125;(i))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = <span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼€å§‹é€šè¿‡ test æ¥è°ƒç”¨å‡½æ•°ï¼Œå¼€å§‹æ‰§è¡Œ close å†…çš„ for å¾ªç¯</span></span><br><span class="line"><span class="comment">    [ 0, 1, 4, 9, 16, 25, 36, 49, 64, 81 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test)</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šè¿°çš„ code ä¸­ï¼Œæˆ‘ä»¬å°†å¤–å±‚çš„åŒ¿åå‡½æ•°ï¼ˆcloseï¼‰çš„è¿”å›å€¼ä¹Ÿå˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶è®©å†…å±‚å‡½æ•°çš„è¿”å›å€¼æˆä¸ºäº†æˆ‘ä»¬éœ€è¦çš„ç»“æœï¼Œä½†æ˜¯ç”±äºå†…å±‚å‡½æ•°ä¿æŒç€å¯¹ <code>i</code> çš„å¼•ç”¨</p>
<p>è¿™ä¹Ÿå¯¼è‡´äº† <code>i</code> çš„å€¼åœ¨å†…å­˜ä¸­å¹¶æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œè¿™å°±è®©æˆ‘ä»¬ä¹‹åé€šè¿‡test æ¥è°ƒç”¨å‡½æ•°ï¼Œå¼€å§‹æ‰§è¡Œ close å†…çš„ for å¾ªç¯æ—¶ï¼Œä¹Ÿèƒ½è·å–åˆ° <code>i</code> çš„å€¼ã€‚</p>
<h3 id="let-at-var-å®ç°é—­åŒ…"><a href="#let-at-var-å®ç°é—­åŒ…" class="headerlink" title="let at var å®ç°é—­åŒ…"></a>let at var å®ç°é—­åŒ…</h3><p>åœ¨ MDN æ–‡æ¡£ä¸­ï¼Œå¯¹ var çš„æè¿°æ˜¯ï¼šâ€å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¹¶å¯é€‰çš„å°†å…¶åˆå§‹åŒ–ä¸ºä¸€ä¸ªå€¼â€œï¼Œè€Œåè€…åˆ™æ˜¯ï¼šâ€å£°æ˜ä¸€ä¸ªå—çº§ä½œç”¨åŸŸçš„æœ¬åœ°å˜é‡ã€è¯­å¥æˆ–è¡¨è¾¾å¼ï¼ŒåŒæ ·å¯ä»¥åˆå§‹åŒ–ä¸ºä¸€ä¸ªå€¼â€œ<br>ï¼Œä¸ var å£°æ˜è¯­å¥çš„åŒºåˆ«æ˜¯ï¼Œvar å£°æ˜çš„å˜é‡åªå¯ä»¥æ˜¯å…¨å±€æˆ–è€…æ˜¯æ•´ä¸ªå‡½æ•°å—çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> close = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> i*i;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = <span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨è¾“å‡ºæ—¶å°†ä¼šå°† const arr = [] å’Œ let i = 0 æ›¿æ¢ï¼Œä½†ç”±äº let å£°æ˜çš„å› ç´ ï¼ˆæœ¬åœ°å˜é‡ï¼‰</span></span><br><span class="line"><span class="comment"> * æ‰€ä»¥æ¯æ¬¡ for çš„å¾ªç¯éƒ½ä¼šå°†i ç›´æ¥å›ºå®šä¸‹æ¥è€Œä¸ä¼šå—åˆ°å¤–éƒ¨å½±å“ï¼Œå®ç°äº†é—­åŒ…çš„æ•ˆæœ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">1</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">1</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">1</span>]())</span><br></pre></td></tr></table></figure>

<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><h3 id="å±æ€§çš„ç®€å†™"><a href="#å±æ€§çš„ç®€å†™" class="headerlink" title="å±æ€§çš„ç®€å†™"></a>å±æ€§çš„ç®€å†™</h3><p>åŸºäº ES6 å±æ€§çš„æ‰©å±•ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å†™å…¥å˜é‡å’Œå‡½æ•°ï¼Œä½œä¸ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼ˆå±æ€§åå°±æ˜¯å˜é‡åï¼Œå±æ€§å€¼å°±æ˜¯å˜é‡å€¼ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="string">&#x27;bar&#x27;</span></span><br><span class="line"><span class="keyword">var</span> bar = &#123;foo&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; foo: &#x27;bar&#x27; &#125; åŒç­‰äº var bar = &#123;foo: foo&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar)</span><br></pre></td></tr></table></figure>

<h4 id="å‡½æ•°-1"><a href="#å‡½æ•°-1" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h4><p>è¿˜æœ‰ä¸€äº›æ¯”å¦‚æˆ‘ä»¬è®¤ä¸ºéå¸¸æ­£å¸¸çš„è¡¨è¾¾å¼ï¼Œä½†æ˜¯åœ¨ ES6 ä¹‹å‰æ˜¯éå¸¸ç¹ççš„ï¼Œæ¥å¯¹æ¯”ä¸‹ç®€å†™å’Œéç®€å†™ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 add</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;x,y&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; x: 1, y: 2 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">a</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// normal</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">b</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;<span class="attr">x</span>:x, <span class="attr">y</span>:y&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; x: 1, y: 2 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">b</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<h4 id="å‡½æ•°æ–¹æ³•"><a href="#å‡½æ•°æ–¹æ³•" class="headerlink" title="å‡½æ•°æ–¹æ³•"></a>å‡½æ•°æ–¹æ³•</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="title function_">method</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hey,world!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hey,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">method</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hey,world!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hey,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">method</span>())</span><br></pre></td></tr></table></figure>

<h4 id="å˜é‡å±æ€§ç®€å†™"><a href="#å˜é‡å±æ€§ç®€å†™" class="headerlink" title="å˜é‡å±æ€§ç®€å†™"></a>å˜é‡å±æ€§ç®€å†™</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;,world!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> toa = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="title function_">hey</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;info:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">name</span> + a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// info: hello,world!</span></span><br><span class="line">toa.<span class="title function_">hey</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;,world!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tob = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">hey</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;info:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">name</span> + b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// info: hello,world!</span></span><br><span class="line">tob.<span class="title function_">hey</span>()</span><br></pre></td></tr></table></figure>

<h5 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">    * <span class="title function_">myGenerator</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;One&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Two&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Three&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Four&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Five&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    One</span></span><br><span class="line"><span class="comment">    Two</span></span><br><span class="line"><span class="comment">    Three</span></span><br><span class="line"><span class="comment">    Four</span></span><br><span class="line"><span class="comment">    Five</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> echoa = a.<span class="title function_">myGenerator</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = &#123;</span><br><span class="line">    <span class="attr">myGenerators</span>: <span class="keyword">function</span> * () &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;One&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Two&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Three&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Four&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Five&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    One</span></span><br><span class="line"><span class="comment">    Two</span></span><br><span class="line"><span class="comment">    Three</span></span><br><span class="line"><span class="comment">    Four</span></span><br><span class="line"><span class="comment">    Five</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> echob = b.<span class="title function_">myGenerators</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§åè¡¨è¾¾å¼"><a href="#å±æ€§åè¡¨è¾¾å¼" class="headerlink" title="å±æ€§åè¡¨è¾¾å¼"></a>å±æ€§åè¡¨è¾¾å¼</h3><p>å±æ€§åè¡¨è¾¾å¼æ˜¯ JavaScript æ‰€å®šä¹‰çš„å±æ€§ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•è¿›è¡Œå®šä¹‰å…¶å±æ€§åï¼ˆä¹Ÿå°±æ˜¯å°†è¡¨è¾¾å¼æ”¾åœ¨ <code>[]</code> å†…ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">foo</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">boo</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; foo: true, boo: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bkey = <span class="string">&#x27;foo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = &#123;</span><br><span class="line">    [bkey]: <span class="literal">true</span>,</span><br><span class="line">    [<span class="string">&#x27;b&#x27;</span> + <span class="string">&#x27;oo&#x27;</span>]: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; foo: true, boo: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå±æ€§è¡¨è¾¾å¼ä¸å¯ä»¥è¢«ç®€å†™ï¼Œå¦åˆ™å°†ä¼šæŠ¥é”™ï¼Œè¿˜éœ€è¦ç•™æ„çš„æ˜¯ï¼Œå¦‚æœå±æ€§è¡¨è¾¾å¼æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå°†ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² <code>[object Object]</code> ï¼Œå¹¶åªæ˜¾ç¤ºæœ€åä¸€ä¸ªå±æ€§ï¼Œå› ä¸ºå‰å‡ ä¸ªéƒ½è¢« <code>KeyC</code> è¦†ç›–æ‰äº†</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> keyA = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> keyB = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">const</span> keyC = &#123;<span class="attr">b</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myObject = &#123;</span><br><span class="line">    [keyA]: <span class="string">&#x27;ValueOne&#x27;</span>,</span><br><span class="line">    [keyB]: <span class="string">&#x27;ValueTwo&#x27;</span>,</span><br><span class="line">    [keyC]: <span class="string">&#x27;ValueThree&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; &#x27;[object Object]&#x27;: &#x27;ValueThree&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myObject);</span><br></pre></td></tr></table></figure>

<h3 id="æ–¹æ³•çš„-name-å±æ€§"><a href="#æ–¹æ³•çš„-name-å±æ€§" class="headerlink" title="æ–¹æ³•çš„ name å±æ€§"></a>æ–¹æ³•çš„ name å±æ€§</h3><p>æ–¹æ³•çš„ name å±æ€§ï¼Œæ˜¯åœ¨ ES6ã€ES5 ä¸­å¯ä»¥è·å–å’Œè°ƒç”¨å‡½æ•°çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»–åœ¨ ES6 ä¸­çš„è¡¨ç°éå¸¸çš„æ–¹ä¾¿ä»¥åŠå¿«æ·ï¼Œä»–åŒæ ·è¿˜æä¾›äº†å‡½æ•°çš„ name å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> log = &#123;</span><br><span class="line">    <span class="title function_">myName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// myName</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(log.<span class="property">myName</span>.<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶è¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„æ–¹æ³• <code>bind()</code> ä½¿ç”¨æ­¤æ–¹æ³•çš„å‡½æ•°ï¼Œè¿”å›æ—¶å°†ä¼šè¿å¸¦ <code>bound + å‡½æ•°å</code> è¿›è¡Œè¾“å‡ºï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ <code>bind()</code> æ–¹æ³•æ˜¯å¯ä»¥å¯¹å…¶ç»‘å®šçš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> doSomething = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bound doSomething</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(doSomething.<span class="title function_">bind</span>().<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-at-name"><a href="#Symbol-at-name" class="headerlink" title="Symbol at name"></a>Symbol at name</h4><p>å¦‚æœå¯¹è±¡çš„æ–¹æ³•æ˜¯ä¸€ä¸ª <code>symbol</code> æ•°æ®ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆé€šè¿‡ <code>name</code> ä¹¦é¦™å°†è¿”å›çš„æ˜¯è¿™ä¸ªå±æ€§å€¼çš„æè¿°ï¼š</p>
<blockquote>
<figure class="highlight plaintext"><figcaption><span>æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ•°æ®ç±»å‹ï¼ˆPrimitive data typeï¼‰ï¼Œå…¶ä¸­æ¯ä¸ªå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤ä¸€ä¸ª symbol å€¼å¯ä»¥å…·æœ‰ä½œä¸ºå¯¹è±¡å±æ€§çš„æ ‡è¯†ç¬¦</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">const keyA = Symbol(&#x27;one&#x27;)</span><br><span class="line">const keyB = Symbol(&#x27;two&#x27;)</span><br><span class="line"></span><br><span class="line">let obj = &#123;</span><br><span class="line">   [keyA]()&#123;&#125;,</span><br><span class="line">   [keyB]()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">   [one]</span><br><span class="line">   [two]</span><br><span class="line">*/</span><br><span class="line">console.log(obj[keyA].name)</span><br><span class="line">console.log(obj[keyB].name)</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>å¯å‚è€ƒå…¶æ–‡æ¡£ï¼š <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/symbols.html">https://www.typescriptlang.org/docs/handbook/symbols.html</a></p>
</blockquote>
<h3 id="å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦"><a href="#å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦"></a>å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦</h3><h4 id="è§£æ„èµ‹å€¼-rest"><a href="#è§£æ„èµ‹å€¼-rest" class="headerlink" title="è§£æ„èµ‹å€¼ (rest)"></a>è§£æ„èµ‹å€¼ (rest)</h4><p>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦å°±æ˜¯å°†è§£æ„èµ‹å€¼ï¼ˆRESTï¼‰å’Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å¼•å…¥å¯¹è±¡ï¼Œè¿™ç§æ“ä½œåœ¨ Bable ç¼–è¯‘å™¨ä¸­å·²ç»æ”¯æŒè¿™é¡¹åŠŸèƒ½ã€‚</p>
<blockquote>
<p>Babel.js æ˜¯ä¸€ä¸ªç”¨äº Web å¼€å‘ï¼Œä¸”è‡ªç”±å¼€æºçš„ JavaScript ç¼–è¯‘å™¨ä»¥åŠè½¬è¯‘å™¨ã€‚</p>
</blockquote>
<p>å¯¹è±¡çš„è§£æ„èµ‹å€¼ä¸»è¦æ˜¯ç”¨äºä»å¯¹è±¡å†…è¿›è¡Œå–å€¼ï¼Œç”¨äºå°†æ‰€æœ‰å¯éå†ä½†å°šæœªå®Œå…¨è¯»å–çš„å±æ€§åˆ†é…åˆ°æŒ‡å®šçš„å¯¹è±¡ä¸Šï¼Œæ‰€æœ‰é”®å€¼å’Œä»–ä»¬çš„å€¼éƒ½ä¼šæ‹·è´åˆ°æ–°çš„å¯¹è±¡ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>  &#123;x, y, ...z&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>, <span class="attr">a</span>:<span class="number">3</span>, <span class="attr">b</span>:<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 3, b: 4 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z)</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºè§£æ„èµ‹å€¼æ˜¯ <code>z</code>,æ‰€ä»¥ä»–è·å–ç­‰å‰©ä½™çš„å°šæœªè¢«è¯»å–çš„å¯¹é”®ï¼Œå› æ­¤ä¼šå°†å‰©ä½™çš„é”®å…¨éƒ¨è¾“å‡ºï¼ˆå³: a at bï¼‰</p>
<blockquote>
<p>å› ä¸ºè§£æ„èµ‹å€¼çš„å†™æ³•ï¼Œæ‰€ä»¥è§£æ„å¤åˆ¶å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™å°†ä¼šå‡ºé”™ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:&#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;...x&#125; = obj</span><br><span class="line"></span><br><span class="line">obj.<span class="property">a</span>.<span class="property">b</span> = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x.<span class="property">a</span>.<span class="property">b</span>)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>x</code> æ˜¯è§£æ„èµ‹å€¼æ‰€åœ¨å¯¹è±¡ï¼Œå¼•ç”¨äº† <code>obj</code> å¯¹è±¡çš„ <code>a</code> å±æ€§ï¼Œè€Œ <code>a</code> å±æ€§åŒæ—¶å¼•ç”¨äº† <code>b</code> å±æ€§ï¼Œè€Œä¹‹åè¿˜å¼•ç”¨äº†  <code>obj.a.b</code> å±æ€§ï¼Œå› æ­¤è¿™ä¸ªå±æ€§å°†ä¼šå¯¹è§£æ„èµ‹å€¼äº§ç”Ÿå½±å“ã€‚</p>
<p>ä»è€Œå¯¼è‡´äº†æœ€åè¾“å‡ºæ—¶åŸæœ¬è¾“å‡ºç»“æœä¸º <code>1</code>ï¼Œç»è¿‡ä¸€ç³»åˆ—å¼•ç”¨è¾“å‡ºç»“æœè¢«å½±å“çš„é—®é¢˜ï¼Œæ‰€ä»¥è§£æ„èµ‹å€¼ä¸ä¼šæ‹·è´ç»§æ‰¿è‡ªåŸå‹å¯¹è±¡çš„å±æ€§ï¼ˆå³  objï¼‰</p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªæ›´ä¸ºç®€å•çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»è€Œé¿å…äº†è§£æ„èµ‹å€¼è¢«å½±å“çš„é—®é¢˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">let</span> keyB = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b3 = &#123;...keyB&#125;</span><br><span class="line"><span class="keyword">let</span> b4 = &#123;...keyA&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; b: 2 &#125; &#123; a: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b3,b4)</span><br></pre></td></tr></table></figure>

<p>å› ä¸º <code>b3\b4</code> éƒ½åªæ˜¯ <code>keyA\keyB</code> çš„å¼•ç”¨ï¼Œå› æ­¤ä¹Ÿåªæ˜¯èµ‹å€¼äº†è‡ªèº«çš„å±æ€§ï¼Œè¢«æ²¡æœ‰å¯ä»¥è¢«å…¶ä»–å‡½æ•°å½±å“çš„ä½™åœ°ã€‚</p>
<h4 id="æ‰©å±•è¿ç®—ç¬¦-â€¦"><a href="#æ‰©å±•è¿ç®—ç¬¦-â€¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦ (â€¦)"></a>æ‰©å±•è¿ç®—ç¬¦ (â€¦)</h4><h5 id="ä¸-Object-assign-æ–¹æ³•"><a href="#ä¸-Object-assign-æ–¹æ³•" class="headerlink" title="ä¸ Object.assign æ–¹æ³•"></a>ä¸ Object.assign æ–¹æ³•</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = &#123;<span class="attr">name</span>:<span class="string">&#x27;Aswl&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;19&#x27;</span>,<span class="attr">measurements</span>: <span class="string">&#x27;100&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let getB = &#123;...keyA&#125;</span></span><br><span class="line"><span class="keyword">let</span> getB = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;,keyA)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; name: &#x27;Aswl&#x27;, age: &#x27;19&#x27;, measurements: &#x27;100&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(getB)</span><br></pre></td></tr></table></figure>

<p>æ‰©å±•è¿ç®—ç¬¦çš„çš„ä½œç”¨ä¸ <code>Object.assign</code> æ–¹æ³•åŒç­‰ä½¿ç”¨ï¼Œä¸è¿‡æ‰©å±•è¿ç®—ç¬¦çš„ä½¿ç”¨è¾ƒä¸ºç®€å•å’Œä¾¿æ·ï¼Œä»–å¯ä»¥å®Œæˆ <code>Object.assign</code> æ–¹æ³•æ— æ³•å®Œæˆçš„åŠŸèƒ½</p>
<h5 id="åˆå¹¶å¯¹è±¡"><a href="#åˆå¹¶å¯¹è±¡" class="headerlink" title="åˆå¹¶å¯¹è±¡"></a>åˆå¹¶å¯¹è±¡</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = &#123;<span class="attr">name</span>:<span class="string">&#x27;Aswl&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;19&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">let</span> keyB = &#123;<span class="attr">measurements</span>: <span class="string">&#x27;100&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let getB = &#123;...keyA&#125;</span></span><br><span class="line"><span class="keyword">let</span> getB = &#123;...keyA, ...keyB&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; name: &#x27;Aswl&#x27;, age: &#x27;19&#x27;, measurements: &#x27;100&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(getB)</span><br></pre></td></tr></table></figure>

<h3 id="ES6-å¯¹è±¡æ–°æ–¹æ³•"><a href="#ES6-å¯¹è±¡æ–°æ–¹æ³•" class="headerlink" title="ES6 å¯¹è±¡æ–°æ–¹æ³•"></a>ES6 å¯¹è±¡æ–°æ–¹æ³•</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>Object.is()</code></td>
<td>ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡å€¼æ˜¯å¦ä¸€æ ·ï¼ŒåŒç­‰äº <code>===</code></td>
</tr>
<tr>
<td>2</td>
<td><code>Object.assign()</code></td>
<td>å°†ç›®æ ‡å¯¹è±¡ä¸€ä¸ªæˆ–å¤šä¸ªåˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œå› æ­¤ä»–ä¹Ÿæœ‰åˆå¹¶å¯¹è±¡çš„ä½œç”¨</td>
</tr>
<tr>
<td>3</td>
<td><code>Object.key()</code></td>
<td>è¿”å›å¯¹è±¡çš„é”®å</td>
</tr>
<tr>
<td>4</td>
<td><code>Object.values()</code></td>
<td>è¿”å›å¯¹è±¡çš„å€¼</td>
</tr>
<tr>
<td>5</td>
<td><code>Object.entries()</code></td>
<td>ç”¨äºè¿”å›å¯¹è±¡</td>
</tr>
<tr>
<td>6</td>
<td><code>Object.setPrototypeOf()</code></td>
<td>å°†æŒ‡å®šä¸€ä¸ªå¯¹è±¡åˆ°å¦ä¸€ä¸ªåŸŸï¼Œä¹Ÿå°±æ˜¯è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„ prototype</td>
</tr>
<tr>
<td>7</td>
<td><code>Object.getPrototype()</code></td>
<td>ç”¨äºè¯»å–å’Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„ prototype</td>
</tr>
<tr>
<td>8</td>
<td><code>Object.create</code></td>
<td>ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡ä½¿å¾—æ›´ç¬¦åˆ prototype</td>
</tr>
</tbody></table>
<h4 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is"></a>Object.is</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = <span class="string">&#x27;10&#x27;</span></span><br><span class="line"><span class="keyword">let</span> keyB = <span class="string">&#x27;10&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(keyA,keyB));</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ ES6 æ‰€æå‡ºçš„åŒå€¼ç›¸ç­‰ï¼ˆSame-Value Equalityï¼‰ç®—æ³•æ¥è§£å†³ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦å°±åŸºæœ¬è¡Œä¸ºä¸€è‡´ï¼Œä»è€Œäº§å‡ºäº† <code>Object.is</code> æ–¹æ³•ï¼Œä»–ä¸ç»å¯¹è¿ç®—ç¬¦æ›´è®©äººå®¹æ˜“ç†è§£ï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">keyC</span> () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NaN</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> keyA = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> keyB = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+<span class="number">0</span> === -<span class="number">0</span>)</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(keyC === keyB)</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>,-<span class="number">0</span>))</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(keyC,keyC))</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»å¯¹è¿ç®—ç¬¦ä¸­ï¼Œ<code>+0</code> å’Œ <code>-0</code> è¢«è®¤ä¸ºæ˜¯ä¸€æ ·çš„ï¼Œè€Œåœ¨æ­¤ ES6 æ–°æå‡ºçš„ç®—æ³•æ—¶å°†ä¸ä¼šè¢«è®¤ä¸ºè¿™æ˜¯ç­‰åŒçš„ï¼Œå³ falseã€‚</p>
<p>è€ŒåŒæ ·çš„è¿˜æœ‰ <code>Nan</code> ä»¥åŠ <code>Null</code> åœ¨ç»å¯¹è¿ç®—ç¬¦ä¸­è¢«è®¤ä¸ºæ˜¯ä¸ç­‰åŒçš„ï¼Œè€Œåœ¨ Same-Value Equality ç®—æ³•ä¸‹ä¸­æ˜¯ç­‰åŒçš„ã€‚</p>
<h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> target = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_1 = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_2 = &#123;<span class="attr">c</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target,source_1,source_2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span><br></pre></td></tr></table></figure>

<p>è™½ç„¶ä»–å…·æœ‰åˆå¹¶å¯¹è±¡çš„ä½œç”¨ï¼Œä½†è¿˜æ˜¯éœ€è¦æ³¨æ„ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡ä¹‹é—´æœ‰åŒåçš„å±æ€§ï¼Œé‚£ä¹ˆåé¢çš„å±æ€§å°±ä¼šè¢«è¦†ç›–ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> target = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_1 = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_2 = &#123;<span class="attr">b</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target,source_1,source_2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 1, b: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span><br></pre></td></tr></table></figure>

<p>é™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦æ³¨æ„ï¼Œå¦‚æœ <code>Object.assion</code> çš„å‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆä»–ä¹Ÿä¼šç›´æ¥è¿”å›è¯¥å‚æ•°ã€‚</p>
<p>ä½†å¦‚æœå¯¹è±¡å¦‚æœæ˜¯ <code>undefined</code> å’Œ <code>null</code>ï¼Œå› ä¸ºä»–ä»¬æ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœå°†ä»–ä»¬æ”¾ç½®åœ¨ <code>source</code> å‚æ•°ä¸­ï¼Œå½“å‘ç°æ— æ³•è½¬æ¢ä¸ºå¯¹è±¡æ—¶ï¼Œå°±ä¼šè¢«è·³è¿‡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> target = &#123;<span class="attr">a</span>:<span class="literal">undefined</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_1 = &#123;<span class="attr">b</span>:<span class="literal">null</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_2 = &#123;<span class="attr">b</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target,source_1,source_2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: undefined, b: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span><br></pre></td></tr></table></figure>

<h5 id="å¤åˆ¶ä¸æ‹·è´"><a href="#å¤åˆ¶ä¸æ‹·è´" class="headerlink" title="å¤åˆ¶ä¸æ‹·è´"></a>å¤åˆ¶ä¸æ‹·è´</h5><p>è‡³äºå…¶ä»–çš„å€¼ï¼Œå¦‚æœä¸åœ¨é¦–å‚æ•°ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«æŠ¥é”™ä¹‹ç±»çš„ï¼Œé™¤äº†å­—ç¬¦ä¸²ä¼šä»¥æ•°ç»„çš„å½¢å¼æ‹·è´åˆ°ç›®æ ‡å¯¹è±¡å¤–ï¼Œå…¶ä»–çš„éƒ½ä¸ä¼šäº§ç”Ÿæ•ˆæœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, source)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé™¤äº†æ•°å€¼å’Œä¹‹å‰çš„å¸ƒå°”å€¼ä»¥åŠæ•°å€¼ä¼šåˆå¹¶åˆ°å¯¹è±¡ä¸­ï¼Œè€Œå­—ç¬¦ä¸²å°†ä¼šäº§ç”ŸåŒ…è£…çš„ç°è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [Boolean: true] [Number: 123] [String: &#x27;abc&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>(<span class="literal">true</span>), <span class="title class_">Object</span>(<span class="number">123</span>),<span class="title class_">Object</span>(<span class="string">&#x27;abc&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>å› æ­¤å¸ƒå°”å€¼ã€æ•°å€¼ã€å­—ç¬¦ä¸²çš„ç±»å‹åˆ†åˆ«ä¼šè½¬æˆåŒ…è£…å¯¹è±¡è¿›è¡Œè¾“å‡ºï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ä»–ä»¬çš„åŸå§‹å€¼ç±»å‹ï¼Œè¿™äº›å±æ€§æ˜¯ä¸ä¼šè¢« <code>Object.assign</code> æ‹·è´çš„ï¼Œå› ä¸ºä»–æ‹·è´çš„æ˜¯å¯æšä¸¾å±æ€§å€¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;<span class="attr">b</span>:<span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;, <span class="string">&#x27;invisible&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">enumerable</span>:<span class="literal">false</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;hey&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; b: &#x27;c&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç ä¸­å› ä¸º <code>inisible</code> å¹¶ä¸æ˜¯å¯æšä¸¾ç±»å‹çš„ï¼Œ å› æ­¤ä»–æ²¡æœ‰è¢« <code>assign</code> æ‹·è´è¿›å»ã€‚</p>
<h5 id="æµ…æ‹·è´ä¸æ·±æ‹·è´"><a href="#æµ…æ‹·è´ä¸æ·±æ‹·è´" class="headerlink" title="æµ…æ‹·è´ä¸æ·±æ‹·è´"></a>æµ…æ‹·è´ä¸æ·±æ‹·è´</h5><p>æµ…æ‹·è´ä¸æ²ˆæ‹·è´çš„é—®é¢˜åœ¨äºï¼Œ<code>Object.assign</code> æ–¹æ³•æ‰€å®ç°çš„æ˜¯æµ…æ‹·è´ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœ source æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¹Ÿä¼šå¾—åˆ°è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;</span><br><span class="line"><span class="keyword">var</span> get = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, source)</span><br><span class="line"></span><br><span class="line">source.<span class="property">a</span>.<span class="property">b</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: &#123; b: 10 &#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(get)</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæºå¯¹è±¡çš„ <code>a</code> å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æ‹·è´å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œå› æ­¤åœ¨è¾“å‡ºçš„æ—¶å€™ä¼šè¢«å½±å“ï¼Œå¯¹äºè¿™ç§æ–¹æ³•ï¼Œ<strong>ä¸€æ—¦é‡åˆ°äº†åŒåçš„å±æ€§ï¼Œå°†ä¼šç›´æ¥æ›¿æ¢ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;</span><br><span class="line"><span class="keyword">var</span> sources = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="string">&#x27;hey&#x27;</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> get = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, source,sources)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: &#123; b: &#x27;hey&#x27; &#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(get)</span><br></pre></td></tr></table></figure>


<p>åœ¨ä¸Šè¿°çš„ code ä¸­ï¼Œå› ä¸º <code>source</code> çš„ <code>a</code> å±æ€§è¢« <code>sources</code> å†…çš„ <code>a</code> ç»™æ›¿æ¢äº†ï¼Œå› æ­¤å°±ä¼šå¾—åˆ° <code> a: &#123; b: &#39;hey&#39; &#125; &#125;</code> çš„ç»“æœã€‚</p>
<h5 id="å¯¹æ•°ç»„çš„å¤„ç†"><a href="#å¯¹æ•°ç»„çš„å¤„ç†" class="headerlink" title="å¯¹æ•°ç»„çš„å¤„ç†"></a>å¯¹æ•°ç»„çš„å¤„ç†</h5><p>é™¤äº†å¯¹å¯¹è±¡çš„ä½¿ç”¨ï¼Œ<code>Object.assign</code> è¿˜å¯ä»¥å¤„ç†å¯¹è±¡ï¼Œä½†æ˜¯ä¼šæŠŠæ•°ç»„è§†ä¸ºå¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ 4, 5, 3 ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">assign</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>]))</span><br></pre></td></tr></table></figure>

<p>å› ä¸º <code>Object.assign</code> å°† <code>0ã€1ã€2</code> è§†ä¸ºå¯¹è±¡ï¼Œé‚£ä¹ˆåªå¥½è¾“å‡º <code>target</code> éƒ¨åˆ†çš„æœ€åä¸€ä¸ªæ•°ç»„ï¼Œä»¥åŠåœ¨ <code>source</code> ä½çš„ 4,5ï¼Œå› æ­¤ target æ•°ç»„çš„ 0 å·å±æ€§è¦†ç›–äº†å±æ€§ <code>4</code> çš„å±æ€§ï¼Œæ‰€ä»¥ä¸º <code>[4, 5, 3]</code>ã€‚</p>
<h4 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h4><p>ç”¨äºéå†å¯¹è±¡ï¼Œå¹¶è¿”å›å¯¹è±¡çš„é”®åï¼Œä½†åœ¨ ES7 çš„æ–°ææ¡ˆä¸­ï¼Œæå‡ºäº†ä¸€ç§é…å¥—çš„æ–¹æ³• <code>Object.keys()ã€Object.value()ã€Object.entries</code> ï¼Œè€ŒåŸç†éƒ½æ˜¯å¾ªç¯éå†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;keys, values, entries&#125; = <span class="title class_">Object</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">oneKey</span>:<span class="string">&quot;oneValue&quot;</span>, <span class="attr">twoKey</span>:<span class="string">&quot;twoValue&quot;</span>, <span class="attr">threeKey</span>:<span class="string">&quot;threeValue&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    oneKey</span></span><br><span class="line"><span class="comment">    twoKey</span></span><br><span class="line"><span class="comment">    threeKey</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title function_">keys</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    oneValue</span></span><br><span class="line"><span class="comment">    twoValue</span></span><br><span class="line"><span class="comment">    threeValue</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="title function_">values</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ &#x27;oneKey&#x27;, &#x27;oneValue&#x27; ]</span></span><br><span class="line"><span class="comment">    [ &#x27;twoKey&#x27;, &#x27;twoValue&#x27; ]</span></span><br><span class="line"><span class="comment">    [ &#x27;threeKey&#x27;, &#x27;threeValue&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="title function_">entries</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([key, value]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯¹äº ES7æ–°çš„ææ¡ˆä¸­ï¼Œå°±æ˜¾å¾—éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦ä¸€ä¸ªæ–¹æ³•å°±èƒ½å®ç°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Value&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;key&#x27;, &#x27;keys&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj))</span><br></pre></td></tr></table></figure>

<h4 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Value&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Value&#x27;, &#x27;Values&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(obj))</span><br></pre></td></tr></table></figure>

<p>æ­¤æ–¹æ³•åªå¯ä»¥è¿”å›å¯¹è±¡æœ¬èº«å¯ä»¥éå†å¯¹è±¡ï¼Œå¦‚æœé‡åˆ°æ•°ç»„çš„è¿”å›ï¼Œé‚£ä¹ˆè¿”å›çš„å½¢å¼åŒæ ·è¢«æ‰“ä¹±ï¼Œç´¢å¼•ä¸º 0 çš„æ•°å°†ä¼šè¢«æ”¾åˆ°æœ€åä¸€ä¸ªè¾“å‡ºï¼Œè€Œå…¶ä»–çš„ç´¢å¼•åˆ™æ­£å¸¸ï¼š</p>
<h4 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ &#x27;key&#x27;, &#x27;Values&#x27; ], [ &#x27;keys&#x27;, &#x27;Values&#x27; ] ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¯¹è±¡çš„å±æ€§æ˜¯ <code>Symbol</code> å€¼çš„è¯ï¼Œé‚£ä¹ˆè¯¥å±æ€§å°±ä¼šé€‰æ‹©å¿½ç•¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>, [<span class="title class_">Symbol</span>()]: <span class="string">&quot;null&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ &#x27;key&#x27;, &#x27;Values&#x27; ], [ &#x27;keys&#x27;, &#x27;Values&#x27; ] ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥è¿™ä¸ªå±æ€§è¿˜è¡ç”Ÿå‡ºäº†ä¸€ç§å¯ä»¥è¾“å‡º <code>Symbol</code> å±æ€§çš„ <code>Reflect.ownEntries()</code> æ–¹æ³•ï¼Œè¿”å›å¯¹è±¡è‡ªèº«çš„å±æ€§ã€‚è€ŒåŒæ—¶ <code>Object.entries()</code> çš„ä¸»è¦ä½œç”¨å°±æ˜¯è¿”å›å¯¹è±¡çš„å±æ€§ï¼ˆå•ä¸ªï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>, [<span class="title class_">Symbol</span>()]: <span class="string">&quot;null&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    key:Values</span></span><br><span class="line"><span class="comment">    keys:Values</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>:<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä½ è¿˜å¯ä»¥æ­é… <code>$&#123;JSON.stringify()&#125;</code> çš„é…åˆè®©å¯¹è±¡è¾“å‡ºä¸º JSON æ ¼å¼çš„æ•°æ®ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ä»–è¿˜å¯ä»¥é€šè¿‡é…åˆ <code>Map</code> æ–¹æ³•æ¥å®ç°ä¸€ä¸ªçœŸæ­£çš„ Map æ•°æ®ç»“æ„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>, [<span class="title class_">Symbol</span>()]: <span class="string">&quot;null&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Map &#123; &#x27;key&#x27; =&gt; &#x27;Values&#x27;, &#x27;keys&#x27; =&gt; &#x27;Values&#x27; &#125;</span></span><br><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ &#x27;key&#x27;, &#x27;Values&#x27; ], [ &#x27;keys&#x27;, &#x27;Values&#x27; ] ]</span></span><br><span class="line"><span class="comment">// console.log(Object.entries(obj))</span></span><br></pre></td></tr></table></figure>


<h4 id="Object-setPrototypeOf-at-Object-getPrototypeOf-and-prototype"><a href="#Object-setPrototypeOf-at-Object-getPrototypeOf-and-prototype" class="headerlink" title="Object.setPrototypeOf() at Object.getPrototypeOf and prototype"></a>Object.setPrototypeOf() at Object.getPrototypeOf and prototype</h4><figure class="highlight plaintext"><figcaption><span>ä¸ ```Object.getPrototypeOf``` ä»¥åŠ ```Object.create()```ä¸‰ä¸ªå¯¹è±¡æ˜¯æ¥è‡ª ```__proto___``` å±æ€§ï¼Œå¾ˆæ˜æ˜¾æ˜¯è¿™ä¸ªå±æ€§çš„ä»£æ›¿ï¼Œåˆ†åˆ«å†™æ“ä½œå’Œè¯»æ“ä½œ</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è¯¥å±æ€§æ˜¯ä¸€ä¸ªå†…ç½®çš„å±æ€§ï¼Œä½†ç”±äº ES6 æ ‡å‡†æ˜æ–‡è§„å®šå¿…é¡»éƒ¨ç½²è¿™ä¸ªå±æ€§ï¼Œå¯¼è‡´ä»–æ‰åŠ å…¥äº† ES6 ï¼š</span><br><span class="line"></span><br><span class="line">&gt; åœ¨ ECMAScript 2015ï¼ˆES6ï¼‰çš„è§„èŒƒè¦æ±‚ä¸­ï¼Œæ”¯æŒ__proto__ æ˜¯å„å¤§Webæµè§ˆå™¨å‚å•†çš„è¦æ±‚ï¼ˆè™½ç„¶ç¬¦åˆè§„èŒƒï¼‰ï¼Œä½†å…¶ä»–ç¯å¢ƒä¸‹å› ä¸ºå†å²é—ç•™çš„é—®é¢˜ï¼Œä¹Ÿæœ‰å¯èƒ½è¢«ä½¿ç”¨å’Œæ”¯æŒã€‚</span><br><span class="line"></span><br><span class="line">åŒæ—¶ MDN ä¹Ÿå»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼šâ€è¯¥ç‰¹æ€§å·²ç»ä» Web æ ‡å‡†ä¸­åˆ é™¤ï¼Œè™½ç„¶ä¸€äº›æµè§ˆå™¨ç›®å‰ä»ç„¶æ”¯æŒå®ƒï¼Œä½†ä¹Ÿè®¸ä¼šåœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´åœæ­¢æ”¯æŒï¼Œè¯·å°½é‡ä¸è¦ä½¿ç”¨è¯¥ç‰¹æ€§ã€‚â€œ</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥åœ¨è¿™ä¸ªç¯å¢ƒä¸‹ï¼Œ```Objcet.setPrototypeOf()``` ä¸ ```Object.getPrototypeOf``` ä»¥åŠ ```Object.create()```ä¸‰ä¸ªå¯¹è±¡å°±å‡ºç°äº†ï¼Œä»è€Œä»£æ›¿äº† ````__proto__``` å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">##### prototype</span><br><span class="line">Prototype æŒ‡çš„æ˜¯ â€ç»§æ‰¿ä¸åŸå‹é“¾â€œï¼Œæ ¹æ® MDN çš„æè¿°ä¹Ÿéå¸¸ç®€å•ç²—æš´ç›´æ¥ç‚¹åé‡ç‚¹ï¼š</span><br><span class="line"></span><br><span class="line">&gt; å¯¹äºä½¿ç”¨è¿‡åŸºäºç±»çš„è¯­è¨€ (å¦‚ Java æˆ– C++) çš„å¼€å‘è€…ä»¬æ¥è¯´ï¼ŒJavaScript å®åœ¨æ˜¯æœ‰äº›ä»¤äººå›°æƒ‘ â€”â€” JavaScript æ˜¯åŠ¨æ€çš„ï¼Œæœ¬èº«ä¸æä¾›ä¸€ä¸ª class çš„å®ç°ã€‚å³ä¾¿æ˜¯åœ¨ ES2015/ES6 ä¸­å¼•å…¥äº† class å…³é”®å­—ï¼Œä½†é‚£ä¹Ÿåªæ˜¯è¯­æ³•ç³–ï¼ŒJavaScript ä»ç„¶æ˜¯åŸºäºåŸå‹çš„ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; å½“è°ˆåˆ°ç»§æ‰¿æ—¶ï¼ŒJavaScript åªæœ‰ä¸€ç§ç»“æ„ï¼šå¯¹è±¡ã€‚æ¯ä¸ªå®ä¾‹å¯¹è±¡ï¼ˆobjectï¼‰éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ï¼ˆç§°ä¹‹ä¸º __proto__ ï¼‰æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ã€‚è¯¥åŸå‹å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ªè‡ªå·±çš„åŸå‹å¯¹è±¡ï¼ˆ__proto__ï¼‰ï¼Œå±‚å±‚å‘ä¸Šç›´åˆ°ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸º nullã€‚æ ¹æ®å®šä¹‰ï¼Œnull æ²¡æœ‰åŸå‹ï¼Œå¹¶ä½œä¸ºè¿™ä¸ªåŸå‹é“¾ä¸­çš„æœ€åä¸€ä¸ªç¯èŠ‚ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; å‡ ä¹æ‰€æœ‰ JavaScript ä¸­çš„å¯¹è±¡éƒ½æ˜¯ä½äºåŸå‹é“¾é¡¶ç«¯çš„ Object çš„å®ä¾‹ã€‚</span><br><span class="line">&gt;</span><br><span class="line">&gt; https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</span><br><span class="line"></span><br><span class="line">å¦‚æœä½ äº†è§£äº†è¿™ç¯‡æ–‡ç« ï¼Œé‚£ä¹ˆ ```setPrototypeOf``` å’Œ ```getPrototypeOf``` éƒ½ä¼šçŸ¥é“ä»–ä»¬æ˜¯å¹²å˜›çš„ã€‚</span><br><span class="line"></span><br><span class="line">###### Object.setPrototypeOf()</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">let proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">let obj = &#123;x:10&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">    &#123; x: 10 &#125;</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line">    10</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line"> */</span><br><span class="line">console.log(Object.setPrototypeOf(obj,proto));</span><br><span class="line"></span><br><span class="line">console.log(proto.y = 20)</span><br><span class="line">console.log(proto.z = 40)</span><br><span class="line"></span><br><span class="line">// å› ä¸º Object.setPrototypeOf å°† proto å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸º obj æ‰€ä»¥å¯ä»¥è¯»å–</span><br><span class="line">console.log(obj.x)</span><br><span class="line">console.log(obj.y)</span><br><span class="line">console.log(obj.z)</span><br></pre></td></tr></table></figure>

<p>æ­£å› ä¸º Object.setPrototypeOf æ–¹æ³•å°†æŒ‡å®šä¸€ä¸ªå¯¹è±¡ï¼ˆ<code>proto</code>ï¼‰åˆ°å¦ä¸€ä¸ªåŸŸï¼ˆ<code>obj</code>ï¼‰ æ‰€ä»¥å¯ä»¥è¯»å–ã€‚</p>
<h6 id="Object-getPrototype-and-Object-create"><a href="#Object-getPrototype-and-Object-create" class="headerlink" title="Object.getPrototype() and Object.create"></a>Object.getPrototype() and Object.create</h6><figure class="highlight plaintext"><figcaption><span>å±æ€§ç”¨äºè¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯ä¾èµ–çš„å‡½æ•°ï¼š</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">let proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">let obj = &#123;x:10&#125;</span><br><span class="line">/*</span><br><span class="line">    &#123; x: 10 &#125;</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line">    10</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line"> */</span><br><span class="line">console.log(Object.setPrototypeOf(obj,proto));</span><br><span class="line"></span><br><span class="line">console.log(proto.y = 20)</span><br><span class="line">console.log(proto.z = 40)</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">console.log(obj.x)</span><br><span class="line">console.log(obj.y)</span><br><span class="line">console.log(obj.z)</span><br><span class="line"></span><br><span class="line">var let = &#x27;10&#x27;;</span><br><span class="line"></span><br><span class="line">// true</span><br><span class="line">console.log(Object.getPrototypeOf(obj) === proto)</span><br><span class="line"></span><br><span class="line">// false</span><br><span class="line">console.log(Object.getPrototypeOf(let) === proto)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä½ è¿˜å¯ä»¥ä½¿ç”¨æ›´åŠ æ ‡å‡†çš„æ–¹å¼ï¼Œé€šè¿‡ <code>Object.create()</code> çš„æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå®Œç¾ç¬¦åˆäº† MDN  åœ¨ Prototype ä¸Šæ‰€è¯´çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> getS = &#123;<span class="attr">x</span>:<span class="number">10</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°æ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(getS)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    &#123; x: 10 &#125;</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment">    10</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment">    false</span></span><br><span class="line"><span class="comment">    true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(getS,proto));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">y</span> = <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">z</span> = <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">y</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">z</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">let</span> = <span class="string">&#x27;10&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj) === proto)</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(getS) === proto)</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œ<code>get.PrototypeOf</code> è¿˜å¯ä»¥è¯»å– prototype å¯¹è±¡çš„å±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> getS = &#123;<span class="attr">x</span>:<span class="number">10</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°æ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(getS)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    &#123; x: 10 &#125;</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment">    10</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(obj,proto));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">y</span> = <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">z</span> = <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">y</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">z</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">let</span> = <span class="string">&#x27;10&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; y: 20, z: 40 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj))</span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§çš„å¯æšä¸¾æ€§ï¼ˆgetOwnPropertyDescriptorï¼‰"><a href="#å±æ€§çš„å¯æšä¸¾æ€§ï¼ˆgetOwnPropertyDescriptorï¼‰" class="headerlink" title="å±æ€§çš„å¯æšä¸¾æ€§ï¼ˆgetOwnPropertyDescriptorï¼‰"></a>å±æ€§çš„å¯æšä¸¾æ€§ï¼ˆgetOwnPropertyDescriptorï¼‰</h3><p>åœ¨ ES6 ä¸­ï¼Œæ¯ä¸ªå±æ€§éƒ½ä¼šæœ‰è‡ªå·±çš„ä¸€ä¸ªæè¿°å¯¹è±¡ï¼ˆDescriptorï¼‰ç”¨äºæ§åˆ¶è¯¥å±æ€§çš„è¡Œä¸ºï¼Œé‚£ä¹ˆé€šè¿‡ <code>Object.getOwnPropertyDescriptor</code> å°±å¯ä»¥è·å–å¯¹è±¡çš„æè¿°å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">foo</span>: <span class="number">1234</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    value: 1234,        å€¼</span></span><br><span class="line"><span class="comment">    writable: true,     å¯å†™</span></span><br><span class="line"><span class="comment">    enumerable: true,   å¯æšä¸¾</span></span><br><span class="line"><span class="comment">    configurable: true  å¯é…ç½®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(obj,<span class="string">&#x27;foo&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123; value: &#x27;hey&#x27;,</span></span><br><span class="line"><span class="comment">  writable: false,</span></span><br><span class="line"><span class="comment">  enumerable: false,</span></span><br><span class="line"><span class="comment">  configurable: false &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">tes = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> sets = <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(tes,<span class="string">&quot;inisible&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;hey&#x27;</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(sets,<span class="string">&#x27;inisible&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>åœ¨ ES5 ä¸­ï¼Œå½“ enumerable ä¸º false çš„å±æ€§ä¼šè¢«å¿½ç•¥ï¼Œå…¶ä¸­ä¸»è¦æœ‰ ï¼š</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>for...in</code></td>
<td>åªå¾ªç¯éå†è‡ªèº«å¯¹è±¡å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§</td>
</tr>
<tr>
<td>2</td>
<td><code>Object.key</code></td>
<td>è¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§é”®å</td>
</tr>
<tr>
<td>3</td>
<td><code>JSON.stringify()</code></td>
<td>åªä¸²åŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§</td>
</tr>
<tr>
<td>4</td>
<td><code>Object.assign()</code></td>
<td>å¿½ç•¥è‡ªèº«ä¸º <code>enumerable</code> çš„å±æ€§</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">foo</span>: <span class="number">1234</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(obj,<span class="string">&#x27;foo&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sets = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;<span class="attr">b</span>:<span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;,<span class="string">&#x27;inisible&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">enumerable</span>:<span class="literal">false</span>,</span><br><span class="line">        <span class="attr">value</span>:<span class="string">&#x27;hey&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(sets,<span class="string">&#x27;inisible&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><p>åœ¨ Node.js ä¸­ï¼Œç±»æ˜¯ä¸€ä¸ªå‡½æ•°çš„é›†åˆä½“ä»¥åŠæˆå‘˜å˜é‡ï¼Œä½†æ˜¯ä»–ä¾ç„¶è¢«è®¤ä¸ºç§°ä¹‹ä¸ºï¼šâ€œç±»ï¼ˆ<code>class</code>ï¼‰â€ è¯­æ³•ç³–ï¼Œä»–æœ¬è´¨ä¸Šè®©å¯¹è±¡æ›´åŠ æ¸…æ™°ã€‚</p>
<h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>è¿™æ˜¯ä¸€ä¸ª ES6 ä¸­çš„è¯­æ³•ç³–ï¼Œ<code>class</code> å°†ä¼šä½œä¸ºå¯¹è±¡æ¨¡æ¿è¢«å¼•å…¥ï¼Œé€šè¿‡è¯¥å…³é”®å­—å¯ä»¥å®šä¹‰ç±»ï¼Œè€Œä»–çš„æœ¬è´¨å°±æ˜¯ <code>function</code> ï¼Œåªä¸è¿‡ä»–å¯ä»¥è®©å¯¹è±¡çš„åŸå‹æ›´åŠ æ¸…æ™°ï¼Œæ›´åƒé¢å‘å¯¹è±¡çš„è¯­æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">let</span> example = <span class="keyword">class</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">area</span> = x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title function_">example</span>(<span class="number">1</span>,<span class="number">2</span>).<span class="property">area</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">exmapleName</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">area</span> = x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title function_">exmapleName</span>(<span class="number">1</span>,<span class="number">2</span>).<span class="property">area</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ç¤ºä¾‹ä¸­ä¸»è¦åˆ†ä¸ºåŒ¿åå‡½æ•°å’Œå‘½åå‡½æ•°ï¼Œä»–ä»¬éƒ½å®ç°äº†åŒæ ·çš„æ•ˆæœå’ŒåŠŸèƒ½ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>ä¸å¯ä»¥é‡å¤å£°æ˜åŒä¸€ä¸ªç±»</strong>ï¼Œå¦‚æœå£°æ˜å°†ä¼šæŠ›å‡ºå¼‚å¸¸ä¿¡æ¯ã€‚</p>
<h4 id="å†…éƒ¨å±æ€§æˆ–é™æ€å±æ€§"><a href="#å†…éƒ¨å±æ€§æˆ–é™æ€å±æ€§" class="headerlink" title="å†…éƒ¨å±æ€§æˆ–é™æ€å±æ€§"></a>å†…éƒ¨å±æ€§æˆ–é™æ€å±æ€§</h4><h5 id="å†…éƒ¨æ–¹æ³•"><a href="#å†…éƒ¨æ–¹æ³•" class="headerlink" title="å†…éƒ¨æ–¹æ³•"></a>å†…éƒ¨æ–¹æ³•</h5><p>åœ¨æ–°çš„ ES6 è§„å®šä¸­ï¼Œ<code>class</code> å†…éƒ¨åªä¼šæœ‰é™æ€æ–¹æ³•ï¼Œä¸ä¼šæœ‰é™æ€å±æ€§ï¼Œè€Œç›´æ¥å®šä¹‰åœ¨ç±»çš„å†…éƒ¨å±æ€§ï¼ˆclass.propnameï¼‰å°†ä¼šè¢«ç§°ä¹‹ä¸ºé™æ€å±æ€§ï¼Œä¸éœ€è¦å®ä¾‹åŒ–ã€‚</p>
<blockquote>
<p>åœ¨ ES6 ä¸­ prototype å±æ€§ä»ç„¶å­˜åœ¨ï¼Œä»–æœ¬è´¨è¿˜æ˜¯å®šä¹‰åœ¨ prototype ä¸Šï¼Œä¸”è¦†ç›– prototype å±æ€§ï¼Œå¹¶åœ¨åˆå§‹åŒ–æ—¶æ·»åŠ æ–°çš„æ–¹æ³•</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello,world!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello,world!</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Example</span>()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç±»çš„å®ä¾‹åŒ–å¿…é¡»æ˜¯é€šè¿‡ <code>new</code> å…³é”®å­—çš„</p>
</blockquote>
<h5 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h5><p>ç±»çš„ <code>constructor</code> æ–¹æ³•ç”¨äºå®ä¾‹åŒ–å¯¹è±¡æ—¶è¢«è°ƒç”¨ï¼Œå› æ­¤è¿™ä¸ªæ¦‚å¿µä¹Ÿè¢«åº”ç”¨ä¸å¤§å¤šæ•°çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼ŒåŒæ—¶è¯¥æ–¹æ³•ä¸‹è¿”å›å®ä¾‹å¯¹è±¡çš„ <code>this.x</code> ä¹Ÿå¯ä»¥æŒ‡å®šè¿”å›çš„å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">sum</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Example</span>.<span class="title function_">sum</span>(<span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>


<h5 id="decorators"><a href="#decorators" class="headerlink" title="decorators"></a>decorators</h5><p>è£…é¥°å™¨ (decorators) æ˜¯ES7ç±»çš„æ–°ææ¡ˆï¼Œåœ¨è½¬è¯‘å™¨ç¯å¢ƒä¸­è¢«å¼€å‘äººå‘˜å¹¿æ³›çš„ä½¿ç”¨ï¼Œå®é™…ä¸Šè¿™æ˜¯ ES5 æ‰€çº³å…¥çš„ææ¡ˆï¼Œä½†æœ€è¿™ ES6 ä¸­æ–°å¼•å…¥çš„ <code>class</code> ï¼Œä»è€Œéœ€è¦é¢å¤–çš„åŠŸèƒ½æ¥æ”¯æŒ <strong>æ³¨é‡Šæˆ–ä¿®æ”¹ç±»å’Œæˆå‘˜çš„åœºæ™¯</strong> ã€‚</p>
<p>ä½ å¯ä»¥å¯ä»¥åœ¨ç±»ã€æ–¹æ³•ã€å±æ€§ã€å‚æ•°ä¸­è¿›è¡Œå£°æ˜ï¼Œå¹¶ä½¿ç”¨ <code>@expression</code> çš„å½¢å¼è°ƒç”¨å‡½æ•°ã€‚</p>
<p>ä½ å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/decorators.html#decorators">https://www.typescriptlang.org/docs/handbook/decorators.html#decorators</a> äº†è§£æ›´å¤šï¼ˆES5ï¼‰</p>
<h4 id="ç±»çš„ç»§æ‰¿"><a href="#ç±»çš„ç»§æ‰¿" class="headerlink" title="ç±»çš„ç»§æ‰¿"></a>ç±»çš„ç»§æ‰¿</h4><h5 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h5><p>åœ¨ç±»çš„å†…éƒ¨ä¸­å¯ä»¥ä½¿ç”¨çš„ <code>get</code> ä»¥åŠ <code>set</code> å…³é”®å­—ï¼Œå¯¹äºæŸä¸ªç¡é†’å†…è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">fatcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»‘å®š</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">a</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_a</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">a</span>(<span class="params">a</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_a</span> = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">fatcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">new</span> <span class="title function_">child</span>();</span><br><span class="line"></span><br><span class="line">foo.<span class="property">a</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">a</span>)</span><br></pre></td></tr></table></figure>

<p>class å¯ä»¥é€šè¿‡ <code>extends</code> å…³é”®å­—ä»è€Œå®ç°ç±»çš„ç»§æ‰¿ï¼Œå¹¶é€šè¿‡ <code>getter/setter</code> åˆ†åˆ«å¯¹å±æ€§è¿›è¡Œäº†ç»‘å®šå’Œè°ƒç”¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ<code>child</code> é€šè¿‡ <code>extends</code> ç»§æ‰¿äº† <code>fatcher</code> ï¼Œæ‰€ä»¥å¯ä»¥è¢«è°ƒç”¨å¹¶è¾“å‡ºæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡æ­¤å…³é”®å­—è®©ä¸¤ä¸ªç±»å˜å¾—ä¸€æ ·äº†ã€‚</p>
<h5 id="super"><a href="#super" class="headerlink" title="super"></a>super</h5><p>super å…³é”®å­—ç”¨äºè®¿é—®å’Œè°ƒç”¨å¯¹è±¡ä¸­çˆ¶å¯¹è±¡ä¸Šçš„å‡½æ•°ï¼ŒES6 ä¸­è¦æ±‚å­ç±»å’Œæ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡ super å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å­ç±» <code>constructor</code> æ–¹æ³•ä¸­å¿…é¡»æœ‰ superã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">fatcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Hey,&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">fatcher</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">logDesc</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">super</span>.<span class="title function_">log</span>() + <span class="string">&#x27;world!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hey,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="title function_">logDesc</span>())</span><br></pre></td></tr></table></figure>


<h2 id="ES6-æ¨¡å—åŒ–"><a href="#ES6-æ¨¡å—åŒ–" class="headerlink" title="ES6 æ¨¡å—åŒ–"></a>ES6 æ¨¡å—åŒ–</h2><p>åœ¨ ES6 å¼•å…¥æ¨¡å—åŒ–ä¹‹å‰ï¼Œå…¶æ¨¡å—åŒ–çš„ä½¿ç”¨æ˜¯ RequireJSï¼Œç”¨äº JavaScript æ–‡ä»¶å’Œæ¨¡å—åŠ è½½ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¯é€šè¿‡ Node æ¥å®ç°æ¨¡å—åŒ–è„šæœ¬åŠ è½½æ¥æé«˜ä»£ç çš„ç¼–å†™è´¨é‡å’Œé€Ÿåº¦ã€‚</p>
<p>åœ¨ ES6 è§„èŒƒä¸­å¼•å…¥çš„æ¨¡å—ææ¡ˆï¼Œå…¶è®¾è®¡æ€æƒ³æ˜¯åœ¨ç¼–è¯‘æ—¶å€™å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ï¼Œæ‰€ä»¥ ES6 ä¸­æ¨¡å—åŒ–ä¸»è¦åˆ†ä¸ºå¯¼å‡ºï¼ˆexportï¼‰å’Œå¯¼å…¥ï¼ˆimportï¼‰</p>
<h3 id="æ·»åŠ -babel-æ”¯æŒ"><a href="#æ·»åŠ -babel-æ”¯æŒ" class="headerlink" title="æ·»åŠ  babel æ”¯æŒ"></a>æ·»åŠ  babel æ”¯æŒ</h3><p>æ­£å› ä¸ºä½¿ç”¨çš„æ˜¯ ES6ï¼Œè¿™åœ¨ç›®å‰çš„ç‰ˆæœ¬ä¸­çœ‹æ ·å­å¾ˆæ­£å¸¸çš„è¯­æ³•ä½†ä¼šå› ä¸ºä¸€äº›è¯­æ³•ç³–çš„é—®é¢˜è€Œå‡ºé”™ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ <code>package.json</code> ä¸­ä»¥ <code>babel</code> çš„è½¬è¯‘å™¨è¿›è¡Œè¿è¡Œï¼Œå¹¶æ·»åŠ  <code>ES6</code> æ”¯æŒï¼š  </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;babel-preset-es2015&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.24.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reflect-metadata&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.1.13&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ts-node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^10.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@babel/cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.8&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.0.0-bridge.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.9&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/polyfill&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.12.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/preset-env&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.15.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;babel-node vievs.js&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;assumptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;setPublicClassFields&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;transform-decorators-legacy&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;legacy&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ª <code>package.js</code> æ–‡ä»¶ä¸­ä¸»è¦ç”¨äºå®‰è£… <code>babel</code> çš„ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>npm init</code> æ¥åˆå§‹åŒ–ä¸€ä¸ªï¼Œä¹‹åæ·»åŠ ä¾èµ–å³å¯ï¼Œä¹‹åä½¿ç”¨ <code>npm install</code> ç­‰å¾…å®‰è£…å®Œæˆå³å¯ã€‚</p>
<p>å®‰è£…åï¼Œæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ª <code>.babelrc</code> æ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ª ES6 çš„æ”¯æŒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;es2015&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="export-at-import"><a href="#export-at-import" class="headerlink" title="export at import"></a>export at import</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName = <span class="string">&quot;modelName&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> mySet = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;My in name:&quot;</span> + myName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;myName, mySet&#125;</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶å†™å…¥æ–¹æ³•ï¼Œä¹‹åé€šè¿‡ <code>export</code> æ¥å¯¼å‡ºï¼Œæœ€ååœ¨é€šè¿‡ &#96;&#96;&#96;&#96;import&#96;&#96;&#96; è¿›è¡Œå¼•å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;myName, mySet&#125; <span class="keyword">from</span> <span class="string">&quot;./modelName.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Name: modelName My in name:modelName</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Name:&#x27;</span>,myName, <span class="title function_">mySet</span>())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ npm è¿è¡Œï¼šâ€œ<code>npm run test</code>â€ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥ <code>bebel-node filename.js</code> è¿è¡Œã€‚</p>
</blockquote>
<h4 id="as"><a href="#as" class="headerlink" title="as"></a>as</h4><p>.</p>
<figure class="highlight plaintext"><figcaption><span>å¯ä»¥è¯´æ˜¯ ```exportâ€¦â€¦import``` æ‰€é™„å¸¦çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä»–ä¸»è¦çš„ä½œç”¨å°±æ˜¯   å¯ä»¥å»ºç«‹ ```export``` çš„è¿æ¥ï¼Œä½ å¯ä»¥ç†è§£ä¸ºèµ‹å€¼ï¼š</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">let myName = &quot;modelName&quot;;</span><br><span class="line">let mySet = function () &#123;</span><br><span class="line">    return &quot;My in name:&quot; + myName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123;myName as exportName, mySet&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;exportName, mySet&#125; <span class="keyword">from</span> <span class="string">&quot;./modelName.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Name: modelName My in name:modelName</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Name:&#x27;</span>,exportName, <span class="title function_">mySet</span>())</span><br></pre></td></tr></table></figure>

<p>æœ€åè¿è¡Œè¾“å‡ºçš„è¿˜æ˜¯ä¸ <code>exportName</code> å»ºç«‹é“¾æ¥çš„ <code>myName</code>ï¼Œå› æ­¤è¿™ä¹Ÿæ˜¯ <code>as</code> å‘½ä»¤çš„ä½œç”¨ã€‚</p>

	

	

</article>





	<span class="different-posts">ğŸ“– <a href="/page/5">more posts</a> ğŸ“–</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ blog <br><br> é€šè¿‡ <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> è¿›è¡Œæ„å»ºçš„ï¼Œå­˜æ”¾åœ¨ <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> ä¸Šã€‚</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
