<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>琼瑶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="琼瑶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">琼瑶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">梦入琼楼寒有月，行过石树冻无烟</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">📖 <a href="/page/3">earlier posts</a> 📖</span>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/2.0/11.Vue Prop/">Vue Prop</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue2-0/" rel="tag">vue2.0</a>
			</span>
		
	</div>

	

	
		<p>在组建基础中，我们讲解了 Prop是作为一个DOM属性绑定，而不是属性绑定，如果有不了解或不知道的读者可以阅读下前面几章的内容最后来阅读本章。</p>
<h2 id="大小写"><a href="#大小写" class="headerlink" title="大小写"></a>大小写</h2><p>通常情况下，HTML中的属性名称是不存在大小写敏感的，所以浏览器大多都会将<code>大写字母</code>解释为<code>小写字母</code>，这也就意味着驼峰命名的方式需要使用其<code>段横线分割的命名</code>方式。</p>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><p>通常的情况下，我们的Props类型都会为<code>字符串</code>类型，对此，Vue为我们提供了一个多种类型的选择方式，如：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>String</td>
<td>字符串</td>
</tr>
<tr>
<td>Number</td>
<td>数字</td>
</tr>
<tr>
<td>Boolean</td>
<td>布尔</td>
</tr>
<tr>
<td>Array</td>
<td>数组</td>
</tr>
<tr>
<td>Object</td>
<td>对象</td>
</tr>
<tr>
<td>Function</td>
<td>功能</td>
</tr>
<tr>
<td>Promise</td>
<td>承诺</td>
</tr>
</tbody></table>
<p>对此，我们的 code 可以将之前单纯的定义属性之后，在指定其类型，如:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [&#x27;title&#x27;, &#x27;age&#x27;]</span><br></pre></td></tr></table></figure>
<p>改为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line">    title: String,</span><br><span class="line">    age: Number,</span><br></pre></td></tr></table></figure>
<p>如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: String,</span><br><span class="line">            age: Number,</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;title&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="传递静态和动态"><a href="#传递静态和动态" class="headerlink" title="传递静态和动态"></a>传递静态和动态</h2><p>当一切执行完成之后你会发现，即使我使用的是 <code>age</code>，但vue并没有起到什么实质性的效果，甚至还可以输入<code>Hello,world</code>字符串类型的数据。在这个时候，由于我们传递给 <code>prop</code>中是<code>静态 Prop</code>即：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;props&quot;&gt;</span><br><span class="line">    &lt;props age=&quot;10&quot;&gt;&lt;/props&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: String,</span><br><span class="line">            age: Number,</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>如果想传递一个<code>动态 Prop</code>，需要使用<code>v-bind</code>或<code>:</code>即v-bind的缩写来让其成为一个<code>动态的 prop</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;props&quot;&gt;</span><br><span class="line">    &lt;props :age=&quot;10&quot;&gt;&lt;/props&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            title: String,</span><br><span class="line">            age: Number,</span><br><span class="line">            text: [String, Number]</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>当使用过<code>v-bind</code>来传递 Prop的时候，那么所有的数据都将是<code>动态的 prop</code>，所以 vue 也可以根据所<code>定义的属性</code>来进行判断 Prop数据是否符合所定义的<code>Prop 类型</code></p>
<h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615745433_20210315010205921_1751733013.png"><br>除了指定 Prop 的类型之外，我们也可以使用 vue 为我们所提供的 <code>Prop 验证</code>，（虽然这一点有点像是 Laravel 所提供的表单验证，但在Vue中也被发挥的琳琳尽至）。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;props-component :title-data=&quot;titleData&quot;&gt;&lt;/props-component&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var propsComponent = &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            titleData: &#123;</span><br><span class="line">                type: String,</span><br><span class="line">                required: true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;titleData&#125;&#125;&#x27;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var vm = new Vue(&#123;</span><br><span class="line">        components: &#123;</span><br><span class="line">            &#x27;props-component&#x27;:propsComponent</span><br><span class="line">        &#125;,</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>在上图之中，主要来验证<code>titleData</code>属性是否存在数据，如果存在数据则进行显示，但如果没有数据则会在控制台中输出错误。</p>
<h2 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615745434_20210315021023489_735669898.png"><br>在通常的情况下，如果你不指定相关数据，那么将会被输出为<code>null</code>即空，且不可见，对于这种情况，我们可以使用 vue 所提供的<code>default</code>方法来设置一个组件的默认值，而默认值的数据则是其<code>属性</code>内的信息，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;props&quot;&gt;</span><br><span class="line">    &lt;props :age=&quot;101&quot;&gt;&lt;/props&gt;</span><br><span class="line">    &lt;props&gt;&lt;/props&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.component(&quot;props&quot;, &#123;</span><br><span class="line">        props: &#123;</span><br><span class="line">            age: &#123;</span><br><span class="line">                type: Number,</span><br><span class="line">                default: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        template: &#x27;&lt;h1&gt;&#123;&#123;age&#125;&#125;&lt;/h1&gt;&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue (</span><br><span class="line">        &#123;el: &#x27;#props&#x27;&#125;</span><br><span class="line">    )</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/2.0/10.Vue 组件注册/">Vue 组建注册</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue2-0/" rel="tag">vue2.0</a>
			</span>
		
	</div>

	

	
		<h2 id="组建名"><a href="#组建名" class="headerlink" title="组建名"></a>组建名</h2><p>关于 Vue 的组建名特别是全局组件的注册格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;components-name&#x27;, &#123;</span><br><span class="line">    // ……</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>其中在全局组件注册中第一个参数是<strong>全局组件</strong>的名称，而第二参数则为组件中的<strong>code</strong>。</p>
<h3 id="组件名的命名方式"><a href="#组件名的命名方式" class="headerlink" title="组件名的命名方式"></a>组件名的命名方式</h3><p>组建名的定义主要命名方式为 <code>kebab-case</code>即“短横线分割命名方法”还有<code>驼峰式命名</code>，他们的命名方式主要体现在：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&quot;component-name&quot;, &#123;</span><br><span class="line">    // ……</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>以及驼峰式命名方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&quot;componentName&quot; , &#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>短横线命名以及驼峰式命名主要区分在<code>component-name</code>和<code>componentName</code>，通常使用短横线明明更加的明显但在一些语言中并不支持，所以驼峰式命名方法受众更多。</p>
<p>在官方文档中，虽然<strong>短横线分割</strong>以及<strong>驼峰式</strong>命名方式都会被接受，但是直接在DOM中使用时只支持以<strong>短横线分割</strong>即<code>Kebab-case</code>是有效的</p>
<h2 id="全局注册与局部注册"><a href="#全局注册与局部注册" class="headerlink" title="全局注册与局部注册"></a>全局注册与局部注册</h2><h3 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h3><p>通过全局注册通常会使用<code>Vue.component</code>来创建一个全局组件即：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;component-name&#x27;, &#123;</span><br><span class="line">    // ……</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>在他们注册之后可以用在任何新的Vue实例中，就比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;componente-one&#x27;, &#123;</span><br><span class="line">    // …… </span><br><span class="line">&#125;)</span><br><span class="line">Vue.component(&#x27;componente-two&#x27;, &#123;</span><br><span class="line">    // …… code</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">new Vue (&#123;</span><br><span class="line">    el: &#x27;#app&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>之后可以可以用过使用下放实例直接使用刚刚所注册的全局组件:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">componente-one</span>&gt;</span><span class="tag">&lt;/<span class="name">componente-one</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">componente-two</span>&gt;</span><span class="tag">&lt;/<span class="name">componente-two</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615626087_20210313165644557_1926240209.png"><br>全局注册通常往往都不会是太于理想的，如果你有很多的组件，但是你用到的只有那一两个，则会造成很多的代码行数增加（经管全局注册的初始结构会比局部注册的少几行），通过局部注册，即<code>有多少，注册多少</code>，但全局注册则是<code>尽管来，趁热，来者不惧的</code>的方式进行组件的注册。通过上述的对比我们可以更快的理解全局注册与局部注册相互之间的差异以及区别，读者可根据在开发项目中时自行进行使用两种方法来构建一个项目。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/vue/2.0/1.Vue 简介/">Vue 基础</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/vue2-0/" rel="tag">vue2.0</a>
			</span>
		
	</div>

	

	
		<p>Vue 是由<code>尤雨溪</code>所开发的一种前端<code>js</code>框架，以vue为中心的vue 库最为出名，其中知名的有<code>vue-data、vue-table……</code>分别运用在<code>数据大屏</code>以及<code>表格处理</code>方面，其中vue主要用于<strong>构建用户界面</strong>的渐进式框架，核心库只支持前端显示。而渐进式框架主要是：“一开始不需要完全掌握全部功能，到后面会慢慢的提升”，就以<code>vue-data</code>为例，即使光通过官方文档也可以快速上手，这与vue.js的成功密切相关。</p>
<p>vue.js 的官方文档是写的最为详细的框架文档之一，这与其vue.js发展之出的Laravel 社区文档出现了对比，如果按照通俗的话来讲就是“<strong>教你造车但不教你开车</strong>”，这也是vue.js如此成功的关键因素之一，其二就是由于vue.js是由国人所开发的，这也增加了vue.js在国内的受欢迎程度不同类框架第一影响更好。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>Vue的安装非常的简单，本文主要使用vue所提供的cdn来引入项目内进行演示，vue为开发者提供了两种方式，分别为<code>开发环境版</code>以及<code>生产环境</code>版本，两者的区别就是一个<strong>含有了帮助以及命令行警告</strong>，而另一个主要<strong>优化了尺寸和处理速度</strong>，我们分别可以使用以下 CDN进行引入 ：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>开发环境版</td>
<td><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;&gt;&lt;/script&gt;</code></td>
</tr>
<tr>
<td>生产环境版</td>
<td><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue&quot;&gt;&lt;/script&gt;</code></td>
</tr>
</tbody></table>
<h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180760_20210308094150988_738689573.gif" alt="编辑 app.message 值"><br>Vue.js允许使用较为简洁的模板语法以声明式的将数据渲染到<code>HTML DOM（HTML Document Object Model，文档对象模型）</code>内，使得数据可以<strong>任意的进行编辑，以及实时预览</strong>，HTML DOM用于将元素看作对象，<code>从而使得元素可以被进行编辑以及获取</code>，就比如我们声明一个<code>message</code>对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app =new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: &#x27;hello,world!&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;) </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="绑定元素属性"><a href="#绑定元素属性" class="headerlink" title="绑定元素属性"></a>绑定元素属性</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p v-bind:title=&quot;message&quot;&gt;绑定标题&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: &quot;绑定属性为toLocaleDateString &quot; + new Date().toLocaleDateString() </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>此时如果将鼠标移动到<code>&lt;p&gt;</code>元素内，则会提示信息为<code>绑定属性为 toLocaleDateString()</code>方法，这里所用到的<code>v-bind</code>为vue所提供的指令：</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>v-bind</td>
<td>将这个元素点的标题属性和message 实例内的消息属性 绑定在一起</td>
<td></td>
</tr>
<tr>
<td>toLocaleDateString</td>
<td>区域日期字符串</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180763_20210308100455145_465903495.png"></td>
</tr>
<tr>
<td>toLocaleTimeString</td>
<td>区域时间字符串</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180763_20210308100522456_1178855761.png"></td>
</tr>
<tr>
<td>toLocaleString</td>
<td>区域字符串</td>
<td><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615180764_20210308100559537_524761025.png"></td>
</tr>
</tbody></table>
<h2 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h2><p>vue.js支持提交语法的写入，本章主要先介绍下vue的特点以及语法等基础功能的实现，在后续我们会详细介绍vue的条件以及循环指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p v-if=&quot;message&quot;&gt;Hello,world！&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el: &#x27;#app&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>与上述一样，vue不仅仅可以将数据绑定到DOM文本或属性，还可以绑定DOM的结构，这意味着你在控制台中将<code>app.message=false</code>可以将<code>Hello,wirkd!</code>所隐藏。</p>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615181640_20210308132719180_18339660.png"><br>在vue内，循环可以通过使用<code>v-for</code>指令来实现，与上述一样，vue也会将此绑定到DOM对象内，都可进行控制台内输入<code>app.todos.push(&#123;text : &quot;Hello,vue&quot;&#125;)</code>进行修改：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;todo in todos&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;&#123;todo.text&#125;&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">todos</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#123; <span class="attr">text</span>: <span class="string">&#x27;Hello,world&#x27;</span>&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#123; <span class="attr">text</span>: <span class="string">&#x27;Hello,china&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="双向绑定"><a href="#双向绑定" class="headerlink" title="双向绑定"></a>双向绑定</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/1615181641_20210308133153611_510465296.gif"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;input v-model=&quot;message&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var app = new Vue(&#123;</span><br><span class="line">        el: &quot;#app&quot;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            message: &#x27;Hello,world&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>通过使用<code>v-model</code>指令，我们可以非常方便的获取表单所输入的内容来实现双向绑定。</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/9.Node.js TCP Server/">Node.js TCP Server</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>TCP Server 通过 Node 中的 <code>net</code> 模块来实现 TCP 四层模型（应用层、传输层、网络层、链路层）</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Protocol</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>链路层（Link layer）</td>
<td>负责在以太网、Wifi 底层网络发送数据包，并通过网卡、使用 MAC 地址来标记网络上的设备</td>
<td>GPRS、IEEE、IPoe、Localhost、TRILL、IPoAC、FDDI、NAK\NACK、SEND、frame\frame relay、ATM、Data Link Layer、PPP、STP、L2TP、ARQ、CDPD、LLDP、LCP、Link Aggregation、HDLC</td>
</tr>
<tr>
<td>2</td>
<td>网络层\网络互联层（Internet layer）</td>
<td>定义了 IP 地址的概念，通过 IP 地址取代 MAC 地址，并将局域网、广域网链接成一个虚拟网络，主要目的就是 <strong>将 IP 地址翻译成 MAC 地址就可查找设备</strong></td>
<td>IPsec、IPv4\IPv5\IPv6\IPv9、 IP Address、x.25、IPX、ICMP\ICMPv6、IGMP、DDP、Mobile IP、Network Layer、PPP、RSVP、Anti-replay</td>
</tr>
<tr>
<td>3</td>
<td>传输层（Transport layer）</td>
<td>保证数据在 IP 地址标记的两点之间进行传输</td>
<td>TCP、UDP、TLS\SSL、DCCP、SCTP、RSVP</td>
</tr>
<tr>
<td>4</td>
<td>应用层（Application layer）</td>
<td>直接与应用程序和接口结合，并提供常见的应用服务</td>
<td>DHCP、DNS、FTP、gopher、HTTP\HTTP-2、IMAP4、IRC、NNTP、XMPP、POP3、SIP、SMTP、SNMP、SSH、TELNET、RPC、RTCP、RTP、RTSP、SDP、SOAP、GTP、STUN、NTP、SSDP</td>
</tr>
</tbody></table>
<p>对于每个网络层次，Node 都提供了相应的模块，如 http、net、tls&#x2F;crypto、dgram 等，其中 net、http、dgram 模块分别实现和提供 TCP、HTTP 的通信，其中 <code>http</code> 为应用层模块，而 <code>net</code> 为传输层模块。</p>
<figure class="highlight plaintext"><figcaption><span>是一个综合模块，包含了 ```http/tls/crypto``` 等，这将用于确保传输的安全性。其中 ```net``` 模块是 node 中的核心模块，严谨的来说 ```http.Server``` 继承了 ```net.Server```，除此之外 ```HTTP SERVER/CLIENT``` 都以来与 ```net.Socket```，而 net 模块主要分为：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. net.Server：通过其内部的 ```socket``` 来提供客户端的通信</span><br><span class="line">2. net.Socket：TCP/Localhost socket 的实现，并提供了全双工的 stream 接口</span><br><span class="line"></span><br><span class="line">&gt; Network socket （网络套接字）是指网络中不同主机上应用程序之间的通信端点对象，一个套接字就是一个的另一端，也就是以 IP 及端口所组成的地址被称之为套接字地址（socket address）</span><br><span class="line"></span><br><span class="line">## Create TCP Server</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">var net = require(&#x27;net&#x27;)</span><br><span class="line"></span><br><span class="line">var server = net.createServer(function (socket) &#123;</span><br><span class="line">    console.log(&#x27;someone sonnects&#x27;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(8210, function () &#123;</span><br><span class="line">    console.log(&#x27;Create server on http://127.0.0.1:8210&#x27;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>创建一个 TCP 服务可以通过 <code>net.createServer</code> 方法进行创建，可通过 <code>server.listen</code> 来设置服务的监听端口以及，当然一旦运行服务时除发的还是 server 下的 <code>listening</code> 事件，因此也支持另一种写法：</p>
<h3 id="net-Server"><a href="#net-Server" class="headerlink" title="net.Server()"></a>net.Server()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;someone sonnects&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;listening&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1:8210/&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>除此之外 <code>server</code> 还支持另外几种 TCP 事件：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>listening</td>
<td>调用 server.listen()，即当开始监听时候除发</td>
</tr>
<tr>
<td>2</td>
<td>connection</td>
<td>当有新创建时后除发，回调的参数是 socket 连接的对象</td>
</tr>
<tr>
<td>3</td>
<td>close</td>
<td>当关闭时触发，回调函数没有参数</td>
</tr>
<tr>
<td>4</td>
<td>error</td>
<td>当 TCP 服务发生错误时触发，回调参数为 error</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = <span class="keyword">new</span> net.<span class="title class_">Server</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听新的请求时返回回调函数</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;connects someone&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听时触发</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;listening&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1:8210/&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭触发回调函数</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;close&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;close server&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误时返回</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;server error!&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="server-address"><a href="#server-address" class="headerlink" title="server.address()"></a>server.address()</h3><p>如果需要监听 IP 套接字，也就是套接字地址（socket address），可以通过 <code>server.address()</code> 方法来实现，他主要提供了三个服务器绑定的 <code>address</code> 以及 <code>family</code> 和 <code>port</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;connects someone&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> address = server.<span class="title function_">address</span>()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;TCP Server 所监听的端口号：&quot;</span> + address.<span class="property">port</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;TCP Server 所监听的地址：&quot;</span> + address.<span class="property">address</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;TCP Server IPv4 or IPv6：&quot;</span> + address.<span class="property">family</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>需要注意的是如果监听的端口号是 IPv6 地址，那么 <code>address</code> 则返回 <code>::</code></p>
</blockquote>
<h3 id="server-getConnections"><a href="#server-getConnections" class="headerlink" title="server.getConnections()"></a>server.getConnections()</h3><p>.<code>server.getConnections</code> 方法用于异步获取服务器上的并发连接数，回调参数分为 <code>err</code> 和 <code>count</code> </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">&quot;net&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Create server on http://127.0.0.1:8210</span></span><br><span class="line"><span class="comment">    someone connects</span></span><br><span class="line"><span class="comment">    This is client count: 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;someone connects&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    server.<span class="property">maxConnections</span>=<span class="number">3</span></span><br><span class="line">    server.<span class="title function_">getConnections</span>(<span class="keyword">function</span> (<span class="params">err,count</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;This is client count: &quot;</span> + count)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1:8210&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>之后我们分别通过 GET 请求 <a target="_blank" rel="noopener" href="http://127.0.0.1:8210/">http://127.0.0.1:8210/</a> 并通过代理访问 uri 则有三个 IP 访问，因此分别依次循环输出 This is Client count: 1~3 </p>
<h2 id="Server-at-Client-之间的通信"><a href="#Server-at-Client-之间的通信" class="headerlink" title="Server at Client 之间的通信"></a>Server at Client 之间的通信</h2><h3 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h3><p>服务端主要用于接收客户端所发送的消息，因此只需要通过 <code>data</code> 事件来接收数据时进行输出，在收到数据之前首先通过 <code>address()</code> 来将转换为 <code>JSON</code> 格式并输出，并通过 <code>socket.bytesWritten</code> 来计算客户端所发送的字节数，最后通过 <code>socket.bytesRead</code> 方法来统计书数据的大小。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Create server on http://127.0.0.1/8210</span></span><br><span class="line"><span class="comment">    The is address is &#123;&quot;address&quot;:&quot;::&quot;,&quot;family&quot;:&quot;IPv6&quot;,&quot;port&quot;:8210&#125; 以发送</span></span><br><span class="line"><span class="comment">    消息大小为 62</span></span><br><span class="line"><span class="comment">    Massage from client</span></span><br><span class="line"><span class="comment">    数据的大小为：19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> server = net.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">socket</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> addresss = server.<span class="title function_">address</span>()</span><br><span class="line">    <span class="keyword">var</span> message = <span class="string">&quot;The is address is &quot;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(addresss)</span><br><span class="line"></span><br><span class="line">    socket.<span class="title function_">write</span>(message,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> writeSize = socket.<span class="property">bytesWritten</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(message + <span class="string">&quot; 以发送&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;消息大小为 &quot;</span> + writeSize)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 收到数据时回调</span></span><br><span class="line">    socket.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>())</span><br><span class="line">        <span class="keyword">var</span> readSize = socket.<span class="property">bytesRead</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;数据的大小为：&quot;</span> + readSize)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8210</span>,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Create server on http://127.0.0.1/8210&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h3><p>在 Server 与 Client 建立链接的过程中，客户端扮演的是数据发送者的身份，而他主要的作用就是与服务端建立链接并发送数据，之后监听服务端的状态，在这期间主通过 <code>client.connect</code> 来链接服务，之后使用其 <code>client.write</code> 来写入数据并发送。</p>
<h4 id="net-Socket-类"><a href="#net-Socket-类" class="headerlink" title="net.Socket 类"></a>net.Socket 类</h4><h5 id="API"><a href="#API" class="headerlink" title="API"></a>API</h5><p>对于 <code>net.Socket</code> 相关的 API  Node 提供了多种方法：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>socket.address()</td>
<td>返回操作系统报告并绑定 address，和套接字的 port 以及 family 等</td>
</tr>
<tr>
<td>2</td>
<td>socket.bytesRead()</td>
<td>接收的字节数</td>
</tr>
<tr>
<td>3</td>
<td>socket.bytesWritten()</td>
<td>发送的字节数</td>
</tr>
<tr>
<td>4</td>
<td>socket.connect(options[,sonnectListener])</td>
<td>指定套接字链接</td>
</tr>
<tr>
<td></td>
<td>options</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>port</code> 套接字应该链接到的端口（必填）</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>host</code> 套接字应连接到的主机（默认为 <code>localhost</code>）</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>localAddress</code> 套接字应该链接到本地地址</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>localPort</code> 套接字应链接本地端口</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>family</code> IP 堆栈的版本（通常是 IPv6、IPv4或0，而 0 表示 允许 IPv4&#x2F;6 地址）</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>hints</code> 可选的 <code>dns.lookup()</code> 提示(主机名)</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>lookup</code> 自定义查找函数（默认 <code>dns.lookup()</code>）</td>
</tr>
<tr>
<td>5</td>
<td>socket.connect(port[,host][,connectListener])</td>
<td>指定套接字链接</td>
</tr>
<tr>
<td></td>
<td><code>port</code> 客户端应该链接到的端口</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>host</code> 客户端应该链接到的主机</td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>connectListener</code> 方法的常用参数，将被添加为 <code>connect</code> 事件监听</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td><code>socket.destroyed</code> 半关闭套接字，服务端关闭时发送数据包给客户端，客户端关闭</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>socket.localAddress</td>
<td>远程客户端链接本地 IP 地址（以 IP 地址的字符串形式表示，如 <code>0.0.0.0</code>）</td>
</tr>
<tr>
<td>8</td>
<td>socket.localPort（socket.remotePort）</td>
<td>本地端口数字表示（如 <code>8210</code>）</td>
</tr>
<tr>
<td>9</td>
<td>socket.remoteAddress</td>
<td>远程 IP 地址的字符串形式输出（如 <code>74.125.127.100</code> 或 <code>2001:4860:a005::68</code>）</td>
</tr>
<tr>
<td>10</td>
<td>socket.remoteFamily</td>
<td>远程 IP 系列的字符串形式表示（如 <code>IPv6</code> 或 <code>IPv4</code>）</td>
</tr>
<tr>
<td>11</td>
<td>socket.setTimeout（socket.timeout）</td>
<td>用于进行设置连接（如果 <code>timeout</code> 为 0,则禁用空闲超时）</td>
</tr>
<tr>
<td>12</td>
<td>socket.setKeepAlive()</td>
<td>用于设置和i长连接</td>
</tr>
<tr>
<td>13</td>
<td>socket.destroy()\socket.destroyed</td>
<td>当错误发生时，用于销毁 socket，以确保这个 socket 上不会有其他 IO 操作</td>
</tr>
</tbody></table>
<h5 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h5><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>close</td>
<td>当链接断开时触发，假设因为传输错误导致断开，则参数为 err</td>
</tr>
<tr>
<td>2</td>
<td>connect</td>
<td>当建立成功套接字链接时触发</td>
</tr>
<tr>
<td>3</td>
<td>data</td>
<td>接收到数据时触发</td>
</tr>
<tr>
<td>4</td>
<td>drain</td>
<td>当写缓存空了时触发</td>
</tr>
<tr>
<td>5</td>
<td>end</td>
<td>当另一端结束时触发</td>
</tr>
<tr>
<td>6</td>
<td>error</td>
<td>当错误时触发</td>
</tr>
<tr>
<td>7</td>
<td>lookup</td>
<td>当解析完主机名后触发</td>
</tr>
<tr>
<td>8</td>
<td>ready</td>
<td>当套接字准备好使用时触发</td>
</tr>
<tr>
<td>9</td>
<td>timeout</td>
<td>提示用户 socket 超时，需要手动关闭链接</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> net = <span class="built_in">require</span>(<span class="string">&#x27;net&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Connnect to Server</span></span><br><span class="line"><span class="comment">    The is address is &#123;&quot;address&quot;:&quot;::&quot;,&quot;family&quot;:&quot;IPv6&quot;,&quot;port&quot;:8210&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> net.<span class="title class_">Socket</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 链接服务器，&quot;connect&quot; 是指当成功建立连接时触发</span></span><br><span class="line">client.<span class="title function_">connect</span>(<span class="number">8210</span>,<span class="string">&#x27;127.0.0.1&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Connnect to Server&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 与 Server 建立链接</span></span><br><span class="line">    client.<span class="title function_">write</span>(<span class="string">&quot;Massage from client&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">client.<span class="title function_">on</span>(<span class="string">&quot;data&quot;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当套接字另一端断开链接时出发回调，从而结束套接字可读端</span></span><br><span class="line">client.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;end Server&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/8.Node.js Express at ejs/">Node.js Express at ejs</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>express 是一个高度包容和快速包容且极简的 Node.js Web 框架，主要用于其 API 路由以及对数据的集成支持，可通过 <code>express</code> 模块完成各种使用程序方法和中间件，方便快捷的创建一个强大的 API。</p>
<p>通过 <code>express</code> 和模板引擎 <code>ejs</code> 的配合，以 ejs 十分简单以及对 <code>express</code> 良好的集成，可以充分的完成前后端的相关开发需求，并以此来完成一个非常规范的 node start 写法，在此之前我们需要安装 <code>express</code> 以及 <code>ejs</code> 模块</p>
<blockquote>
<p>npm install ejs \ npm install express</p>
</blockquote>
<p>路由用于确定应用程序特定端点的客户端请求，主要通过 <code>express</code> 来进行实现，而这其中 app 与 HTTP 方法相对应的 Express 对象方法来定义路由，如 <code>app.get()</code> 用于处理 GET 请求，而 <code>app.post</code> 则用于处理 POST 请求。</p>
<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><p>这些路由方法都指定了回调函数（或者：“处理程序函数”），当程序接收到指定的路由（端点）的时候（也就是说 HTTP 方法请求时被调用），来调用回调函数，换句话说就是应用程序监听与指定路由和方法匹配的请求，当检测到匹配时，他会调用对应的回调函数。</p>
<p>比如我们要创建一个非常符合 node 风格的项目并搭配 ejs 进行开发，可以目录结构可以为：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">node/</span><br><span class="line">├── server.js</span><br><span class="line">├── package.json</span><br><span class="line">├── package-lock.json</span><br><span class="line">├── route</span><br><span class="line">│   └── index.js</span><br><span class="line">└── views</span><br><span class="line">    └── index.ejs</span><br></pre></td></tr></table></figure>

<blockquote>
<p>除去 <code>node_modules</code> 目录</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> indexRoute = <span class="built_in">require</span>(<span class="string">&#x27;./route/index&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.set(name, value)，将 set name 分配给 value，因此他可以存储任何想要的值</span></span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&#x27;views&#x27;</span>, path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;views&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 指定渲染引擎使用使用 ejs</span></span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&#x27;view engine&#x27;</span>, <span class="string">&#x27;ejs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由将匹与 path 相同的路径</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/&#x27;</span>, indexRoute)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">8021</span>)</span><br></pre></td></tr></table></figure>

<h3 id="路由参数"><a href="#路由参数" class="headerlink" title="路由参数"></a>路由参数</h3><p>接下来在 <code>route/</code> 目录里面添加 <code>use</code> 所对应的文件，并引入 <code>express</code> 库，并通过 <code>express.Router</code> 创建模块化，之后以 <code>router.get</code> 实例来检测端点参数的访问，之后通过 <code>res.render</code> 将 HTML 字符串发送到客户端：</p>
<ul>
<li>res.render(view[, locals][, callback])<ul>
<li>view 参数是一个字符串，是视图文件，用于渲染文件的路径</li>
<li>locals，一个对象，其属性定义了视图的局部变量。</li>
<li>callback，回调函数。如果提供，该方法将返回可能的错误和呈现的字符串，但不执行自动响应。当发生错误时，该方法会在next(err)内部调用。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/:name&#x27;</span>, <span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">render</span>(<span class="string">&#x27;index&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">name</span>: req.<span class="property">params</span>.<span class="property">name</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/8.node.js%20express%20at%20ejs.md/4838212836698.png"></p>
<p>在上述 code 中，在 <code>router.get</code> 监控路由端点中所使用的路由参数（:name）是一个包含映射命名路由，其作用是捕获 URL 中位置所指定的值，并填充在 <code>req.params</code> 对象中，你可以随意定义：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/user/:username/uid/:userid&#x27;</span>, <span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">render</span>(<span class="string">&#x27;index&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">username</span>: req.<span class="property">params</span>.<span class="property">username</span>,</span><br><span class="line">        <span class="attr">userid</span>: req.<span class="property">params</span>.<span class="property">userid</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:8021/user/kunlun/uid/20">http://localhost:8021/user/kunlun/uid/20</a></p>
</blockquote>
<p><img src="https://gitee.com/sif_one/drawing-bed/raw/9ae992c73ebe98123fc07646de096ecc924c77cd/javascript/node.js/8.node.js%20express%20at%20ejs.md/568318279175.png"><br>当然如果不需要 <code>ejs</code> 进行交互也可以通过其 <code>res.render</code> 方法 <code>options</code>参数来进行实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/:name&#x27;</span>, <span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    res.<span class="title function_">render</span>(<span class="string">&#x27;index&#x27;</span>, <span class="keyword">function</span> (<span class="params">err,html</span>) &#123;</span><br><span class="line">        res.<span class="title function_">send</span>(html)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:8021/hehe">http://localhost:8021/hehe</a></p>
</blockquote>
<p>在这其中 <code>res.send</code> 是一个用于发送 HTTP 响应的方法，所描述的 body 可以是 <code>buffer、string\boolean\array</code> 对象等。</p>
<h2 id="Ejs"><a href="#Ejs" class="headerlink" title="Ejs"></a>Ejs</h2><p>在 <code>ejs</code> 试图中非常简单，我们只需要掌握 ejs 是那个非常关键的几个语法就可以进行使用：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>&lt;% code %&gt;</td>
<td>用于运行 <code>JavaScript</code> 代码</td>
</tr>
<tr>
<td>2</td>
<td>&lt;%&#x3D; code %&gt;</td>
<td>显示转义后的 HTML 内容</td>
</tr>
<tr>
<td>3</td>
<td>&lt;%- code %&gt;</td>
<td>显示原始的 HTML 内容</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>DOCTYPE<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>User: &lt;%= username%&gt;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Uid: &lt;%= userid%&gt;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/7.Node.js HTTP Server/">Node.js HTTP Server</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>HTTP（Hyper Text Transfer Protocol）即浏览器和服务器之间的传输协议，用于浏览器和服务器之间的通信问题，从握手开始处理 TCP 链接，为实现解析 HTTP 的问题，Node 可以通过其内置的 <code>http</code> 模块来解决此问题。</p>
<p>应用程序并不可以直接和 HTTP 进行一些操作，因此可以通过其 <code>http</code> 模块中所提供的 <code>require（请求）</code> 以及 <code>response（响应）</code> 来将 HTTP 响应返回服务器。</p>
<blockquote>
<p>因为 <code>require</code> 封装了 HTTP 请求，因此可以通过使用 <code>require</code> 对象属性方法获取所有的 HTTP 请求信息</p>
<p>同样的因为 <code>response</code> 对象封装了 HTTP 响应，也可以通过此对象方法将 HTTP 响应返回给浏览器</p>
</blockquote>
<p>因此 http 模块也可以有两种方式进行使用，服务端创建 HTTP 服务器以此来监听客户端的请求并返回响应，而作为客户端，将发起一个 HTTP 请求（客户端）来获取服务端的响应。</p>
<h2 id="Request-at-Response"><a href="#Request-at-Response" class="headerlink" title="Request at Response"></a>Request at Response</h2><h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建本地服务器来从其接收数据</span></span><br><span class="line"><span class="keyword">var</span> server = http.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    <span class="comment">// 获得 HTTP 请求的 method + url</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">method</span> + <span class="string">&#x27;:&#x27;</span> + req.<span class="property">url</span>)</span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">        body.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 向请求发送响应头</span></span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123;<span class="string">&#x27;Content-Type&#x27;</span>:<span class="string">&#x27;text/html&#x27;</span>&#125;);</span><br><span class="line">    <span class="comment">// 完成并发送请求</span></span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&#x27;&lt;h1&gt;Hello,world!&lt;/h1&gt;&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8081</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Server is running at http://localhost:8081/&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>HTTP 请求的本质上就是 Headers 以及 body 两者组成，因此我们首先通过了 <code>http.createServer</code> 来创建一个服务器，然后通过 <code>server.listen()</code> 的方法监听端口，当客户端发出请求时，服务器就会的回调函数就会i被调用，因此输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Server is running at http://localhost:8081/</span><br><span class="line">GET:/</span><br><span class="line">GET:/favicon.ico</span><br><span class="line">GET:/</span><br><span class="line">GET:/favicon.ico</span><br></pre></td></tr></table></figure>

<blockquote>
<p>HTTP 请求在发送服务器时，是一个字节一个字节的以数据流方式发送，HTTP 模块创建的 HTTP 服务器接受到完整的请求头后会调用函数，因此除了可以使用 request 对象访问请求头数据以外，还可以将此当作一个只读数据流来访问请求数据提</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line">http.<span class="title function_">createServer</span>(<span class="keyword">function</span> (<span class="params">req,res</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> body = []</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">method</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">headers</span>)</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">        body.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        body = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(body)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(body.<span class="title function_">toString</span>())</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).<span class="title function_">listen</span>(<span class="number">8081</span>)</span><br></pre></td></tr></table></figure>

<p>因此输出的是：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">GET</span><br><span class="line"><span class="punctuation">&#123;</span> host<span class="punctuation">:</span> &#x27;localhost<span class="punctuation">:</span><span class="number">8081</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  connection<span class="punctuation">:</span> &#x27;keep-alive&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;sec-ch-ua&#x27;<span class="punctuation">:</span></span><br><span class="line">   &#x27;<span class="string">&quot;Google Chrome&quot;</span>;v=<span class="string">&quot;89&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Chromium&quot;</span>;v=<span class="string">&quot;89&quot;</span><span class="punctuation">,</span> <span class="string">&quot;;Not A Brand&quot;</span>;v=<span class="string">&quot;99&quot;</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;cache-control&#x27;<span class="punctuation">:</span> &#x27;no-cache&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;sec-ch-ua-mobile&#x27;<span class="punctuation">:</span> &#x27;?<span class="number">0</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;user-agent&#x27;<span class="punctuation">:</span></span><br><span class="line">   &#x27;Mozilla/<span class="number">5.0</span> (X11; Linux x86_64) AppleWebKit/<span class="number">537.36</span> (KHTML<span class="punctuation">,</span> like Gecko) Chrome/<span class="number">89.0</span><span class="number">.4389</span><span class="number">.90</span> Safari/<span class="number">537.36</span>&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;postman-token&#x27;<span class="punctuation">:</span> &#x27;<span class="number">9</span>c86d3ea<span class="number">-3</span>df2<span class="number">-9485</span><span class="number">-75e6</span>-f8d2af8c0b03&#x27;<span class="punctuation">,</span></span><br><span class="line">  accept<span class="punctuation">:</span> &#x27;*<span class="comment">/*&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;sec-fetch-site&#x27;: &#x27;none&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;sec-fetch-mode&#x27;: &#x27;cors&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;sec-fetch-dest&#x27;: &#x27;empty&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;accept-encoding&#x27;: &#x27;gzip, deflate, br&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;accept-language&#x27;: &#x27;zh-CN,zh-TW;q=0.9,zh;q=0.8,en-US;q=0.7,en;q=0.6&#x27; &#125;</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure>

<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><p>客户端发送请求并接受到完整的服务端响应头时，就会调用回调函数，在回调函数中，可以通过 <code>response</code> 对象访问响应头外，还可以将 Response 当作一个只读数据流，其中最为主要的是 <code>http.ServerResponse</code> 所提供的类方法：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>response.statusCode</td>
<td>HTTP 响应状态码</td>
</tr>
<tr>
<td>2</td>
<td>response.headers</td>
<td>HTTP 响应头</td>
</tr>
<tr>
<td>3</td>
<td>response.statusMessage</td>
<td>当前消息状态</td>
</tr>
<tr>
<td>4</td>
<td>response.complete</td>
<td>是否已经接收到了完整的 HTTP 请求头信息</td>
</tr>
<tr>
<td>5</td>
<td>response.httpVersion</td>
<td>链接到服务器的HTTP 版本</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    HTTP 状态码:  200</span></span><br><span class="line"><span class="comment">    &lt;h1&gt;Hello,world!&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">    请求头: true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">http.<span class="title function_">get</span>(<span class="string">&#x27;http://localhost:8081/&#x27;</span>, <span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> body = []</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;HTTP 状态码: &quot;</span>,response.<span class="property">statusCode</span>)</span><br><span class="line"></span><br><span class="line">    response.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">chunk</span>) &#123;</span><br><span class="line">        body.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    response.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        body = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(body)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(body.<span class="title function_">toString</span>())</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;是否已经接收完整的 HTTP 信息:&quot;</span> ,response.<span class="property">complete</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="HTTP-x2F-2"><a href="#HTTP-x2F-2" class="headerlink" title="HTTP&#x2F;2"></a>HTTP&#x2F;2</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/7.node.js%20http%20server.md/2546941209175.png"><br>HTTP&#x2F;2 是于 19999 年的 HTTP 1.1 的改进版（RFC 2616）后在 2014 年 12 月由 互联网工程任务组（IETF）内的 <strong>HTTPBIS（Hypertext Transfer Protocol Bis）</strong> 小组进行开发，并由 IETF 递交给 IESG 进行讨论，在 2015 年 5 月 正式批准（RFC 7540）</p>
<p>于 HTTP 1.1 相比支持了多路复用（Multiplexing）、首部压缩（Headers）、服务推送（Server Push） 等特点，有效减少了大量的开销。</p>
<blockquote>
<p>服务器推送即允许服务器在客户端缓存中填充数据，通过服务器推送的机制来提前进行请求，但需要安装 http 2 模块</p>
<blockquote>
<p>由于 http2 是一个内置模块，与 npm 上的 http2 无关</p>
</blockquote>
</blockquote>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">node/</span><br><span class="line">├── package.json</span><br><span class="line">├── package-lock.json</span><br><span class="line">├── public</span><br><span class="line">├── src</span><br><span class="line">│   └── server.js</span><br><span class="line">└── ssl</span><br><span class="line">    ├── localhost-cert.pem</span><br><span class="line">    └── localhost-privkey.pem</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http2 = <span class="built_in">require</span>(<span class="string">&#x27;http2&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http2.<span class="title function_">createSecureServer</span>(&#123;</span><br><span class="line">    <span class="attr">key</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./ssl/localhost-privkey.pem&#x27;</span>),</span><br><span class="line">    <span class="attr">cert</span>: fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;./ssl/localhost-cert.pem&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err));</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;stream&#x27;</span>, <span class="function">(<span class="params">stream, headers</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// stream is a Duplex</span></span><br><span class="line">    stream.<span class="title function_">respond</span>(&#123;</span><br><span class="line">        <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;:status&#x27;</span>: <span class="number">200</span></span><br><span class="line">    &#125;);</span><br><span class="line">    stream.<span class="title function_">write</span>(<span class="string">&quot;&lt;h1&gt;Hello,world!&lt;/h1&gt;&quot;</span>)</span><br><span class="line">    stream.<span class="title function_">end</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8443</span>);</span><br></pre></td></tr></table></figure>

<p>之后即可通过 <a target="_blank" rel="noopener" href="https://localhost:8443/">https://localhost:8443/</a> 直接进行访问，当然由于使用了 ssl 的原因 node 关闭了 <code>http</code> 的访问，因此只可以通过 <code>https</code> 进行，如果是自己生成的证书可能会报错，点击继续访问即可。</p>
<blockquote>
<p>可直接通过 openssl 生成自己的本地证书</p>
<p>openssl req -x509 -newkey rsa:2048 -nodes -sha256 -subj ‘&#x2F;CN&#x3D;localhost’ <br>  -keyout localhost-privkey.pem -out localhost-cert.pem
 </p>
</blockquote>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/6.Node.js File System/">Node.js File System</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>Node.js fs(file system) 即是内置的文件系统模块，用于负责文件的到做以及读取等，可通过 <code>console fs = require(&quot;fs&quot;)</code> 直接进行引入，因此为了更详细的分清该模块所提供的 API，主要分为：“文件属性读写、文件内容读写、文件操作” 等三种。</p>
<blockquote>
<p>fs 模块所提供的方法最大不同之处在于同时还提供了 <strong>异步、同步</strong> 两个方法，这体现在了 <code>fs.readFile()</code> 和 <code>fs.readFileSync()</code></p>
<blockquote>
<figure class="highlight plaintext"><figcaption><span>options], callback)```  异步读取文件的全部内容</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">```fs.readFileSync(path[, options])``` 用于返回 path 内容即同步</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">| Id  |                          Name                           |                                        Info                                         |                         Type                         |</span><br><span class="line">| --- | ------------------------------------------------------- | ----------------------------------------------------------------------------------- | ---------------------------------------------------- |</span><br><span class="line">| 1   | fs.readFile(path[, options], callback)                  | 用于异步读取文件                                                                     | 文件内容读写                                          |</span><br><span class="line">| 2   | fs.readFileSync(path[, options])                        | 同步读取文件                                                                         | 文件内容读写                                          |</span><br><span class="line">| 3   | fs.read(fd, buffer, offset, length, position, callback) | 在异步模式下更加合理的读取文件                                                        | 文件内容读写                                          |</span><br><span class="line">|     | fd                                                      | 通过 ```fs.open()``` 所返回的文件描述                                                 |                                                      |</span><br><span class="line">|     | buffer                                               | 数据写入缓冲区                                                                       |                                                      |</span><br><span class="line">|     | offset                                               | 缓冲区写入数据写入的偏移量                                                            |                                                      |</span><br><span class="line">|     | length                                               | 需要读取的字节数                                                                     |                                                      |</span><br><span class="line">|     | position                                             | 文件读取的起始位置                                                                   |                                                      |</span><br><span class="line">|     | callback                                             | 回调函数                                                                            |                                                      |</span><br><span class="line">|     |                                                      | err                                                                                 | 返回错误信息                                          |</span><br><span class="line">|     |                                                      | bytesRead                                                                           | 所读取的字节数                                        |</span><br><span class="line">|     |                                                      | buffer                                                                              | 缓冲区对象                                            |</span><br><span class="line">| 4   | fs.open(path[, flags[, mode]], callback)                | 异步打开文件                                                                             | 底层文件操作                                            |</span><br><span class="line">|     | path                                                    | 文件路径                                                                                 |                                                         |</span><br><span class="line">|     | flags                                                   | 文件的打开行为                                                                           |                                                         |</span><br><span class="line">|     |                                                         | ```a```                                                                                  | 如果文件不存在则创建文件                                |</span><br><span class="line">|     |                                                         | ```ax```                                                                                 | 在 ```a``` 的基础上，如果文件路径不存在，就失败         |</span><br><span class="line">|     |                                                         | ```a+```                                                                                 | 如果文件不存在就创建                                    |</span><br><span class="line">|     |                                                         | ```ax+```                                                                                | 在 ```a+``` 的基础上，如果文件路径不存在，则读取失败    |</span><br><span class="line">|     |                                                         | ```r```                                                                                  | 以读取的方式打开文件，如果文件不存在则异常              |</span><br><span class="line">|     |                                                         | ```r+```                                                                                 | 以读写模式打开文件，如果文件不存在就抛出异常            |</span><br><span class="line">|     |                                                         | ```rs```                                                                                 | 以同步的方式读取文件                                    |</span><br><span class="line">|     |                                                         | ```rs+```                                                                                | 以同步的方式读取和写入文件                              |</span><br><span class="line">|     |                                                         | ```w```                                                                                  | 以写入模式打开文件，文件不存在则创建                    |</span><br><span class="line">|     |                                                         | ```wx```                                                                                 | 在 ```w``` 的基础上，如果文件路径存在，文件将会写入失败 |</span><br><span class="line">|     |                                                         | ```w+```                                                                                 | 以读写模式打开文件，如果文件不存在则创建                |</span><br><span class="line">|     |                                                         | ```wx+```                                                                                | 在 ```w+``` 的基础上，如果文件路径存在，则文件写入失败  |</span><br><span class="line">|     | mode                                                    | 打开的权限                                                                               |                                                         |</span><br><span class="line">|     | callback                                                | 回调参数                                                                                 |                                                         |</span><br><span class="line">| 5   | fs.writeFile(file, data[, options], callback)           | 通过异步的方式写入文件                                                                   | 文件内容读写                                            |</span><br><span class="line">|     | file                                                    | 文件名                                                                                   |                                                         |</span><br><span class="line">|     | data                                                    | 需要写入的数据                                                                           |                                                         |</span><br><span class="line">|     | options                                                 | 一个参数对象，包含了编码模式（utf-8）以及 flags（w，写入模式打开文件，文件不存在则创建） |                                                         |</span><br><span class="line">| 6   | fs.writeFileSync()                                      | 通过同步的方式写入文件                                                                   | 文件内容读写                                            |</span><br><span class="line">| 7   | fs.stat()                                               | 用于读取文件属性                                                                         | 文件属性读写                                            |</span><br><span class="line">## readFile at readFileSync 读取文件</span><br><span class="line">### fs.readFile()</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line"></span><br><span class="line">fs.readFile(&#x27;data.txt&#x27;, &#x27;utf-8&#x27;, function (err, data) &#123;</span><br><span class="line">   if (err) &#123;</span><br><span class="line">       console.log(err)</span><br><span class="line">   &#125; else &#123;</span><br><span class="line">       // File system!</span><br><span class="line">       console.log(data.toString())</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</blockquote>
</blockquote>
<blockquote>
<p>data.txt</p>
<blockquote>
<p>File system!</p>
</blockquote>
</blockquote>
<figure class="highlight plaintext"><figcaption><span>与 ```fs.readFileSync()``` 的主要区别就是一个支持异步而另一个仅仅是同步方法，这主要可以根据其 ```callback()``` 就可以分辨出两者的作用与功能上的区分。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这主要涉及到 ```err``` 和 ```data``` 两个参数，后者为 ```undefined```，也就是其 ```path``` 内的数据以字符串的形式进行读取，当发生错误时将会输出 ```err``` 对象。</span><br><span class="line"></span><br><span class="line">### fs.readFIleSync()</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line"></span><br><span class="line">var data = fs.readFileSync(&#x27;data.txt&#x27;, &#x27;utf-8&#x27;)</span><br><span class="line"></span><br><span class="line">// File system!</span><br><span class="line">console.log(data)</span><br></pre></td></tr></table></figure>

<p>通常默认情况下单个 <code>fs.readFIleSync()</code> 参数是不支持输出错误的，因此我们还需要输出函数的方式输出数据，可配合 <code>try...catch</code> 的方式来实现错误输出：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> data = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="fs-read-fd-buffer-offset-length-position-callback-at-fs-open-and-fs-close"><a href="#fs-read-fd-buffer-offset-length-position-callback-at-fs-open-and-fs-close" class="headerlink" title="fs.read(fd, buffer, offset, length, position, callback) at fs.open and fs.close"></a>fs.read(fd, buffer, offset, length, position, callback) at fs.open and fs.close</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>fs.read(fd, buffer, offset, length, position, callback)</td>
<td>在异步模式下更加合理的读取文件</td>
<td>文件内容读写</td>
</tr>
<tr>
<td></td>
<td>fd</td>
<td>通过 <code>fs.open()</code> 所返回的文件描述</td>
<td></td>
</tr>
<tr>
<td></td>
<td>buffer</td>
<td>数据写入缓冲区</td>
<td></td>
</tr>
<tr>
<td></td>
<td>offset</td>
<td>缓冲区写入数据写入的偏移量</td>
<td></td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>需要读取的字节数</td>
<td></td>
</tr>
<tr>
<td></td>
<td>position</td>
<td>文件读取的起始位置</td>
<td></td>
</tr>
<tr>
<td></td>
<td>callback</td>
<td>回调函数</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>err</td>
<td>返回错误信息</td>
</tr>
<tr>
<td></td>
<td></td>
<td>bytesRead</td>
<td>所读取的字节数</td>
</tr>
<tr>
<td></td>
<td></td>
<td>buffer</td>
<td>缓冲区对象</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><figcaption><span>可用于更加合理的文件操作，这其中主要包括了 **文件打开 -> 文件写入 —> 文件读取 -> 关闭文件** 的整一套流程，让整个对文件的操作更加合理和直观</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line">const buf = new Buffer.alloc(1024)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">    准备打开文件</span><br><span class="line">    文件打开成功</span><br><span class="line">    开始准备读取文件</span><br><span class="line">    文件内容为： Hello, File system</span><br><span class="line">    文件关闭成功</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">console.log(&quot;准备打开文件&quot;)</span><br><span class="line"></span><br><span class="line">fs.open(&#x27;data.txt&#x27;, &#x27;r+&#x27;, function (err,fd) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        console.log(err)</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&#x27;文件打开成功\n开始准备读取文件&#x27;)</span><br><span class="line">    fs.read(fd, buf, 0, buf.length, 0, function (err, bytesRead) &#123;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            console.log(err)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (bytesRead&gt;0) &#123;</span><br><span class="line">            console.log(&#x27;文件内容为：&#x27;,buf.slice(0,bytesRead).toString())</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fs.close(fd, function (err) &#123;</span><br><span class="line">            if (err) &#123;</span><br><span class="line">                console.log(err)</span><br><span class="line">            &#125;</span><br><span class="line">            console.log(&#x27;文件关闭成功&#x27;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="fs-open"><a href="#fs-open" class="headerlink" title="fs.open()"></a>fs.open()</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>fs.open(path[, flags[, mode]], callback)</td>
<td>异步打开文件</td>
<td>底层文件操作</td>
</tr>
<tr>
<td></td>
<td>path</td>
<td>文件路径</td>
<td></td>
</tr>
<tr>
<td></td>
<td>flags</td>
<td>文件的打开行为</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>a</code></td>
<td>如果文件不存在则创建文件</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>ax</code></td>
<td>在 <code>a</code> 的基础上，如果文件路径不存在，就失败</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>a+</code></td>
<td>如果文件不存在就创建</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>ax+</code></td>
<td>在 <code>a+</code> 的基础上，如果文件路径不存在，则读取失败</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>r</code></td>
<td>以读取的方式打开文件，如果文件不存在则异常</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>r+</code></td>
<td>以读写模式打开文件，如果文件不存在就抛出异常</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>rs</code></td>
<td>以同步的方式读取文件</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>rs+</code></td>
<td>以同步的方式读取和写入文件</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>w</code></td>
<td>以写入模式打开文件，文件不存在则创建</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>wx</code></td>
<td>在 <code>w</code> 的基础上，如果文件路径存在，文件将会写入失败</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>w+</code></td>
<td>以读写模式打开文件，如果文件不存在则创建</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>wx+</code></td>
<td>在 <code>w+</code> 的基础上，如果文件路径存在，则文件写入失败</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 文件打开成功</span></span><br><span class="line">fs.<span class="title function_">open</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;r+&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, fd</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;文件打开成功&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="fs-writeFile"><a href="#fs-writeFile" class="headerlink" title="fs.writeFile()"></a>fs.writeFile()</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>fs.writeFile(file, data[, options], callback)</td>
<td>通过异步的方式写入文件</td>
<td>文件内容读写</td>
</tr>
<tr>
<td></td>
<td>file</td>
<td>文件名</td>
<td></td>
</tr>
<tr>
<td></td>
<td>data</td>
<td>需要写入的数据</td>
<td></td>
</tr>
<tr>
<td></td>
<td>options</td>
<td>一个参数对象，包含了编码模式（utf-8）以及 flags（w，写入模式打开文件，文件不存在则创建）</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写入成功： Hello, File system</span></span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;data.txt&#x27;</span>, data, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> write = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;写入成功：&#x27;</span> ,write)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="fs-writeFileSync"><a href="#fs-writeFileSync" class="headerlink" title="fs.writeFileSync()"></a>fs.writeFileSync()</h4><p>.<code>fs.writeFileSync()</code> 是 <code>fs.writeFile()</code> 的同步方法，同样也可以使用 <code>try...catch</code> 来支持返回 <code>err</code> 信息。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&quot;Hello, File system&quot;</span></span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">open</span>(<span class="string">&#x27;data.txt&#x27;</span>,<span class="string">&#x27;r+&#x27;</span>, <span class="keyword">function</span> (<span class="params">err,fd</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fs.<span class="title function_">writeFileSync</span>(<span class="string">&#x27;data.txt&#x27;</span>, data)</span><br><span class="line">					<span class="comment">// 写入成功 Hello, File system</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;写入成功&#x27;</span>, data )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="获取文件属性-fs-stat"><a href="#获取文件属性-fs-stat" class="headerlink" title="获取文件属性 (fs.stat())"></a>获取文件属性 (fs.stat())</h2><p>“获取文件属性”是指文件的大小、创建时间、修改时间等信息，可以通过 <code>fs.stat(path[, options], callback)</code> 来进行实现，在这个方法中存在着 <code>fs.stats</code> 类，用于获取文件的属性，常用的为：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>stat.isFile()</td>
<td>是否是文件</td>
</tr>
<tr>
<td>2</td>
<td>stat.isDirectory()</td>
<td>是否是目录</td>
</tr>
<tr>
<td>3</td>
<td>stat.size()</td>
<td>文件大小（以字节为单位）</td>
</tr>
<tr>
<td>4</td>
<td>stat.birthtime()</td>
<td>创建时间</td>
</tr>
<tr>
<td>5</td>
<td>stat.mtime()</td>
<td>修改时间</td>
</tr>
<tr>
<td>6</td>
<td>stat.ctime()</td>
<td>最后一次更改时间</td>
</tr>
<tr>
<td>7</td>
<td>stat.atimeMS()</td>
<td>最后一次访问时间</td>
</tr>
<tr>
<td>8</td>
<td>stat.mtimeMS()</td>
<td>最后一次修改时间</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    是否是文件: true</span></span><br><span class="line"><span class="comment">    文件大小: 18</span></span><br><span class="line"><span class="comment">    创建时间: 2021-09-01T02:23:04.637Z</span></span><br><span class="line"><span class="comment">    修改时间: 2021-09-01T02:23:04.637Z</span></span><br><span class="line"><span class="comment">    最后访问: 2021-09-01T02:23:04.949Z</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.<span class="title function_">stat</span>(<span class="string">&#x27;data.txt&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, stat</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;是否是文件:&quot;</span>, stat.<span class="title function_">isFile</span>())</span><br><span class="line">        <span class="keyword">if</span> (stat.<span class="title function_">isFile</span>()) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;文件大小:&#x27;</span>, stat.<span class="property">size</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;创建时间:&#x27;</span>, stat.<span class="property">birthtime</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;修改时间:&#x27;</span>, stat.<span class="property">mtime</span>) <span class="comment">// stat.ctime</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;最后一次访问时间:&#x27;</span>, stat.<span class="property">atime</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/5.Node.js Buffer/">Node.js Buffer</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<h2 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h2><p>缓冲区是内存区域，和直接与内存交互的编程语言 C、C++、Go 等相比，JavaScript 对这个操作很微乎其微，因此为了实现与内存区域打交道，Buffer 由此而生。</p>
<h3 id="Buffer-class"><a href="#Buffer-class" class="headerlink" title="Buffer class"></a>Buffer class</h3><p>Buffer 类主要的作用就是一个专门用于存放二进制数据的缓存区，是 Node 专门定义的一个类，用于弥补 JavaScript 自由的字符串类型无法满足大量二进制数据处理。</p>
<p>Buffer 是 Node 的一个核心库，因此为 Node 带来了另一种原始的数据存储方法（二进制），让 Node 处理 二进制数据。</p>
<p>所以 Buffer 库主要的用处就是需要 Node 处理 I&#x2F;O 的时候，就可以通过 Buffer 库进行一个处理，当然也可以进行字符编码或数据类型的转换。</p>
<p>缓冲区可以通过使用 <code>Buffer.[form(),alloc(),allocUnsafe()]</code> 方法进行构建，这也涉及到了 Buffer 方法：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>buffer.alloc</td>
<td>可以创建任意大小的缓存区</td>
<td>type</td>
</tr>
<tr>
<td>2</td>
<td>buffer.from(arrayBuffer[, byteOffset[, length])</td>
<td>能够通过字符串、缓冲区、数组等方式创建缓存区</td>
<td>type</td>
</tr>
<tr>
<td></td>
<td>byteOffset</td>
<td>需要暴露的地一个索引值</td>
<td></td>
</tr>
<tr>
<td></td>
<td>length</td>
<td>暴露的字节数</td>
<td></td>
</tr>
<tr>
<td>0x1</td>
<td>buffer.byteLength()</td>
<td>查询字节长度</td>
<td>method</td>
</tr>
<tr>
<td>0x2</td>
<td>buffer.compare(target[,target1,target..])</td>
<td>比较两个缓冲区（buffer）对象是否相等，并返回 -1、0、1</td>
<td>method</td>
</tr>
<tr>
<td></td>
<td>0</td>
<td>与 target 相等返回 <code>0</code></td>
<td></td>
</tr>
<tr>
<td></td>
<td>1</td>
<td>如果 target 的 size 不同以及 fill 相等，则返回 <code>1</code></td>
<td></td>
</tr>
<tr>
<td></td>
<td>-1</td>
<td>如果 target 的 fill 不相等，则返回 <code>-1</code></td>
<td></td>
</tr>
<tr>
<td>0x3</td>
<td>buffer.concat</td>
<td>将一个或多个缓存区对象合并为一个对象，合并后可以获取新的对象长度</td>
<td>method</td>
</tr>
<tr>
<td>0x4</td>
<td>buffer.entries()</td>
<td>用于返回缓冲区的 <code>[index,byte]</code></td>
<td>method</td>
</tr>
<tr>
<td>0x5</td>
<td>buffer.fill()</td>
<td>用于缓冲区填充</td>
<td>method</td>
</tr>
<tr>
<td>0x6</td>
<td>buffer.includes(values)</td>
<td>用于判断 values 是否在缓冲区（buffer）中</td>
<td>method</td>
</tr>
<tr>
<td>0x7</td>
<td>buffer.isEncoding</td>
<td>判断 Buffer 目前所支持的编码名称</td>
<td>method</td>
</tr>
<tr>
<td>0x8</td>
<td>buf.slice(start[,end])</td>
<td>用于将 buffe 内的 fill 进行切片</td>
<td>method</td>
</tr>
<tr>
<td>0x9</td>
<td>buf.toJSON()</td>
<td>将数据输出为 JSON 格式</td>
<td>method</td>
</tr>
<tr>
<td>0x10</td>
<td>buf.write(string[,offset,length,encoding])</td>
<td>将 string 写入 buffer 中</td>
<td>method</td>
</tr>
</tbody></table>
<h4 id="buffer-alloc"><a href="#buffer-alloc" class="headerlink" title="buffer.alloc"></a>buffer.alloc</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &lt;Buffer 01 01 01 01 01 01 01 01 01 01&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回字节的长度</span></span><br><span class="line"><span class="keyword">var</span> buflen = <span class="title class_">Buffer</span>.<span class="title function_">byteLength</span>(buf)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buflen)</span><br></pre></td></tr></table></figure>

<p>创建一个大小为 10 的缓存区，且用 <code>1</code> 进行填充，并通过 <code>Buffer.byteLength</code> 来查询字节的长度。</p>
<blockquote>
<p>与 <code>length</code> 的区别是 <code>byteLength</code> 不会考虑用于将字符串转换为字节编码</p>
</blockquote>
<h4 id="buffer-fill-arrayBuffer-byteOffset-length"><a href="#buffer-fill-arrayBuffer-byteOffset-length" class="headerlink" title="buffer.fill(arrayBuffer[, byteOffset[, length])"></a>buffer.fill(arrayBuffer[, byteOffset[, length])</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过 Unit8Array 创建一个数组</span></span><br><span class="line"><span class="keyword">const</span> arrA = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arrB = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(arrA.<span class="property">buffer</span>, <span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(arrB.<span class="property">buffer</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// abcd</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="title function_">toString</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">const</span> buff = <span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buff.<span class="title function_">toString</span>())</span><br></pre></td></tr></table></figure>

<h5 id="buf-toJSON"><a href="#buf-toJSON" class="headerlink" title="buf.toJSON()"></a>buf.toJSON()</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过 Unit8Array 创建一个数组</span></span><br><span class="line"><span class="keyword">const</span> arrA = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arrB = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(arrA.<span class="property">buffer</span>, <span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(arrB.<span class="property">buffer</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; type: &#x27;Buffer&#x27;, data: [ 97, 98, 99, 100 ] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="title function_">toJSON</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">const</span> buff = <span class="title class_">Buffer</span>.<span class="title function_">from</span>([<span class="number">0x61</span>, <span class="number">0x62</span>, <span class="number">0x63</span>, <span class="number">0x64</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buff.<span class="title function_">toJSON</span>())</span><br></pre></td></tr></table></figure>

<h4 id="buffer-compare-target-target1-target…"><a href="#buffer-compare-target-target1-target…" class="headerlink" title="buffer.compare(target[,target1,target…])"></a>buffer.compare(target[,target1,target…])</h4><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>0x2</td>
<td>buffer.compare(target[,target1,target..])</td>
<td>比较两个缓冲区（buffer）对象是否相等，并返回 -1、0、1</td>
</tr>
<tr>
<td></td>
<td>0</td>
<td>与 target 相等返回 <code>0</code></td>
</tr>
<tr>
<td></td>
<td>1</td>
<td>如果 target 的 size 不同以及 fill 相等，则返回 <code>1</code></td>
</tr>
<tr>
<td></td>
<td>-1</td>
<td>如果 target 的 fill 不相等，则返回 <code>-1</code></td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf1 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="keyword">var</span> com = <span class="title class_">Buffer</span>.<span class="title function_">compare</span>(buf1,buf2)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(com)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf3 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">const</span> buf4 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// -1</span></span><br><span class="line"><span class="keyword">var</span> com1 = <span class="title class_">Buffer</span>.<span class="title function_">compare</span>(buf3,buf4)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(com1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf5 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> buf6 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="keyword">var</span> com2 = <span class="title class_">Buffer</span>.<span class="title function_">compare</span>(buf5,buf6)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(com2)</span><br></pre></td></tr></table></figure>

<h4 id="buffer-concat"><a href="#buffer-concat" class="headerlink" title="buffer.concat()"></a>buffer.concat()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> buf1 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [buf, buf1, buf2]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> con = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 &lt;Buffer 00 00 00 00 00&gt;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">byteLength</span>(con), con)</span><br></pre></td></tr></table></figure>

<h4 id="buffer-entries"><a href="#buffer-entries" class="headerlink" title="buffer.entries()"></a>buffer.entries()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;hello,world!&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 0, 104 ]</span></span><br><span class="line"><span class="comment">    [ 1, 101 ]</span></span><br><span class="line"><span class="comment">    [ 2, 108 ]</span></span><br><span class="line"><span class="comment">    [ 3, 108 ]</span></span><br><span class="line"><span class="comment">    [ 4, 111 ]</span></span><br><span class="line"><span class="comment">    [ 5, 44 ]</span></span><br><span class="line"><span class="comment">    [ 6, 119 ]</span></span><br><span class="line"><span class="comment">    [ 7, 111 ]</span></span><br><span class="line"><span class="comment">    [ 8, 114 ]</span></span><br><span class="line"><span class="comment">    [ 9, 108 ]</span></span><br><span class="line"><span class="comment">    [ 10, 100 ]</span></span><br><span class="line"><span class="comment">    [ 11, 33 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> point <span class="keyword">of</span> buf.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(point)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 104</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><figcaption><span>与直接通过 ```buf[0]``` 这种逐一输出更加的方便和快捷。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#### buffer.fill</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const buf = Buffer.alloc(5).fill(&#x27;hello&#x27;)</span><br><span class="line"></span><br><span class="line">// hello</span><br><span class="line">console.log(buf.toString())</span><br><span class="line"></span><br><span class="line">// or</span><br><span class="line">const buf2 = Buffer.alloc(5,&#x27;hello&#x27;)</span><br><span class="line">console.log(buf2.toString())</span><br></pre></td></tr></table></figure>


<h4 id="buffer-includes-values"><a href="#buffer-includes-values" class="headerlink" title="buffer.includes(values)"></a>buffer.includes(values)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;This is Buffer&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// true false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="title function_">includes</span>(<span class="string">&#x27;is&#x27;</span>), buf.<span class="title function_">includes</span>(<span class="string">&#x27;as&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h4 id="buf-slice-start-end"><a href="#buf-slice-start-end" class="headerlink" title="buf.slice(start[,end])"></a>buf.slice(start[,end])</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;abcd&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> sli = buf.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ab</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sli.<span class="title function_">toString</span>())</span><br></pre></td></tr></table></figure>

<h4 id="buf-write-string-offset-length-encoding"><a href="#buf-write-string-offset-length-encoding" class="headerlink" title="buf.write(string[,offset,length,encoding])"></a>buf.write(string[,offset,length,encoding])</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">6</span>);</span><br><span class="line"><span class="keyword">const</span> len = buf.<span class="title function_">write</span>(<span class="string">&#x27;buffer&#x27;</span>,<span class="number">0</span>,<span class="number">6</span>, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`byte: <span class="subst">$&#123;buf&#125;</span> length: <span class="subst">$&#123;len&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>

<h3 id="字符编码转换"><a href="#字符编码转换" class="headerlink" title="字符编码转换"></a>字符编码转换</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buffer = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&#x27;hello,world!&#x27;</span>, <span class="string">&#x27;ascii&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer.<span class="title function_">toString</span>(<span class="string">&#x27;ascii&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 104 101 108 108</span></span><br><span class="line"><span class="comment"> * h -&gt; 104</span></span><br><span class="line"><span class="comment"> * e -&gt; 101</span></span><br><span class="line"><span class="comment"> * l -&gt; 108</span></span><br><span class="line"><span class="comment"> * l -&gt; 108</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buffer[<span class="number">0</span>],buffer[<span class="number">1</span>],buffer[<span class="number">2</span>],buffer[<span class="number">3</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>缓冲区是一个字节数据，因此可以像数组一样进行访问，除此它还支持数种编码的转换：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>uft8 （utf-8）</td>
<td>多字节的 Unicode 字符，许多网页和玩文档格式使用 <code>UFT-8</code> 也是 <strong>默认的字符编码</strong>（当 buffer 解码过程中如果 UTF-8 不是有效字符，将会以 unicode 替换字符 � 用于表示错误）</td>
<td>字符串</td>
</tr>
<tr>
<td>2</td>
<td>utf16le（utf-16le）</td>
<td>多字节编码的 Unicode 字符，与 utf8 不同的是字符串中每个字符都将使用 <strong>2个或4个</strong> 字节进行编码</td>
<td>字符串</td>
</tr>
<tr>
<td>3</td>
<td>latin1 （Latin-1）</td>
<td>即 ISO-8859-1 ，因此此编码仅支持 <strong>U+0000～U+00FF</strong> 的 Unicode 字符，每个字符都将使用单字节进行编码（一种一字节的字符串方式）</td>
<td>字符串</td>
</tr>
<tr>
<td>4</td>
<td>base64</td>
<td>一种基于 64 个可打印字符来表示二进制数据的方法，可打印的字母 <strong>a-z\A-Z</strong> 以及数字 <strong>0-9</strong>，此外还包含空白字符（空格、制表符或换行符）会被 buffer 忽略</td>
<td>二进制</td>
</tr>
<tr>
<td>5</td>
<td>base64url</td>
<td>一个对 base64 标准的修改，其目的是能将编码结果用于文件名或 URL 地址，当字符串通过 buffer 时，base64url 也将接受常规的 base64 编码转换。</td>
<td>二进制</td>
</tr>
<tr>
<td>6</td>
<td>hex（16 进制）</td>
<td>将每个字节转换为十六进制字符</td>
<td>二进制</td>
</tr>
<tr>
<td>7</td>
<td>ascii</td>
<td>仅用于 7 位数的 ASCII 数据，当通过 buffer 时，将会等效于 Lantin-1</td>
<td>旧字符</td>
</tr>
<tr>
<td>8</td>
<td>binary (Lation-1)</td>
<td>Lation-1 的别名，通过此编码列出的所有编码都会在字符串和二进制之间转换</td>
<td>旧字符</td>
</tr>
<tr>
<td>9</td>
<td>ucs2（utf-16le）</td>
<td>uft-16le 的别名，泛指 UTF-16 的一种变体，此编码不支持大于 U+FFFF 的字符</td>
<td>旧字符</td>
</tr>
</tbody></table>
<blockquote>
<p>可以通过使用 <code>buffer.isEncoding	</code> 方法来进行判断 Buffer 是否支持该编码类型。</p>
</blockquote>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/4.Node.js Model 引入流程/">Node.js Model 引入流程</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>Node model 可以相互进行调用，Node.js 为此提供了一个简单的模块系统，这可以内置的也可以是通过 <code>npm</code> 进行安装的，因此 Node.js 提供了 <code>exports</code> 和 <code>require</code> 两个对象，其中 <code>exports</code> 用于模块公开的接口，而 <code>require</code> 则用于获取模块的 <code>exports</code> 对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setName</span> = <span class="keyword">function</span> (<span class="params">thyName</span>) &#123;</span><br><span class="line">        name = thyName;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHello</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hey,&#x27;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title class_">Hello</span>;</span><br></pre></td></tr></table></figure>

<p>通过 <code>exports</code> 对象将 <code>Hello</code> 对象本身，因此在通过 <code>require</code> 对象进行引入的时候，就会输出 Hello 函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Hello</span> = <span class="built_in">require</span>(<span class="string">&#x27;./modelName&#x27;</span>)</span><br><span class="line">hello = <span class="keyword">new</span> <span class="title class_">Hello</span>()</span><br><span class="line">hello.<span class="title function_">setName</span>(<span class="string">&#x27;This is vievs file!&#x27;</span>)</span><br><span class="line">hello.<span class="title function_">sayHello</span>()</span><br></pre></td></tr></table></figure>

<p>在 Node.js 模块中，模块主要分为 <strong>核心模块</strong>，这是 Node.js 所提供的模块，而另一个则是用户所编写的模块，被称之为 <strong>文件模块</strong>。这之间的区别就是核心模块部分在 Node 编译的过程中，同时编译了二进制的执行文件，所以在 Node 进程启动时，核心模块就会被加载到内存中，因此和因模块在引入的时候，文件定位以及编译执行就会被省略掉。</p>
<p>但用户所编写的文件模块则需要通过 <strong>查找路径，文件定位，编译执行</strong> 这三个流程，并在运行时进行动态加载，因此比较慢。所以和核心模块比起来，速度是自然赶不上人家内置的。</p>
<h2 id="require-文件查找策略"><a href="#require-文件查找策略" class="headerlink" title="require 文件查找策略"></a>require 文件查找策略</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/4.node.js%20model.md/5142988836618.png"></p>
<h3 id="文件缓存区"><a href="#文件缓存区" class="headerlink" title="文件缓存区"></a>文件缓存区</h3><p>对于 require 的文件缓存区主要的作用就是会优先从文件模块中加载已经存在的模块这也就说明了 Node 对引入过的模块都会进行缓存，以减少第二次使用时的加载时间。</p>
<p>但与浏览器缓存静态脚本文件不同的是，Node.js 所缓存的是编译之后的对象，无论是核心模块还是文件模块，对于二次加载都一律采用缓存优先的方式进行。</p>
<blockquote>
<p>不同之处在于核心模块的检查优于文件模块的缓存检查</p>
</blockquote>
<h3 id="原生模块加载"><a href="#原生模块加载" class="headerlink" title="原生模块加载"></a>原生模块加载</h3><p>原生模块的加载仅次于检查文件缓存区是否存在，因此通过 <code>require</code> 解析完文件名之后，检查该模块是否在原生模块中。</p>
<p>如 <code>http</code> 模块，虽然会在项目目录下存在 <code>http/http.js/http.node/http.json</code> 文件，但 <code>http</code> 模块不会从这些文件中加载，而是从原生模块中进行加载。</p>
<p>因此原生模块内同样有也有一个缓存区，如缓存区没有被加载过，就会调用原生模块的加载方式进行加载和执行。</p>
<h3 id="文件加载"><a href="#文件加载" class="headerlink" title="文件加载"></a>文件加载</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/javascript/node.js/4.node.js%20model.md/3951420721462.png"></p>
<p>当文件模块在缓存中并不存在是，而且还是原生模块的时候，<code>require</code> 方法所传入的参数就会被 Node.js 解析，并从文件系统中加载到实际的文件。对于没一个被加载的文件模块，创建这个模块对象的时候就会生成一个 <code>paths</code> 属性，也就是 <code>/node_modules</code>，因此我们可以直接通过 <code>console.log(module.paths)</code> 来根据当前文件的路径计算得到 <code>module path</code>。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ &#x27;/home/kunlun/Development/Web/Demo/node/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/Development/Web/Demo/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/Development/Web/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/Development/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/kunlun/node_modules&#x27;,</span><br><span class="line">  &#x27;/home/node_modules&#x27;,</span><br><span class="line">  &#x27;/node_modules&#x27; ]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>从当前文件目录内开始查找 <code>node_modules</code> 目录，然后依次进入查找父目录下的 <code>node_modules</code>，以此循环迭代到根目录下的 <code>node_modules</code> 目录。</p>
</blockquote>
<p>如果 &#96;&#96;&#96;require&#96;&#96; 指向的是绝对路径的文件，查找时就直接作为当前的路径进行使用，如果不是则进入查找的流程。以 module_path 中取出地一个目录作为查找的基准：</p>
<ol>
<li>直接尝试从当前目录进行查找，如果存在则结束流程，反而继续进行查找，并进入下一阶段</li>
<li>尝试添加扩展名后缀进行查找，如果存在就结束查找，否则进入下一个阶段</li>
<li>尝试将 require 的参数作为一个包进行查找，读取项目目录下的 <code>package.json</code> 文件</li>
<li>尝试添加扩展名或查找文件，如果存在就结束流程，否则进入下一个阶段</li>
<li>如果继续失败，则取出 module path 中下一个目录作为查找的基准，循环 1～5 步骤</li>
<li>如果仍然失败，则一直循环 1～6 步骤，知道 module path 中最后一个值</li>
<li>如果持续失败，则抛出异常。</li>
</ol>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/node/3.Node.js at ECMAScript 6/">Node.js at ECMAScript</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/node-js/" rel="tag">node.js</a>
			</span>
		
	</div>

	

	
		<p>首先我们需要知道 <strong>ECMAScript</strong> 是一种由 Ecma 国际（Ecma International）根据其标准定义的脚本语言规范，主要在 JavaScript 上运用广泛，而 ECMAScript 是在 2015 年 6 月所正式发布，这使得 JavaScript 可以用来编写复杂的大型应用程序，成为企业级开发语言。</p>
<blockquote>
<p>ECMAScript 前身为欧洲计算机制造商协会（European Computer Manufacturers Association，ECMA），是一个国际性会员制度的信息和电信标准组织。</p>
</blockquote>
<p>因此遵循 ES6 中的 JS 语法也是 Node.js 基础之一，因为 Node.js 本质上还是 JavaScript 所以通过了解并学习 ES6 中的方法可以快速掌握 JS。</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>array.push()</code></td>
<td>将一个或多个元素添加到数组的末尾，并返回数组的长度</td>
</tr>
<tr>
<td>2</td>
<td><code>array.pop()</code></td>
<td>删除最后一个访问最后一个数组</td>
</tr>
<tr>
<td>3</td>
<td><code>array.shift()</code></td>
<td>删除第一个数组，并返回删除后的第一个数组</td>
</tr>
<tr>
<td>4</td>
<td><code>arry.shift()</code></td>
<td>从数组起始位置添加元素，并返回添加后的长度</td>
</tr>
<tr>
<td>5</td>
<td><code>array.splice(start,deleteCount)</code></td>
<td>根据数组的索引删除数组，并返回删除的元素</td>
</tr>
<tr>
<td>6</td>
<td><code>array.concat()</code></td>
<td>将数组合并</td>
</tr>
<tr>
<td>7</td>
<td><code>array.split())</code></td>
<td>用于将字符串形式转为数组</td>
</tr>
<tr>
<td>8</td>
<td><code>array.sort()</code></td>
<td>通过原地算法对数组进行排序，返回数组（根据 <strong>UTF-16</strong> 代码值进行排序）</td>
</tr>
<tr>
<td>9</td>
<td><code>array.reverse()</code></td>
<td>将方法数组中的元素颠倒，并返回数组，之后原本第一个数组将会变成最后一个</td>
</tr>
<tr>
<td>10</td>
<td><code>array.slice(start, end)</code></td>
<td>删除索引值 <code>start ~ end</code> 的数组（从 0 开始）</td>
</tr>
<tr>
<td>11</td>
<td><code>array.forEach(callback(currentValue [, index [, array]])</code></td>
<td>用于遍历数组，并未每个元素执行一次函数（ <strong>与 <code>array.map</code> 的区别就是不返回数组</strong> ），该函数主要分为三个 ：</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> 索引号</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> 元素</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> 数组</td>
</tr>
<tr>
<td>12</td>
<td><code>array.map(callback(currentValue [, index [, array]])</code></td>
<td>用于遍历数组，并未每个元素执行一次函数，并返回新的数组，该函数主要分为三个 ：</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> 索引号</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> 元素</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> 数组</td>
</tr>
<tr>
<td>13</td>
<td><code>array.filter()</code></td>
<td>返回满足需要的新数组</td>
</tr>
<tr>
<td>14</td>
<td><code>array.every()</code></td>
<td>判断数组元素是否满足，并返回布尔值</td>
</tr>
<tr>
<td>15</td>
<td><code>array.some()</code></td>
<td>一句条件判断数组中元素是否满足，并返回布尔值(数组内满足一向即可)</td>
</tr>
<tr>
<td>16</td>
<td><code>arr.reduce(callback, currentValue[, index[, array]])[, initialValue])</code></td>
<td>通过定义的 reducer 函数来返回一个最终值</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>initialValue</code> 执行数组中的每个值，如果提供了，则 <code>previousValue(callback)</code> 成为第一个值，等于 initialValue</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>currentValue</code> 等于数组中的第一个值</td>
</tr>
<tr>
<td>17</td>
<td><code>Array.from()</code></td>
<td>将一个类似的数组转换为数组</td>
</tr>
<tr>
<td>18</td>
<td><code>Array.of()</code></td>
<td>将一组值转换为数组</td>
</tr>
<tr>
<td>19</td>
<td><code>array.copyWithin(target, start, end)</code></td>
<td>用于将当前位置的数组元素复制到目标位置并覆盖原来的元素</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>target</code> 为目标位置，从 0 开始</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>start</code> 是当前元素最初位置</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>end</code> 当前元素结束的位置</td>
</tr>
<tr>
<td>20</td>
<td><code>array.find(index, value, array)</code></td>
<td>用于遍历数组，并根据表达式找出符合条件的数组成员，该函数主要分为三个 ：</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> 索引号</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> 元素</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> 数组</td>
</tr>
<tr>
<td>21</td>
<td><code>array.findIndex(index, value, array)</code></td>
<td>用于遍历数组，并根据表达式找出符合条件的数组成员（ <strong>与 <code>array.find()</code> 区别在于如果未找到符合要求的则返回 “-1”</strong> ） ，该函数主要分为三个：</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>index</code> 索引号</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> 元素</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>array</code> 数组</td>
</tr>
<tr>
<td>22</td>
<td><code>array.fill(value, start, end)</code></td>
<td>通过索引来添加元素 ，该函数主要分为三个：</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>value</code> 待添加元素</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>start</code> 开始位置索引</td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>end</code> 最终位置索引</td>
</tr>
<tr>
<td>23</td>
<td><code> array.includes(Value)</code></td>
<td>判断数组中是否包含 Value，并返回布尔值</td>
</tr>
<tr>
<td>24</td>
<td><code>array.keys()</code></td>
<td>遍历数组键名</td>
</tr>
<tr>
<td>25</td>
<td><code>array.values()</code></td>
<td>遍历数组键值</td>
</tr>
<tr>
<td>26</td>
<td><code>array.entries()</code></td>
<td>遍历数组的键名和键值</td>
</tr>
</tbody></table>
<h3 id="array-push"><a href="#array-push" class="headerlink" title="array.push"></a>array.push</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">push</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// To arr add Four</span></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">&#x27;Four&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Four&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>


<h3 id="array-pop"><a href="#array-pop" class="headerlink" title="array.pop"></a>array.pop</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除最后一个元素</span></span><br><span class="line">arr.<span class="title function_">pop</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问最后一个元素：Two</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr + <span class="string">&#x27; 当前数组最后一个元素是：&#x27;</span> + arr.<span class="title function_">pop</span>())</span><br></pre></td></tr></table></figure>

<h3 id="array-shift"><a href="#array-shift" class="headerlink" title="array.shift"></a>array.shift</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除 One</span></span><br><span class="line">arr.<span class="title function_">shift</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一个元素为 Two</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr + <span class="string">&#x27; 当前数组第一个元素是：&#x27;</span> + arr.<span class="title function_">shift</span>())</span><br></pre></td></tr></table></figure>

<h3 id="array-unshift"><a href="#array-unshift" class="headerlink" title="array.unshift"></a>array.unshift</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">unshift</span>(<span class="string">&#x27;Start&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Start&#x27;, &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-splice-start-deleteCount"><a href="#array-splice-start-deleteCount" class="headerlink" title="array.splice(start,deleteCount)"></a>array.splice(start,deleteCount)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">splice</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;3&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-concat"><a href="#array-concat" class="headerlink" title="array.concat"></a>array.concat</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新增 Four,Five</span></span><br><span class="line"><span class="keyword">const</span> arr__ = [<span class="string">&#x27;Four&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 合并两个数组</span></span><br><span class="line"><span class="keyword">const</span> __arr = arr.<span class="title function_">concat</span>(arr__)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Four&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(__arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-split"><a href="#array-split" class="headerlink" title="array.split"></a>array.split</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="string">&#x27;Hello,world!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Hello,world!&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">split</span>())</span><br></pre></td></tr></table></figure>

<h3 id="array-sort"><a href="#array-sort" class="headerlink" title="array.sort()"></a>array.sort()</h3><p>采用了原地算法（in-place algorithm），即不需要借助额外的数据结构就可以对输入的数据进行变幻，而 <code>array.sort()</code> 是根据 <strong>UTF-16</strong> 代码单元值序列进行构建的，因此还是取决与代码值的顺序，无法保证排序时间和空间的复杂性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认情况下是从小到大进行排序</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">sort</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将排序顺序改为从大到小</span></span><br><span class="line"><span class="keyword">const</span> arr__ = arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> b-a);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;6&#x27;, &#x27;5&#x27;, &#x27;4&#x27;, &#x27;3&#x27;, &#x27;2&#x27;, &#x27;1&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br></pre></td></tr></table></figure>

<h3 id="array-reverse"><a href="#array-reverse" class="headerlink" title="array.reverse"></a>array.reverse</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array:  [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Array: &#x27;</span>, arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将数组反转</span></span><br><span class="line"><span class="keyword">const</span> reversed = arr.<span class="title function_">reverse</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Reverse:  [ &#x27;Five&#x27;, &#x27;Fire&#x27;, &#x27;Three&#x27;, &#x27;Two&#x27;, &#x27;One&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Reverse: &#x27;</span>, reversed)</span><br></pre></td></tr></table></figure>

<h3 id="array-forEach"><a href="#array-forEach" class="headerlink" title="array.forEach"></a>array.forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:One  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:1 value:Two  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:2 value:Three  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:3 value:Fire  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:4 value:Five  array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span>  array:`</span>, array)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:One array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:2 value:Two array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:4 value:Three array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:6 value:Fire array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment">index:8 value:Five array: [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">arr_.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    index = index * <span class="number">2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span> array:`</span>, array)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="array-map"><a href="#array-map" class="headerlink" title="array.map"></a>array.map</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:1  array: NaN</span></span><br><span class="line"><span class="comment">index:1 value:2  array: NaN</span></span><br><span class="line"><span class="comment">index:2 value:3  array: NaN</span></span><br><span class="line"><span class="comment">index:3 value:4  array: NaN</span></span><br><span class="line"><span class="comment">index:4 value:5  array: NaN</span></span><br><span class="line"><span class="comment">index:5 value:6  array: NaN</span></span><br><span class="line"><span class="comment">undefined</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> foreach = arr_.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    array = array * <span class="number">2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span>  array:`</span>, array)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foreach)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">index:0 value:1 array: NaN</span></span><br><span class="line"><span class="comment">index:1 value:2 array: NaN</span></span><br><span class="line"><span class="comment">index:2 value:3 array: NaN</span></span><br><span class="line"><span class="comment">index:3 value:4 array: NaN</span></span><br><span class="line"><span class="comment">index:4 value:5 array: NaN</span></span><br><span class="line"><span class="comment">index:5 value:6 array: NaN</span></span><br><span class="line"><span class="comment">[ undefined, undefined, undefined, undefined, undefined, undefined ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> map = arr_.<span class="title function_">map</span>(<span class="function">(<span class="params">value, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">    array = array * <span class="number">2</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`index:<span class="subst">$&#123;index&#125;</span> value:<span class="subst">$&#123;value&#125;</span> array:`</span>, array)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map)</span><br></pre></td></tr></table></figure>

<h3 id="array-filter"><a href="#array-filter" class="headerlink" title="array.filter"></a>array.filter</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ 1, 2, 3 ]</span></span><br><span class="line"><span class="keyword">let</span> starr = arr_.<span class="title function_">filter</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> i &lt;= <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(starr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27; ]</span></span><br><span class="line"><span class="keyword">let</span> starr_ = arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> v &lt;= <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(starr_)</span><br></pre></td></tr></table></figure>

<h3 id="array-slice-start-end"><a href="#array-slice-start-end" class="headerlink" title="array.slice(start,end)"></a>array.slice(start,end)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">slice</span>(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">slice</span>(<span class="number">0</span>,-<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<h3 id="array-every-i-v"><a href="#array-every-i-v" class="headerlink" title="array.every(i,v)"></a>array.every(i,v)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> ifarr = arr.<span class="title function_">every</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> v &lt; <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ifarr)</span><br></pre></td></tr></table></figure>

<h3 id="array-some-i-v"><a href="#array-some-i-v" class="headerlink" title="array.some(i,v)"></a>array.some(i,v)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> ifarr = arr.<span class="title function_">some</span>(<span class="function">(<span class="params">i,v</span>) =&gt;</span> i &lt; <span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ifarr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr_ = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_.<span class="title function_">some</span>(<span class="function"><span class="params">arr_</span> =&gt;</span> arr_ &gt;= <span class="number">10</span> ))</span><br></pre></td></tr></table></figure>

<h3 id="array-reduce-previousValue-currentValue"><a href="#array-reduce-previousValue-currentValue" class="headerlink" title="array.reduce(previousValue, currentValue)"></a>array.reduce(previousValue, currentValue)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line"><span class="keyword">let</span> arr_ = arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">previousValue, currentValue</span>) =&gt;</span></span><br><span class="line">    previousValue + currentValue,<span class="number">5</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_)</span><br></pre></td></tr></table></figure>

<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="string">&#x27;hey&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;h&#x27;, &#x27;e&#x27;, &#x27;y&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(arr))</span><br></pre></td></tr></table></figure>

<h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = <span class="string">&#x27;hey&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;hey&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">of</span>(arr))</span><br></pre></td></tr></table></figure>

<h3 id="array-copyWithin-target-start-end"><a href="#array-copyWithin-target-start-end" class="headerlink" title="array.copyWithin(target, start, end)"></a>array.copyWithin(target, start, end)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 用于将当前位置的元素复制到目标位置，并覆盖原来的元素</span></span><br><span class="line"><span class="comment"> * target 为目标位置（0为开始） ·「1」</span></span><br><span class="line"><span class="comment"> * start 是最初的位置 ·「0」</span></span><br><span class="line"><span class="comment"> * end 是结束的位置   ·「1」</span></span><br><span class="line"><span class="comment"> * [ &#x27;One&#x27;, &#x27;One&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">copyWithin</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<h3 id="array-find-index-value-array"><a href="#array-find-index-value-array" class="headerlink" title="array.find(index, value, array)"></a>array.find(index, value, array)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 根据表达式找出符合条件的数组成员</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">string</span>&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> index   索引</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> value   元素</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> array   数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> <span class="variable">One</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> arr_ = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">index, value, array</span>) =&gt;</span> <span class="function"><span class="params">index</span> =&gt;</span> <span class="number">1</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_)</span><br></pre></td></tr></table></figure>

<h3 id="array-findIndex-index-value-array"><a href="#array-findIndex-index-value-array" class="headerlink" title="array.findIndex(index, value, array)"></a>array.findIndex(index, value, array)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 根据表达式找出符合条件的数组成员，如果未找符合要求的则返回 &quot;-1&quot;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">number</span>&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> index   索引</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> value   元素</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> array   数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> -1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> arr_ = arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">index, value, array</span>) =&gt;</span> value &gt; <span class="number">199</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_)</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 根据表达式找出符合条件的数组成员</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;<span class="type">string</span>&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> index   索引</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> value   元素</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@private</span> array   数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> <span class="variable">undefined</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> arr_find = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">index, value, array</span>) =&gt;</span> value &gt; <span class="number">199</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr_find)</span><br></pre></td></tr></table></figure>

<h3 id="array-fill-value-start-end"><a href="#array-fill-value-start-end" class="headerlink" title="array.fill(value, start, end)"></a>array.fill(value, start, end)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Start&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;End&#x27; ] [ &#x27;Start&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;, &#x27;Fire&#x27;, &#x27;End&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">fill</span>(<span class="string">&#x27;Start&#x27;</span>,<span class="number">0</span>,<span class="number">1</span>),arr.<span class="title function_">fill</span>(<span class="string">&#x27;End&#x27;</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<h3 id="array-includes-Value"><a href="#array-includes-Value" class="headerlink" title="array.includes(Value)"></a>array.includes(Value)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 判断数组中是否包含 Value</span></span><br><span class="line"><span class="comment"> * One: true</span></span><br><span class="line"><span class="comment"> * Start: false</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;One:&#x27;</span>,arr.<span class="title function_">includes</span>(<span class="string">&#x27;One&#x27;</span>),<span class="string">&#x27;\nStart:&#x27;</span>, arr.<span class="title function_">includes</span>(<span class="string">&#x27;Start&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="for……in"><a href="#for……in" class="headerlink" title="for……in"></a>for……in</h3><h4 id="array-keys"><a href="#array-keys" class="headerlink" title="array.keys()"></a>array.keys()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toarr = arr.<span class="title function_">keys</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 遍历数组键名</span></span><br><span class="line"><span class="comment">     0</span></span><br><span class="line"><span class="comment">     1</span></span><br><span class="line"><span class="comment">     2</span></span><br><span class="line"><span class="comment">     3</span></span><br><span class="line"><span class="comment">     4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> keys <span class="keyword">of</span> toarr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(keys)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="array-values"><a href="#array-values" class="headerlink" title="array.values()"></a>array.values()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toarr = arr.<span class="title function_">values</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 遍历数组键值</span></span><br><span class="line"><span class="comment">     One</span></span><br><span class="line"><span class="comment">     Two</span></span><br><span class="line"><span class="comment">     Three</span></span><br><span class="line"><span class="comment">     Fire</span></span><br><span class="line"><span class="comment">     Five</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> values <span class="keyword">of</span> toarr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(values)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="array-entries"><a href="#array-entries" class="headerlink" title="array.entries()"></a>array.entries()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;One&#x27;</span>,<span class="string">&#x27;Two&#x27;</span>,<span class="string">&#x27;Three&#x27;</span>,<span class="string">&#x27;Fire&#x27;</span>,<span class="string">&#x27;Five&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> toarr = arr.<span class="title function_">entries</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/** 遍历数组键名和键值</span></span><br><span class="line"><span class="comment">     [ 0, &#x27;One&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 1, &#x27;Two&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 2, &#x27;Three&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 3, &#x27;Fire&#x27; ]</span></span><br><span class="line"><span class="comment">     [ 4, &#x27;Five&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> keys <span class="keyword">of</span> toarr) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(keys)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>通过 ECMAScript6 函数带来了很多扩展以及新的特性，这其中包括了新扩展的 REST 参数、解构参数、扩展运算符、箭头函数等，以及 NAME 属性。</p>
<h3 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h3><p>ES6 允许作为函数的参数设置默认值，直接写才参数后面即可，而在此之前则需要加上参数的判断以及空字符的问题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">x,y = <span class="string">&#x27;world!&#x27;</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Hello world!</span></span><br><span class="line"><span class="comment">Hello ,world!</span></span><br><span class="line"><span class="comment">Hello </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>,<span class="string">&#x27;,world!&#x27;</span>)</span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>,<span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>除了简介的写法，我们还要注意的是，函数中生命的参数变量，都是 <strong>默认声明</strong> 的，因此通过 <code>let/const</code> 再次声明就会出现报错的问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">err</span> (x = <span class="number">1</span>,y = <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">1</span>;  <span class="comment">// error</span></span><br><span class="line">    <span class="keyword">let</span> y = <span class="number">2</span>;  <span class="comment">// error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还有一个问题就是，<strong>只有在传递参数为 <code>undefined</code> 是，才会使用默认参数</strong>，而 <strong>null</strong> 、和空字符将会被认为有值传递</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">na</span>(<span class="params">x,y = <span class="number">18</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x+<span class="string">&#x27;,&#x27;</span>,y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    User, null</span></span><br><span class="line"><span class="comment">    User,</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">na</span>(<span class="string">&#x27;User&#x27;</span>,<span class="literal">null</span>)</span><br><span class="line"><span class="title function_">na</span>(<span class="string">&#x27;User&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h4><p>解构赋值可以与参数默认值结合起来使用，通过解构赋值可以将值从对象中取出，赋值给其他的变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">na</span>(<span class="params">&#123;x,y = <span class="number">18</span>&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x,y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    undefined 18</span></span><br><span class="line"><span class="comment">    1 18</span></span><br><span class="line"><span class="comment">    1 1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">na</span>(&#123;&#125;)</span><br><span class="line"><span class="title function_">na</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="title function_">na</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>上述的 code 使用了对象的解构负值的默认值，只有当函数 <code>na</code> 的参数是一个对象时，变量 <code>x</code> 和 <code>y</code> 才会通过解构赋值生成。</p>
<p>在下述的 code 中，两种写法分别都对函数的参数默认值进行了设定，<code>one</code> 的函数参数默认值是空对象，但是设置了对象解构默认值。而 <code>two</code> 则是有一个具体的属性的对象，但是没有设置对象解构的默认值，因此两者在输出时的差异如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">one</span>(<span class="params">&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([x,y])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">two</span>(<span class="params">&#123;x,y&#125; = &#123;x:<span class="number">0</span>, y:<span class="number">0</span>&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([x,y])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 0, 0 ]</span></span><br><span class="line"><span class="comment">    [ 0, 0 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>()</span><br><span class="line"><span class="title function_">two</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 1, 2 ]</span></span><br><span class="line"><span class="comment">    [ 1, 2 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>&#125;)</span><br><span class="line"><span class="title function_">two</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 1, 0 ]</span></span><br><span class="line"><span class="comment">    [ 1, undefined ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;)</span><br><span class="line"><span class="title function_">two</span>(&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ 0, 0 ]</span></span><br><span class="line"><span class="comment">    [ undefined, undefined ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">one</span>(&#123;&#125;)</span><br><span class="line"><span class="title function_">two</span>(&#123;&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="不定参数（剩余参数）"><a href="#不定参数（剩余参数）" class="headerlink" title="不定参数（剩余参数）"></a>不定参数（剩余参数）</h5><p>不定参数也被称之为 ”剩余参数“，他主要用于表示不确定参数的个数，由 <code>...变量名</code> 进行定义，具名参数只能放在参数组的最后，并且只能有一个不定参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">...values</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(values.<span class="property">length</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="title function_">foo</span>(<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>,<span class="string">&#x27;fore&#x27;</span>,<span class="string">&#x27;fire&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="rest-at-arguments"><a href="#rest-at-arguments" class="headerlink" title="rest at arguments"></a>rest at arguments</h5><p>这里的 rest 并不是已经口口相传的 REST API，而是休止符的意思：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">...values</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</span><br><span class="line">        sum += val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>正因为通过不定参数的作用，因此可以利用其向函数内传入任意数值并通过求和函数进行计算，通过使用 rest 的方法可以代替 <code>arguments</code> 变量，而他主要是传递函数的是类似的数组对象，但通过 <code>Array.prototype.slice.call</code> 可以转换为一个真正的数组对象，<strong>这也是他与 rest 的区别， rest 参数就是一个真正的数组，数组所特有的方法都可以使用</strong>。</p>
<h3 id="name-属性"><a href="#name-属性" class="headerlink" title="name 属性"></a>name 属性</h3><p>函数的 name 属性，是在 ES6、ES5 中可以获取和调用函数的一个方法，他在 ES6 中的表现非常的方便以及快捷。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// foo</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">name</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 匿名函数</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">of</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// of</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">of</span>.<span class="property">name</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将具名函数赋值给变量</span></span><br><span class="line"><span class="keyword">var</span> te = <span class="keyword">function</span> <span class="title function_">st</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// st</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(te.<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>箭头函数主要使用到的还是一些运算符表达式中的几项组成，在函数中使用这些箭头函数可以显得更加简洁的函数书写方式。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span> + <span class="number">10</span>);</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 20</span></span><br><span class="line">fn.<span class="title function_">call</span>(&#123;a&#125;);</span><br></pre></td></tr></table></figure>

<p>需要注意的是，箭头函数内是不会包含 <code>this</code> 的，因此上述箭头函数体中的 this 对象是定义函数时的对象，而不是使用函数时的对象。</p>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>闭包（Closure）简单来说就是能够读取外部函数的变量，这个概念最早出现在 60 年代，其最早实现闭包的程序语言是 Scheme，之后开始被广泛的运用在了函数式编程语言之中。简单理解就是，当每创建一个函数时，闭包就会在函数创建的同时被创建出来。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 在 for 循环内部中定义了内部函数 i，并通过内部循环数组 push x5</span></span><br><span class="line"><span class="comment"> * 因此内部函数可以获取到每次循环的值，执行了 close 函数并最后赋</span></span><br><span class="line"><span class="comment"> * 值给了 test。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">[i:5]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> close = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> i * i;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = <span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 开始通过 test 来调用函数，开始执行 close 内的 for 循环</span></span><br><span class="line"><span class="comment">    25</span></span><br><span class="line"><span class="comment">    25</span></span><br><span class="line"><span class="comment">    25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">0</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">0</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">0</span>]())</span><br></pre></td></tr></table></figure>

<p>之后我们换一个写法，当 for 循环每次执行时，i 会作为参数实时传输到内部函数中（a），因此获取的实际上是数组，调用时通过 test 来调用函数，开始执行 close 内的 for 循环。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 当 for 循环每次执行时，i 会作为参数实时传输到内部函数中（a），因此获取的实际上是数组</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">[ 0, 1, 4, 9, 16, 25, 36, 49, 64, 81 ]</span>&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> close = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> a * a;</span><br><span class="line">        &#125;(i))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = <span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 开始通过 test 来调用函数，开始执行 close 内的 for 循环</span></span><br><span class="line"><span class="comment">    [ 0, 1, 4, 9, 16, 25, 36, 49, 64, 81 ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test)</span><br></pre></td></tr></table></figure>

<p>从上述的 code 中，我们将外层的匿名函数（close）的返回值也变成了一个函数，并让内层函数的返回值成为了我们需要的结果，但是由于内层函数保持着对 <code>i</code> 的引用</p>
<p>这也导致了 <code>i</code> 的值在内存中并没有被释放，这就让我们之后通过test 来调用函数，开始执行 close 内的 for 循环时，也能获取到 <code>i</code> 的值。</p>
<h3 id="let-at-var-实现闭包"><a href="#let-at-var-实现闭包" class="headerlink" title="let at var 实现闭包"></a>let at var 实现闭包</h3><p>在 MDN 文档中，对 var 的描述是：”声明一个变量，并可选的将其初始化为一个值“，而后者则是：”声明一个块级作用域的本地变量、语句或表达式，同样可以初始化为一个值“<br>，与 var 声明语句的区别是，var 声明的变量只可以是全局或者是整个函数块的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> close = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> i*i;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test = <span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 在输出时将会将 const arr = [] 和 let i = 0 替换，但由于 let 声明的因素（本地变量）</span></span><br><span class="line"><span class="comment"> * 所以每次 for 的循环都会将i 直接固定下来而不会受到外部影响，实现了闭包的效果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">1</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">1</span>]())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(test[<span class="number">1</span>]())</span><br></pre></td></tr></table></figure>

<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="属性的简写"><a href="#属性的简写" class="headerlink" title="属性的简写"></a>属性的简写</h3><p>基于 ES6 属性的扩展，因此可以直接写入变量和函数，作为对象的属性和方法（属性名就是变量名，属性值就是变量值）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="string">&#x27;bar&#x27;</span></span><br><span class="line"><span class="keyword">var</span> bar = &#123;foo&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; foo: &#x27;bar&#x27; &#125; 同等于 var bar = &#123;foo: foo&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar)</span><br></pre></td></tr></table></figure>

<h4 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h4><p>还有一些比如我们认为非常正常的表达式，但是在 ES6 之前是非常繁琐的，来对比下简写和非简写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 add</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;x,y&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; x: 1, y: 2 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">a</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// normal</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">b</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>&#123;<span class="attr">x</span>:x, <span class="attr">y</span>:y&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; x: 1, y: 2 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">b</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<h4 id="函数方法"><a href="#函数方法" class="headerlink" title="函数方法"></a>函数方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="title function_">method</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hey,world!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hey,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">method</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hey,world!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hey,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">method</span>())</span><br></pre></td></tr></table></figure>

<h4 id="变量属性简写"><a href="#变量属性简写" class="headerlink" title="变量属性简写"></a>变量属性简写</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;,world!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> toa = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="title function_">hey</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;info:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">name</span> + a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// info: hello,world!</span></span><br><span class="line">toa.<span class="title function_">hey</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;,world!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tob = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">hey</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;info:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">name</span> + b)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// info: hello,world!</span></span><br><span class="line">tob.<span class="title function_">hey</span>()</span><br></pre></td></tr></table></figure>

<h5 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">    * <span class="title function_">myGenerator</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;One&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Two&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Three&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Four&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Five&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    One</span></span><br><span class="line"><span class="comment">    Two</span></span><br><span class="line"><span class="comment">    Three</span></span><br><span class="line"><span class="comment">    Four</span></span><br><span class="line"><span class="comment">    Five</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> echoa = a.<span class="title function_">myGenerator</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echoa.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> b = &#123;</span><br><span class="line">    <span class="attr">myGenerators</span>: <span class="keyword">function</span> * () &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;One&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Two&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Three&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Four&#x27;</span></span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;Five&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    One</span></span><br><span class="line"><span class="comment">    Two</span></span><br><span class="line"><span class="comment">    Three</span></span><br><span class="line"><span class="comment">    Four</span></span><br><span class="line"><span class="comment">    Five</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> echob = b.<span class="title function_">myGenerators</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(echob.<span class="title function_">next</span>().<span class="property">value</span>)</span><br></pre></td></tr></table></figure>

<h3 id="属性名表达式"><a href="#属性名表达式" class="headerlink" title="属性名表达式"></a>属性名表达式</h3><p>属性名表达式是 JavaScript 所定义的属性，主要有两种方法进行定义其属性名（也就是将表达式放在 <code>[]</code> 内）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">foo</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">boo</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; foo: true, boo: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bkey = <span class="string">&#x27;foo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = &#123;</span><br><span class="line">    [bkey]: <span class="literal">true</span>,</span><br><span class="line">    [<span class="string">&#x27;b&#x27;</span> + <span class="string">&#x27;oo&#x27;</span>]: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; foo: true, boo: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>需要注意的是，属性表达式不可以被简写，否则将会报错，还需要留意的是，如果属性表达式是对象，那么将会被转换为字符串 <code>[object Object]</code> ，并只显示最后一个属性，因为前几个都被 <code>KeyC</code> 覆盖掉了</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> keyA = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">const</span> keyB = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">const</span> keyC = &#123;<span class="attr">b</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myObject = &#123;</span><br><span class="line">    [keyA]: <span class="string">&#x27;ValueOne&#x27;</span>,</span><br><span class="line">    [keyB]: <span class="string">&#x27;ValueTwo&#x27;</span>,</span><br><span class="line">    [keyC]: <span class="string">&#x27;ValueThree&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; &#x27;[object Object]&#x27;: &#x27;ValueThree&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myObject);</span><br></pre></td></tr></table></figure>

<h3 id="方法的-name-属性"><a href="#方法的-name-属性" class="headerlink" title="方法的 name 属性"></a>方法的 name 属性</h3><p>方法的 name 属性，是在 ES6、ES5 中可以获取和调用函数的一个方法，他在 ES6 中的表现非常的方便以及快捷，他同样还提供了函数的 name 属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> log = &#123;</span><br><span class="line">    <span class="title function_">myName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// myName</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(log.<span class="property">myName</span>.<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<p>当然还有一些特殊的方法 <code>bind()</code> 使用此方法的函数，返回时将会连带 <code>bound + 函数名</code> 进行输出，需要注意的是 <code>bind()</code> 方法是可以对其绑定的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> doSomething = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bound doSomething</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(doSomething.<span class="title function_">bind</span>().<span class="property">name</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Symbol-at-name"><a href="#Symbol-at-name" class="headerlink" title="Symbol at name"></a>Symbol at name</h4><p>如果对象的方法是一个 <code>symbol</code> 数据类型的值，那么通过 <code>name</code> 书香将返回的是这个属性值的描述：</p>
<blockquote>
<figure class="highlight plaintext"><figcaption><span>是一个基本的数据类型（Primitive data type），其中每个值都是唯一的，因此一个 symbol 值可以具有作为对象属性的标识符</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">const keyA = Symbol(&#x27;one&#x27;)</span><br><span class="line">const keyB = Symbol(&#x27;two&#x27;)</span><br><span class="line"></span><br><span class="line">let obj = &#123;</span><br><span class="line">   [keyA]()&#123;&#125;,</span><br><span class="line">   [keyB]()&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">   [one]</span><br><span class="line">   [two]</span><br><span class="line">*/</span><br><span class="line">console.log(obj[keyA].name)</span><br><span class="line">console.log(obj[keyB].name)</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>可参考其文档： <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/symbols.html">https://www.typescriptlang.org/docs/handbook/symbols.html</a></p>
</blockquote>
<h3 id="对象扩展运算符"><a href="#对象扩展运算符" class="headerlink" title="对象扩展运算符"></a>对象扩展运算符</h3><h4 id="解构赋值-rest"><a href="#解构赋值-rest" class="headerlink" title="解构赋值 (rest)"></a>解构赋值 (rest)</h4><p>对象的扩展运算符就是将解构赋值（REST）和扩展运算符（…）引入对象，这种操作在 Bable 编译器中已经支持这项功能。</p>
<blockquote>
<p>Babel.js 是一个用于 Web 开发，且自由开源的 JavaScript 编译器以及转译器。</p>
</blockquote>
<p>对象的解构赋值主要是用于从对象内进行取值，用于将所有可遍历但尚未完全读取的属性分配到指定的对象上，所有键值和他们的值都会拷贝到新的对象中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>  &#123;x, y, ...z&#125; = &#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>, <span class="attr">a</span>:<span class="number">3</span>, <span class="attr">b</span>:<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 3, b: 4 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z)</span><br></pre></td></tr></table></figure>

<p>需要注意的是，因为解构赋值是 <code>z</code>,所以他获取等剩余的尚未被读取的对键，因此会将剩余的键全部输出（即: a at b）</p>
<blockquote>
<p>因为解构赋值的写法，所以解构复制必须是最后一个参数，否则将会出错。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:&#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;...x&#125; = obj</span><br><span class="line"></span><br><span class="line">obj.<span class="property">a</span>.<span class="property">b</span> = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x.<span class="property">a</span>.<span class="property">b</span>)</span><br></pre></td></tr></table></figure>

<p>在上述代码中，<code>x</code> 是解构赋值所在对象，引用了 <code>obj</code> 对象的 <code>a</code> 属性，而 <code>a</code> 属性同时引用了 <code>b</code> 属性，而之后还引用了  <code>obj.a.b</code> 属性，因此这个属性将会对解构赋值产生影响。</p>
<p>从而导致了最后输出时原本输出结果为 <code>1</code>，经过一系列引用输出结果被影响的问题，所以解构赋值不会拷贝继承自原型对象的属性（即  obj）</p>
<p>当然也可以通过一个更为简单的方法解决这个问题，从而避免了解构赋值被影响的问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">let</span> keyB = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b3 = &#123;...keyB&#125;</span><br><span class="line"><span class="keyword">let</span> b4 = &#123;...keyA&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; b: 2 &#125; &#123; a: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b3,b4)</span><br></pre></td></tr></table></figure>

<p>因为 <code>b3\b4</code> 都只是 <code>keyA\keyB</code> 的引用，因此也只是赋值了自身的属性，被没有可以被其他函数影响的余地。</p>
<h4 id="扩展运算符-…"><a href="#扩展运算符-…" class="headerlink" title="扩展运算符 (…)"></a>扩展运算符 (…)</h4><h5 id="与-Object-assign-方法"><a href="#与-Object-assign-方法" class="headerlink" title="与 Object.assign 方法"></a>与 Object.assign 方法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = &#123;<span class="attr">name</span>:<span class="string">&#x27;Aswl&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;19&#x27;</span>,<span class="attr">measurements</span>: <span class="string">&#x27;100&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let getB = &#123;...keyA&#125;</span></span><br><span class="line"><span class="keyword">let</span> getB = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;,keyA)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; name: &#x27;Aswl&#x27;, age: &#x27;19&#x27;, measurements: &#x27;100&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(getB)</span><br></pre></td></tr></table></figure>

<p>扩展运算符的的作用与 <code>Object.assign</code> 方法同等使用，不过扩展运算符的使用较为简单和便捷，他可以完成 <code>Object.assign</code> 方法无法完成的功能</p>
<h5 id="合并对象"><a href="#合并对象" class="headerlink" title="合并对象"></a>合并对象</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = &#123;<span class="attr">name</span>:<span class="string">&#x27;Aswl&#x27;</span>, <span class="attr">age</span>: <span class="string">&#x27;19&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">let</span> keyB = &#123;<span class="attr">measurements</span>: <span class="string">&#x27;100&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let getB = &#123;...keyA&#125;</span></span><br><span class="line"><span class="keyword">let</span> getB = &#123;...keyA, ...keyB&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; name: &#x27;Aswl&#x27;, age: &#x27;19&#x27;, measurements: &#x27;100&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(getB)</span><br></pre></td></tr></table></figure>

<h3 id="ES6-对象新方法"><a href="#ES6-对象新方法" class="headerlink" title="ES6 对象新方法"></a>ES6 对象新方法</h3><table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>Object.is()</code></td>
<td>用于判断两个对象值是否一样，同等于 <code>===</code></td>
</tr>
<tr>
<td>2</td>
<td><code>Object.assign()</code></td>
<td>将目标对象一个或多个分配到目标对象中，因此他也有合并对象的作用</td>
</tr>
<tr>
<td>3</td>
<td><code>Object.key()</code></td>
<td>返回对象的键名</td>
</tr>
<tr>
<td>4</td>
<td><code>Object.values()</code></td>
<td>返回对象的值</td>
</tr>
<tr>
<td>5</td>
<td><code>Object.entries()</code></td>
<td>用于返回对象</td>
</tr>
<tr>
<td>6</td>
<td><code>Object.setPrototypeOf()</code></td>
<td>将指定一个对象到另一个域，也就是设置一个对象的 prototype</td>
</tr>
<tr>
<td>7</td>
<td><code>Object.getPrototype()</code></td>
<td>用于读取和判断一个对象的 prototype</td>
</tr>
<tr>
<td>8</td>
<td><code>Object.create</code></td>
<td>用于创建一个对象使得更符合 prototype</td>
</tr>
</tbody></table>
<h4 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is"></a>Object.is</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keyA = <span class="string">&#x27;10&#x27;</span></span><br><span class="line"><span class="keyword">let</span> keyB = <span class="string">&#x27;10&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(keyA,keyB));</span><br></pre></td></tr></table></figure>

<p>通过 ES6 所提出的同值相等（Same-Value Equality）算法来解决严格比较运算符就基本行为一致，从而产出了 <code>Object.is</code> 方法，他与绝对运算符更让人容易理解，如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">keyC</span> () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">NaN</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> keyA = <span class="literal">null</span></span><br><span class="line"><span class="keyword">let</span> keyB = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+<span class="number">0</span> === -<span class="number">0</span>)</span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(keyC === keyB)</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>,-<span class="number">0</span>))</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(keyC,keyC))</span><br></pre></td></tr></table></figure>

<p>在绝对运算符中，<code>+0</code> 和 <code>-0</code> 被认为是一样的，而在此 ES6 新提出的算法时将不会被认为这是等同的，即 false。</p>
<p>而同样的还有 <code>Nan</code> 以及 <code>Null</code> 在绝对运算符中被认为是不等同的，而在 Same-Value Equality 算法下中是等同的。</p>
<h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> target = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_1 = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_2 = &#123;<span class="attr">c</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target,source_1,source_2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span><br></pre></td></tr></table></figure>

<p>虽然他具有合并对象的作用，但还是需要注意，如果目标对象之间有同名的属性，那么后面的属性就会被覆盖：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> target = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_1 = &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_2 = &#123;<span class="attr">b</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target,source_1,source_2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 1, b: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span><br></pre></td></tr></table></figure>

<p>除此之外还需要注意，如果 <code>Object.assion</code> 的参数不是对象，那么他也会直接返回该参数。</p>
<p>但如果对象如果是 <code>undefined</code> 和 <code>null</code>，因为他们无法转为对象，所以会报错，但是如果将他们放置在 <code>source</code> 参数中，当发现无法转换为对象时，就会被跳过：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> target = &#123;<span class="attr">a</span>:<span class="literal">undefined</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_1 = &#123;<span class="attr">b</span>:<span class="literal">null</span>&#125;</span><br><span class="line"><span class="keyword">var</span> source_2 = &#123;<span class="attr">b</span>:<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target,source_1,source_2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: undefined, b: 3 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(target)</span><br></pre></td></tr></table></figure>

<h5 id="复制与拷贝"><a href="#复制与拷贝" class="headerlink" title="复制与拷贝"></a>复制与拷贝</h5><p>至于其他的值，如果不在首参数中，也不会被报错之类的，除了字符串会以数组的形式拷贝到目标对象外，其他的都不会产生效果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, source)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: 1 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，除了数值和之前的布尔值以及数值会合并到对象中，而字符串将会产生包装的现象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [Boolean: true] [Number: 123] [String: &#x27;abc&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>(<span class="literal">true</span>), <span class="title class_">Object</span>(<span class="number">123</span>),<span class="title class_">Object</span>(<span class="string">&#x27;abc&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>因此布尔值、数值、字符串的类型分别会转成包装对象进行输出，也可以看到他们的原始值类型，这些属性是不会被 <code>Object.assign</code> 拷贝的，因为他拷贝的是可枚举属性值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> c = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;<span class="attr">b</span>:<span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;, <span class="string">&#x27;invisible&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">enumerable</span>:<span class="literal">false</span>,</span><br><span class="line">        <span class="attr">value</span>: <span class="string">&#x27;hey&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; b: &#x27;c&#x27; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c)</span><br></pre></td></tr></table></figure>

<p>上述代码中因为 <code>inisible</code> 并不是可枚举类型的， 因此他没有被 <code>assign</code> 拷贝进去。</p>
<h5 id="浅拷贝与深拷贝"><a href="#浅拷贝与深拷贝" class="headerlink" title="浅拷贝与深拷贝"></a>浅拷贝与深拷贝</h5><p>浅拷贝与沈拷贝的问题在于，<code>Object.assign</code> 方法所实现的是浅拷贝，而不是深拷贝，也就是说如果 source 是一个对象，那么也会得到这个对象的引用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;</span><br><span class="line"><span class="keyword">var</span> get = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, source)</span><br><span class="line"></span><br><span class="line">source.<span class="property">a</span>.<span class="property">b</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: &#123; b: 10 &#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(get)</span><br></pre></td></tr></table></figure>

<p>因为源对象的 <code>a</code> 属性是一个对象，因此拷贝得到的是一个对象的引用，因此在输出的时候会被影响，对于这种方法，<strong>一旦遇到了同名的属性，将会直接替换。</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="number">1</span>&#125;&#125;</span><br><span class="line"><span class="keyword">var</span> sources = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>:<span class="string">&#x27;hey&#x27;</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> get = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, source,sources)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; a: &#123; b: &#x27;hey&#x27; &#125; &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(get)</span><br></pre></td></tr></table></figure>


<p>在上述的 code 中，因为 <code>source</code> 的 <code>a</code> 属性被 <code>sources</code> 内的 <code>a</code> 给替换了，因此就会得到 <code> a: &#123; b: &#39;hey&#39; &#125; &#125;</code> 的结果。</p>
<h5 id="对数组的处理"><a href="#对数组的处理" class="headerlink" title="对数组的处理"></a>对数组的处理</h5><p>除了对对象的使用，<code>Object.assign</code> 还可以处理对象，但是会把数组视为对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// [ 4, 5, 3 ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">assign</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>]))</span><br></pre></td></tr></table></figure>

<p>因为 <code>Object.assign</code> 将 <code>0、1、2</code> 视为对象，那么只好输出 <code>target</code> 部分的最后一个数组，以及在 <code>source</code> 位的 4,5，因此 target 数组的 0 号属性覆盖了属性 <code>4</code> 的属性，所以为 <code>[4, 5, 3]</code>。</p>
<h4 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h4><p>用于遍历对象，并返回对象的键名，但在 ES7 的新提案中，提出了一种配套的方法 <code>Object.keys()、Object.value()、Object.entries</code> ，而原理都是循环遍历：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;keys, values, entries&#125; = <span class="title class_">Object</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">oneKey</span>:<span class="string">&quot;oneValue&quot;</span>, <span class="attr">twoKey</span>:<span class="string">&quot;twoValue&quot;</span>, <span class="attr">threeKey</span>:<span class="string">&quot;threeValue&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    oneKey</span></span><br><span class="line"><span class="comment">    twoKey</span></span><br><span class="line"><span class="comment">    threeKey</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title function_">keys</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    oneValue</span></span><br><span class="line"><span class="comment">    twoValue</span></span><br><span class="line"><span class="comment">    threeValue</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="title function_">values</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    [ &#x27;oneKey&#x27;, &#x27;oneValue&#x27; ]</span></span><br><span class="line"><span class="comment">    [ &#x27;twoKey&#x27;, &#x27;twoValue&#x27; ]</span></span><br><span class="line"><span class="comment">    [ &#x27;threeKey&#x27;, &#x27;threeValue&#x27; ]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="title function_">entries</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([key, value]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>对于 ES7新的提案中，就显得非常方便，只需要一个方法就能实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Value&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;key&#x27;, &#x27;keys&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(obj))</span><br></pre></td></tr></table></figure>

<h4 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Value&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;Value&#x27;, &#x27;Values&#x27; ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(obj))</span><br></pre></td></tr></table></figure>

<p>此方法只可以返回对象本身可以遍历对象，如果遇到数组的返回，那么返回的形式同样被打乱，索引为 0 的数将会被放到最后一个输出，而其他的索引则正常：</p>
<h4 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ &#x27;key&#x27;, &#x27;Values&#x27; ], [ &#x27;keys&#x27;, &#x27;Values&#x27; ] ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br></pre></td></tr></table></figure>

<p>如果对象的属性是 <code>Symbol</code> 值的话，那么该属性就会选择忽略：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>, [<span class="title class_">Symbol</span>()]: <span class="string">&quot;null&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ &#x27;key&#x27;, &#x27;Values&#x27; ], [ &#x27;keys&#x27;, &#x27;Values&#x27; ] ]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br></pre></td></tr></table></figure>

<p>所以这个属性还衍生出了一种可以输出 <code>Symbol</code> 属性的 <code>Reflect.ownEntries()</code> 方法，返回对象自身的属性。而同时 <code>Object.entries()</code> 的主要作用就是返回对象的属性（单个）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>, [<span class="title class_">Symbol</span>()]: <span class="string">&quot;null&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    key:Values</span></span><br><span class="line"><span class="comment">    keys:Values</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(obj)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>:<span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然你还可以搭配 <code>$&#123;JSON.stringify()&#125;</code> 的配合让对象输出为 JSON 格式的数据。</p>
<p>除此之外他还可以通过配合 <code>Map</code> 方法来实现一个真正的 Map 数据结构：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">key</span>:<span class="string">&quot;Values&quot;</span>, <span class="attr">keys</span>:<span class="string">&quot;Values&quot;</span>, [<span class="title class_">Symbol</span>()]: <span class="string">&quot;null&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Map &#123; &#x27;key&#x27; =&gt; &#x27;Values&#x27;, &#x27;keys&#x27; =&gt; &#x27;Values&#x27; &#125;</span></span><br><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ [ &#x27;key&#x27;, &#x27;Values&#x27; ], [ &#x27;keys&#x27;, &#x27;Values&#x27; ] ]</span></span><br><span class="line"><span class="comment">// console.log(Object.entries(obj))</span></span><br></pre></td></tr></table></figure>


<h4 id="Object-setPrototypeOf-at-Object-getPrototypeOf-and-prototype"><a href="#Object-setPrototypeOf-at-Object-getPrototypeOf-and-prototype" class="headerlink" title="Object.setPrototypeOf() at Object.getPrototypeOf and prototype"></a>Object.setPrototypeOf() at Object.getPrototypeOf and prototype</h4><figure class="highlight plaintext"><figcaption><span>与 ```Object.getPrototypeOf``` 以及 ```Object.create()```三个对象是来自 ```__proto___``` 属性，很明显是这个属性的代替，分别写操作和读操作</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">该属性是一个内置的属性，但由于 ES6 标准明文规定必须部署这个属性，导致他才加入了 ES6 ：</span><br><span class="line"></span><br><span class="line">&gt; 在 ECMAScript 2015（ES6）的规范要求中，支持__proto__ 是各大Web浏览器厂商的要求（虽然符合规范），但其他环境下因为历史遗留的问题，也有可能被使用和支持。</span><br><span class="line"></span><br><span class="line">同时 MDN 也建议不要使用这个属性：”该特性已经从 Web 标准中删除，虽然一些浏览器目前仍然支持它，但也许会在未来的某个时间停止支持，请尽量不要使用该特性。“</span><br><span class="line"></span><br><span class="line">所以在这个环境下，```Objcet.setPrototypeOf()``` 与 ```Object.getPrototypeOf``` 以及 ```Object.create()```三个对象就出现了，从而代替了 ````__proto__``` 属性。</span><br><span class="line"></span><br><span class="line">##### prototype</span><br><span class="line">Prototype 指的是 ”继承与原型链“，根据 MDN 的描述也非常简单粗暴直接点名重点：</span><br><span class="line"></span><br><span class="line">&gt; 对于使用过基于类的语言 (如 Java 或 C++) 的开发者们来说，JavaScript 实在是有些令人困惑 —— JavaScript 是动态的，本身不提供一个 class 的实现。即便是在 ES2015/ES6 中引入了 class 关键字，但那也只是语法糖，JavaScript 仍然是基于原型的。</span><br><span class="line">&gt;</span><br><span class="line">&gt; 当谈到继承时，JavaScript 只有一种结构：对象。每个实例对象（object）都有一个私有属性（称之为 __proto__ ）指向它的构造函数的原型对象（prototype）。该原型对象也有一个自己的原型对象（__proto__），层层向上直到一个对象的原型对象为 null。根据定义，null 没有原型，并作为这个原型链中的最后一个环节。</span><br><span class="line">&gt;</span><br><span class="line">&gt; 几乎所有 JavaScript 中的对象都是位于原型链顶端的 Object 的实例。</span><br><span class="line">&gt;</span><br><span class="line">&gt; https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain</span><br><span class="line"></span><br><span class="line">如果你了解了这篇文章，那么 ```setPrototypeOf``` 和 ```getPrototypeOf``` 都会知道他们是干嘛的。</span><br><span class="line"></span><br><span class="line">###### Object.setPrototypeOf()</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">let proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">let obj = &#123;x:10&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">    &#123; x: 10 &#125;</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line">    10</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line"> */</span><br><span class="line">console.log(Object.setPrototypeOf(obj,proto));</span><br><span class="line"></span><br><span class="line">console.log(proto.y = 20)</span><br><span class="line">console.log(proto.z = 40)</span><br><span class="line"></span><br><span class="line">// 因为 Object.setPrototypeOf 将 proto 对象的原型设置为 obj 所以可以读取</span><br><span class="line">console.log(obj.x)</span><br><span class="line">console.log(obj.y)</span><br><span class="line">console.log(obj.z)</span><br></pre></td></tr></table></figure>

<p>正因为 Object.setPrototypeOf 方法将指定一个对象（<code>proto</code>）到另一个域（<code>obj</code>） 所以可以读取。</p>
<h6 id="Object-getPrototype-and-Object-create"><a href="#Object-getPrototype-and-Object-create" class="headerlink" title="Object.getPrototype() and Object.create"></a>Object.getPrototype() and Object.create</h6><figure class="highlight plaintext"><figcaption><span>属性用于返回指定对象的原型，也就是依赖的函数：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">let proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">let obj = &#123;x:10&#125;</span><br><span class="line">/*</span><br><span class="line">    &#123; x: 10 &#125;</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line">    10</span><br><span class="line">    20</span><br><span class="line">    40</span><br><span class="line"> */</span><br><span class="line">console.log(Object.setPrototypeOf(obj,proto));</span><br><span class="line"></span><br><span class="line">console.log(proto.y = 20)</span><br><span class="line">console.log(proto.z = 40)</span><br><span class="line"></span><br><span class="line">//</span><br><span class="line">console.log(obj.x)</span><br><span class="line">console.log(obj.y)</span><br><span class="line">console.log(obj.z)</span><br><span class="line"></span><br><span class="line">var let = &#x27;10&#x27;;</span><br><span class="line"></span><br><span class="line">// true</span><br><span class="line">console.log(Object.getPrototypeOf(obj) === proto)</span><br><span class="line"></span><br><span class="line">// false</span><br><span class="line">console.log(Object.getPrototypeOf(let) === proto)</span><br></pre></td></tr></table></figure>

<p>当然你还可以使用更加标准的方式，通过 <code>Object.create()</code> 的方法来创建一个新的对象，完美符合了 MDN  在 Prototype 上所说的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> getS = &#123;<span class="attr">x</span>:<span class="number">10</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个新方法</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(getS)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    &#123; x: 10 &#125;</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment">    10</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment">    false</span></span><br><span class="line"><span class="comment">    true</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(getS,proto));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">y</span> = <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">z</span> = <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">y</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">z</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">let</span> = <span class="string">&#x27;10&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj) === proto)</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(getS) === proto)</span><br></pre></td></tr></table></figure>

<p>当然，<code>get.PrototypeOf</code> 还可以读取 prototype 对象的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proto = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> getS = &#123;<span class="attr">x</span>:<span class="number">10</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个新方法</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="title class_">Object</span>.<span class="title function_">create</span>(getS)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    &#123; x: 10 &#125;</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment">    10</span></span><br><span class="line"><span class="comment">    20</span></span><br><span class="line"><span class="comment">    40</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(obj,proto));</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">y</span> = <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(proto.<span class="property">z</span> = <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">y</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">z</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">let</span> = <span class="string">&#x27;10&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; y: 20, z: 40 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj))</span><br></pre></td></tr></table></figure>

<h3 id="属性的可枚举性（getOwnPropertyDescriptor）"><a href="#属性的可枚举性（getOwnPropertyDescriptor）" class="headerlink" title="属性的可枚举性（getOwnPropertyDescriptor）"></a>属性的可枚举性（getOwnPropertyDescriptor）</h3><p>在 ES6 中，每个属性都会有自己的一个描述对象（Descriptor）用于控制该属性的行为，那么通过 <code>Object.getOwnPropertyDescriptor</code> 就可以获取对象的描述对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">foo</span>: <span class="number">1234</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    value: 1234,        值</span></span><br><span class="line"><span class="comment">    writable: true,     可写</span></span><br><span class="line"><span class="comment">    enumerable: true,   可枚举</span></span><br><span class="line"><span class="comment">    configurable: true  可配置</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(obj,<span class="string">&#x27;foo&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123; value: &#x27;hey&#x27;,</span></span><br><span class="line"><span class="comment">  writable: false,</span></span><br><span class="line"><span class="comment">  enumerable: false,</span></span><br><span class="line"><span class="comment">  configurable: false &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">tes = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> sets = <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(tes,<span class="string">&quot;inisible&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;hey&#x27;</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>:<span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(sets,<span class="string">&#x27;inisible&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>在 ES5 中，当 enumerable 为 false 的属性会被忽略，其中主要有 ：</p>
<table>
<thead>
<tr>
<th>Id</th>
<th>Name</th>
<th>Info</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>for...in</code></td>
<td>只循环遍历自身对象和继承的可枚举属性</td>
</tr>
<tr>
<td>2</td>
<td><code>Object.key</code></td>
<td>返回对象自身的所有可枚举的属性键名</td>
</tr>
<tr>
<td>3</td>
<td><code>JSON.stringify()</code></td>
<td>只串化对象自身的可枚举属性</td>
</tr>
<tr>
<td>4</td>
<td><code>Object.assign()</code></td>
<td>忽略自身为 <code>enumerable</code> 的属性</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">foo</span>: <span class="number">1234</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(obj,<span class="string">&#x27;foo&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sets = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;<span class="attr">b</span>:<span class="string">&#x27;c&#x27;</span>&#125;,</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;,<span class="string">&#x27;inisible&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">enumerable</span>:<span class="literal">false</span>,</span><br><span class="line">        <span class="attr">value</span>:<span class="string">&#x27;hey&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(sets,<span class="string">&#x27;inisible&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p>在 Node.js 中，类是一个函数的集合体以及成员变量，但是他依然被认为称之为：“类（<code>class</code>）” 语法糖，他本质上让对象更加清晰。</p>
<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>这是一个 ES6 中的语法糖，<code>class</code> 将会作为对象模板被引入，通过该关键字可以定义类，而他的本质就是 <code>function</code> ，只不过他可以让对象的原型更加清晰，更像面向对象的语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">let</span> example = <span class="keyword">class</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">area</span> = x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title function_">example</span>(<span class="number">1</span>,<span class="number">2</span>).<span class="property">area</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">exmapleName</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">area</span> = x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title function_">exmapleName</span>(<span class="number">1</span>,<span class="number">2</span>).<span class="property">area</span>)</span><br></pre></td></tr></table></figure>

<p>上述示例中主要分为匿名函数和命名函数，他们都实现了同样的效果和功能，但需要注意的是，<strong>不可以重复声明同一个类</strong>，如果声明将会抛出异常信息。</p>
<h4 id="内部属性或静态属性"><a href="#内部属性或静态属性" class="headerlink" title="内部属性或静态属性"></a>内部属性或静态属性</h4><h5 id="内部方法"><a href="#内部方法" class="headerlink" title="内部方法"></a>内部方法</h5><p>在新的 ES6 规定中，<code>class</code> 内部只会有静态方法，不会有静态属性，而直接定义在类的内部属性（class.propname）将会被称之为静态属性，不需要实例化。</p>
<blockquote>
<p>在 ES6 中 prototype 属性仍然存在，他本质还是定义在 prototype 上，且覆盖 prototype 属性，并在初始化时添加新的方法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello,world!&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello,world!</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Example</span>()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>需要注意的是，类的实例化必须是通过 <code>new</code> 关键字的</p>
</blockquote>
<h5 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h5><p>类的 <code>constructor</code> 方法用于实例化对象时被调用，因此这个概念也被应用与大多数的面向对象编程语言，同时该方法下返回实例对象的 <code>this.x</code> 也可以指定返回的对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">sum</span>(<span class="params">x,y</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Example</span>.<span class="title function_">sum</span>(<span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>


<h5 id="decorators"><a href="#decorators" class="headerlink" title="decorators"></a>decorators</h5><p>装饰器 (decorators) 是ES7类的新提案，在转译器环境中被开发人员广泛的使用，实际上这是 ES5 所纳入的提案，但最这 ES6 中新引入的 <code>class</code> ，从而需要额外的功能来支持 <strong>注释或修改类和成员的场景</strong> 。</p>
<p>你可以可以在类、方法、属性、参数中进行声明，并使用 <code>@expression</code> 的形式调用函数。</p>
<p>你可以在 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/decorators.html#decorators">https://www.typescriptlang.org/docs/handbook/decorators.html#decorators</a> 了解更多（ES5）</p>
<h4 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h4><h5 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h5><p>在类的内部中可以使用的 <code>get</code> 以及 <code>set</code> 关键字，对于某个睡醒内设置存值函数和取值函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">fatcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 绑定</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">a</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_a</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用</span></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">a</span>(<span class="params">a</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_a</span> = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">fatcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">new</span> <span class="title function_">child</span>();</span><br><span class="line"></span><br><span class="line">foo.<span class="property">a</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">a</span>)</span><br></pre></td></tr></table></figure>

<p>class 可以通过 <code>extends</code> 关键字从而实现类的继承，并通过 <code>getter/setter</code> 分别对属性进行了绑定和调用，除此之外，<code>child</code> 通过 <code>extends</code> 继承了 <code>fatcher</code> ，所以可以被调用并输出数据，也就是说通过此关键字让两个类变得一样了。</p>
<h5 id="super"><a href="#super" class="headerlink" title="super"></a>super</h5><p>super 关键字用于访问和调用对象中父对象上的函数，ES6 中要求子类和构造函数必须执行一次 super 函数，也就是说子类 <code>constructor</code> 方法中必须有 super。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">fatcher</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Hey,&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">fatcher</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">logDesc</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">super</span>.<span class="title function_">log</span>() + <span class="string">&#x27;world!&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hey,world!</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="title function_">logDesc</span>())</span><br></pre></td></tr></table></figure>


<h2 id="ES6-模块化"><a href="#ES6-模块化" class="headerlink" title="ES6 模块化"></a>ES6 模块化</h2><p>在 ES6 引入模块化之前，其模块化的使用是 RequireJS，用于 JavaScript 文件和模块加载，可以在浏览器环境中使用，可通过 Node 来实现模块化脚本加载来提高代码的编写质量和速度。</p>
<p>在 ES6 规范中引入的模块提案，其设计思想是在编译时候就能确定模块的依赖关系，以及输入和输出的变量，所以 ES6 中模块化主要分为导出（export）和导入（import）</p>
<h3 id="添加-babel-支持"><a href="#添加-babel-支持" class="headerlink" title="添加 babel 支持"></a>添加 babel 支持</h3><p>正因为使用的是 ES6，这在目前的版本中看样子很正常的语法但会因为一些语法糖的问题而出错，因此我们可以在 <code>package.json</code> 中以 <code>babel</code> 的转译器进行运行，并添加 <code>ES6</code> 支持：  </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;babel-preset-es2015&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.24.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;reflect-metadata&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.1.13&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;ts-node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^10.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@babel/cli&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.8&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/core&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.0.0-bridge.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/node&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.9&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.14.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/polyfill&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.12.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@babel/preset-env&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.15.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;babel-node vievs.js&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;assumptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;setPublicClassFields&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;plugins&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;transform-decorators-legacy&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;legacy&quot;</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个 <code>package.js</code> 文件中主要用于安装 <code>babel</code> 的依赖，我们可以通过 <code>npm init</code> 来初始化一个，之后添加依赖即可，之后使用 <code>npm install</code> 等待安装完成即可。</p>
<p>安装后，我们需要新建一个 <code>.babelrc</code> 文件，添加一个 ES6 的支持：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;es2015&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="export-at-import"><a href="#export-at-import" class="headerlink" title="export at import"></a>export at import</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myName = <span class="string">&quot;modelName&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> mySet = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;My in name:&quot;</span> + myName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;myName, mySet&#125;</span><br></pre></td></tr></table></figure>

<p>首先我们要创建一个文件，并写入方法，之后通过 <code>export</code> 来导出，最后在通过 &#96;&#96;&#96;&#96;import&#96;&#96;&#96; 进行引入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;myName, mySet&#125; <span class="keyword">from</span> <span class="string">&quot;./modelName.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Name: modelName My in name:modelName</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Name:&#x27;</span>,myName, <span class="title function_">mySet</span>())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们可以直接通过 npm 运行：“<code>npm run test</code>”，也可以直接输入 <code>bebel-node filename.js</code> 运行。</p>
</blockquote>
<h4 id="as"><a href="#as" class="headerlink" title="as"></a>as</h4><p>.</p>
<figure class="highlight plaintext"><figcaption><span>可以说是 ```export……import``` 所附带的一个方法，他主要的作用就是   可以建立 ```export``` 的连接，你可以理解为赋值：</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">let myName = &quot;modelName&quot;;</span><br><span class="line">let mySet = function () &#123;</span><br><span class="line">    return &quot;My in name:&quot; + myName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export &#123;myName as exportName, mySet&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;exportName, mySet&#125; <span class="keyword">from</span> <span class="string">&quot;./modelName.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Name: modelName My in name:modelName</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Name:&#x27;</span>,exportName, <span class="title function_">mySet</span>())</span><br></pre></td></tr></table></figure>

<p>最后运行输出的还是与 <code>exportName</code> 建立链接的 <code>myName</code>，因此这也是 <code>as</code> 命令的作用。</p>

	

	

</article>





	<span class="different-posts">📖 <a href="/page/5">more posts</a> 📖</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>欢迎来到我的 blog <br><br> 通过 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> 进行构建的，存放在 <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> 上。</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
