<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>ç¼ç‘¶</title>
	<link rel="stylesheet" href="/css/style.css" />
	
      <link rel="alternate" href="/atom.xml" title="ç¼ç‘¶" type="application/atom+xml">
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/" class="header__link" style="color: #fff">Home</a>
			
				<a href="/archives" class="header__link" style="color: #fff">Archive</a>
			
				<a href="/about" class="header__link" style="color: #fff">About</a>
			
		</nav>
		<!-- <h1 class="header__title"><a href="/">ç¼ç‘¶</a></h1> -->
		<h1 class="header__title"><a href="/"><img style="width: 290px;" src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/202204152017786.png"></a></h1>
		<h2 class="header__subtitle">æ¢¦å…¥ç¼æ¥¼å¯’æœ‰æœˆï¼Œè¡Œè¿‡çŸ³æ ‘å†»æ— çƒŸ</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">ğŸ“– <a href="/page/8">earlier posts</a> ğŸ“–</span>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/2.D3 é¡¹ç›®æ„å»º/">D3 é¡¹ç›®æ„å»º</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p>å½“äº†è§£ä¸Šè¿°D3ä»‹ç»ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥ <code>d3.js</code>æ¥ç›´æ¥å¸®åŠ©æˆ‘ä»¬æ”¯æŒd3.jsè¯­æ³•ï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>min.js</code>ç‰ˆæœ¬å³å®˜æ–¹æ‰€æä¾›çš„åœ¨çº¿å¼•å…¥æ–¹å¼ï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://d3js.org/d3.v6.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä½¿ç”¨<code>d3.js</code>æ‰€æä¾›çš„æœ¬åœ°jsæ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä¸¤ç§jsï¼Œåˆ†åˆ«ä¸º<code>.js</code>ä»¥åŠ<code>min.js</code>ï¼Œä¸€ç§æ˜¯åœ¨å¼€å‘ç¯å¢ƒä¸­è¿›è¡Œä½¿ç”¨çš„ï¼Œè€Œ<code>min.js</code>åˆ™æ˜¯åœ¨é¡¹ç›®å‘å¸ƒçš„æ—¶å€™ç›´æ¥è¿›è¡Œä½¿ç”¨ï¼Œä¸¤è€…å®ç°äº†åŒæ ·çš„åŠŸèƒ½ï¼Œä½†å”¯ä¸€ä¸åŒçš„æ˜¯<code>min.js</code>å°†æ‰€æœ‰ç©ºæ ¼éƒ½åˆå¹¶äº†ï¼Œè€Œ<code>.js</code>çš„codeåˆ™ç¬¦åˆjsçš„ä»£ç æ ¼å¼è§„èŒƒï¼Œå½“å¼•å…¥ä¹‹åæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»˜åˆ¶ä¸€ä¸ªsvgæ¥è¯æ˜d3.jsæ˜¯å¦å¼•å…¥æˆåŠŸ:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;D3.js&lt;/title&gt;</span><br><span class="line">        &lt;script src=&quot;https://d3js.org/d3.v3.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;circle&gt;&lt;/circle&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var width = 200;</span><br><span class="line">            var height = 200;</span><br><span class="line">            var svg = d3.select(&quot;body&quot;)</span><br><span class="line">                .append(&quot;svg&quot;)</span><br><span class="line">                .attr(&quot;width&quot;,width)</span><br><span class="line">                .attr(&quot;height&quot;,height);</span><br><span class="line">            svg.append(&quot;circle&quot;)</span><br><span class="line">                .attr(&quot;cx&quot;,&quot;50px&quot;)</span><br><span class="line">                .attr(&quot;cy&quot;,&quot;50px&quot;)</span><br><span class="line">                .attr(&quot;r&quot;,&quot;50px&quot;)</span><br><span class="line">                .attr(&quot;fill&quot;,&quot;blue&quot;);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/19.D3 æŠ˜çº¿å›¾/">D3 æŠ˜çº¿å›¾</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p>æŠ˜çº¿å›¾ï¼ˆ<code>Line Chart</code>ï¼‰æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®å›¾è¡¨ä¹‹ä¸€ï¼Œä¸»è¦å¯ä»¥è¡¨ç¤º<strong>éšæ—¶é—´è€Œå˜åŒ–çš„è¿ç»­æ•°æ®</strong>ï¼Œå¯ä»¥è¡¨ç¤ºæ•°æ®çš„æ”¯æŒä¸å¯¹æ¯”ã€‚åœ¨ä¸‹åˆ—ä¾‹å›¾ä¸­ï¼Œæˆ‘ä»¬ä»¥<code>d3.rgb(2550,0,0) , d3.rgb(0,0,255), d3.rgb(200,100,255), d3.rgb(0,0,100)</code>æ¥åˆ†åˆ«è¡¨ç¤º<code>ä¸­å›½ã€ç¾å›½ã€æ—¥æœ¬ã€æ¬§ç›Ÿ</code>2010ï½2019çš„<code>GDP</code>å¢é•¿æŠ˜çº¿å›¾ã€‚<br><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210406010514.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å®šä¹‰åŸºæœ¬ç»“æ„æ•°æ® */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">1400</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="number">250</span>,</span><br><span class="line">    <span class="attr">right</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">bottom</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">left</span>: <span class="number">150</span>,</span><br><span class="line">    <span class="attr">totalMax</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">markStep</span>: <span class="number">80</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ•°æ® */</span></span><br><span class="line"><span class="keyword">var</span> databases = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;China&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">39959795970621.48</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">49572577715343.02</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">56010676972614.25</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">62825888774607.08</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">68768668100531.38</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">72614671348154.00</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">73741967153063.72</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">80812913356157.63</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">91213919284620.56</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">93742077498697.55</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;Usa&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">98416829331664.20</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">102030827915318.41</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">106326874443245.41</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">110185821032061.61</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">115058818792197.00</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">119637894766824.02</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">122856229947754.81</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">128136749246503.20</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">135100516865529.61</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">140700555399600.02</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;Japan&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">37418864084048.47</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">40421259256175.07</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">40721612856309.18</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">33845220187590.04</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">31841024698668.49</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">28815151672041.19</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">32314493883388.93</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">31949018103634.34</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">32526323537619.18</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">33359784337901.19</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;European Union&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">95476038828627.59</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">103354095012906.06</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">96081433361419.91</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">100395059650212.97</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">102621853711647.17</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">88918041106989.56</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">73741967153063.72</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">96883204984092.13</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">104804012847872.91</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">102581383668424.91</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç­›é€‰å‡ºæœ€å¤§æ•°æ® */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt; databases.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> currTotal = d3.<span class="title function_">max</span>(databases[i].<span class="property">total</span>, <span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d[<span class="number">1</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> (currTotal &gt; padding.<span class="property">totalMax</span>)</span><br><span class="line">        padding.<span class="property">totalMax</span> = currTotal</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åæ ‡è½´è§„æ ¼ */</span></span><br><span class="line"><span class="keyword">var</span> xScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">    .<span class="title function_">domain</span>([<span class="number">2010</span>,<span class="number">2019</span>])</span><br><span class="line">    .<span class="title function_">range</span>([<span class="number">0</span>,<span class="number">912</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">    .<span class="title function_">domain</span>([<span class="number">0</span>,<span class="number">140000000000000</span>])</span><br><span class="line">    .<span class="title function_">range</span>([padding.<span class="property">height</span> - padding.<span class="property">top</span> - padding.<span class="property">bottom</span>, <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linePath = d3.<span class="property">svg</span>.<span class="title function_">line</span>()</span><br><span class="line">    .<span class="title function_">x</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">xScale</span>(d[<span class="number">0</span>])</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">yScale</span>(d[<span class="number">1</span>])</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç²‰åˆ†åˆ«å®šä¹‰é¢œè‰² */</span></span><br><span class="line"><span class="keyword">var</span> color = [d3.<span class="title function_">rgb</span>(<span class="number">2550</span>,<span class="number">0</span>,<span class="number">0</span>) , d3.<span class="title function_">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>), d3.<span class="title function_">rgb</span>(<span class="number">200</span>,<span class="number">100</span>,<span class="number">255</span>), d3.<span class="title function_">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>) ]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è·¯å¾„ */</span></span><br><span class="line">svg.<span class="title function_">selectAll</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + padding.<span class="property">top</span> +<span class="string">&quot;)&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>, <span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">linePath</span>(d.<span class="property">total</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="number">2</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>, <span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> color[i]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡å­—æ ‡è®°ä¸æ–‡å­—è·¯å¾„ */</span></span><br><span class="line"><span class="keyword">var</span> gMark = svg.<span class="title function_">selectAll</span>(<span class="string">&quot;.gMark&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;translate(&quot;</span> + (padding.<span class="property">left</span> + i * padding.<span class="property">markStep</span>) + <span class="string">&quot;,&quot;</span> + (padding.<span class="property">height</span> - padding.<span class="property">bottom</span> + <span class="number">40</span>) + <span class="string">&quot;)&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">gMark.<span class="title function_">append</span>(<span class="string">&quot;rect&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;x&quot;</span>,<span class="number">0</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;y&quot;</span>,<span class="number">0</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> color[i]</span><br><span class="line">    &#125;)</span><br><span class="line">gMark.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;dx&quot;</span>,<span class="number">15</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>,<span class="string">&quot;.5em&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">text</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d.<span class="property">country</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åæ ‡è½´ */</span></span><br><span class="line"><span class="keyword">var</span> xAxis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">    .<span class="title function_">scale</span>(xScale)</span><br><span class="line">    .<span class="title function_">tickFormat</span>(d3.<span class="title function_">format</span>(<span class="string">&quot;d&quot;</span>))</span><br><span class="line">    .<span class="title function_">orient</span>(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yAxis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">    .<span class="title function_">scale</span>(yScale)</span><br><span class="line">    .<span class="title function_">tickFormat</span>(d3.<span class="title function_">format</span>(<span class="string">&quot;d&quot;</span>))</span><br><span class="line">    .<span class="title function_">orient</span>(<span class="string">&quot;left&quot;</span>)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + (padding.<span class="property">height</span> - padding.<span class="property">bottom</span>) + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">    .<span class="title function_">call</span>(xAxis)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + padding.<span class="property">top</span> + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">    .<span class="title function_">call</span>(yAxis)</span><br></pre></td></tr></table></figure>

<h2 id="å¢åŠ äº¤äº’"><a href="#å¢åŠ äº¤äº’" class="headerlink" title="å¢åŠ äº¤äº’"></a>å¢åŠ äº¤äº’</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210414202615.png"><br>ä¸‹è¿° <code>code</code>ä¸­æˆ‘ä»¬ä¸»è¦å…ˆè®¾ç½®<code>givecuo</code>ï¼Œå°†é¼ æ ‡ç»è¿‡æ—¶æ˜¾ç¤ºå‡ºæ•°æ®çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¹¶é€šè¿‡<code>line</code>è‡ªåŠ¨æ ¹æ®é¼ æ ‡ä½ç½®ç§»åŠ¨<code>å‚è€ƒçº¿</code>æ¥å¢åŠ ä½“éªŒï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å®šä¹‰åŸºæœ¬ç»“æ„æ•°æ® */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">900</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">right</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">bottom</span>: <span class="number">50</span>,</span><br><span class="line">    <span class="attr">left</span>: <span class="number">150</span>,</span><br><span class="line">    <span class="attr">totalMax</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">markStep</span>: <span class="number">80</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ•°æ® */</span></span><br><span class="line"><span class="keyword">var</span> databases = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;China&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">39959795970621.48</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">49572577715343.02</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">56010676972614.25</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">62825888774607.08</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">68768668100531.38</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">72614671348154.00</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">73741967153063.72</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">80812913356157.63</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">91213919284620.56</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">93742077498697.55</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;Usa&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">98416829331664.20</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">102030827915318.41</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">106326874443245.41</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">110185821032061.61</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">115058818792197.00</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">119637894766824.02</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">122856229947754.81</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">128136749246503.20</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">135100516865529.61</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">140700555399600.02</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;Japan&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">37418864084048.47</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">40421259256175.07</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">40721612856309.18</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">33845220187590.04</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">31841024698668.49</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">28815151672041.19</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">32314493883388.93</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">31949018103634.34</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">32526323537619.18</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">33359784337901.19</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">country</span>: <span class="string">&quot;European Union&quot;</span>,</span><br><span class="line">        <span class="attr">total</span>: [</span><br><span class="line">            [<span class="number">2010</span>,<span class="number">95476038828627.59</span>],</span><br><span class="line">            [<span class="number">2011</span>,<span class="number">103354095012906.06</span>],</span><br><span class="line">            [<span class="number">2012</span>,<span class="number">96081433361419.91</span>],</span><br><span class="line">            [<span class="number">2013</span>,<span class="number">100395059650212.97</span>],</span><br><span class="line">            [<span class="number">2014</span>,<span class="number">102621853711647.17</span>],</span><br><span class="line">            [<span class="number">2015</span>,<span class="number">88918041106989.56</span>],</span><br><span class="line">            [<span class="number">2016</span>,<span class="number">73741967153063.72</span>],</span><br><span class="line">            [<span class="number">2017</span>,<span class="number">96883204984092.13</span>],</span><br><span class="line">            [<span class="number">2018</span>,<span class="number">104804012847872.91</span>],</span><br><span class="line">            [<span class="number">2019</span>,<span class="number">102581383668424.91</span>]</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç­›é€‰å‡ºæœ€å¤§æ•°æ® */</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt; databases.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> currTotal = d3.<span class="title function_">max</span>(databases[i].<span class="property">total</span>, <span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d[<span class="number">1</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> (currTotal &gt; padding.<span class="property">totalMax</span>)</span><br><span class="line">        padding.<span class="property">totalMax</span> = currTotal</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åæ ‡è½´è§„æ ¼ */</span></span><br><span class="line"><span class="keyword">var</span> xScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">    .<span class="title function_">domain</span>([<span class="number">2010</span>,<span class="number">2019</span>])</span><br><span class="line">    .<span class="title function_">range</span>([<span class="number">0</span>,<span class="number">912</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">    .<span class="title function_">domain</span>([<span class="number">0</span>,<span class="number">140000000000000</span>])</span><br><span class="line">    .<span class="title function_">range</span>([padding.<span class="property">height</span> - padding.<span class="property">top</span> - padding.<span class="property">bottom</span>, <span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linePath = d3.<span class="property">svg</span>.<span class="title function_">line</span>()</span><br><span class="line">    .<span class="title function_">x</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">xScale</span>(d[<span class="number">0</span>])</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">yScale</span>(d[<span class="number">1</span>])</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç²‰åˆ†åˆ«å®šä¹‰é¢œè‰² */</span></span><br><span class="line"><span class="keyword">var</span> color = [d3.<span class="title function_">rgb</span>(<span class="number">2550</span>,<span class="number">0</span>,<span class="number">0</span>) , d3.<span class="title function_">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>), d3.<span class="title function_">rgb</span>(<span class="number">200</span>,<span class="number">100</span>,<span class="number">255</span>), d3.<span class="title function_">rgb</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>) ]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è·¯å¾„ */</span></span><br><span class="line">svg.<span class="title function_">selectAll</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + padding.<span class="property">top</span> +<span class="string">&quot;)&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>, <span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">linePath</span>(d.<span class="property">total</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="number">1</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>, <span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> color[i]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    æ·»åŠ æç¤ºæ¡†</span></span><br><span class="line"><span class="comment">        1.é¦–å…ˆå®šä¹‰ä¸€ä¸ªç›´çº¿ï¼Œé»˜è®¤ä¸ºä¸å¯è§</span></span><br><span class="line"><span class="comment">        2.æ–°å»ºä¸€ä¸ª &lt;div&gt; çŸ©å½¢æ¡†ï¼Œé»˜è®¤ä¸ºä¸å¯è§</span></span><br><span class="line"><span class="comment">        3.å…¶æ¬¡å•ä¸ª &lt;div&gt; æ·»åŠ å¯¹åº”çš„æ ‡é¢˜ï¼Œä¹‹åé€šè¿‡ .des åˆ†åˆ«æ·»åŠ  desTextã€desColor</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> vLine = svg.<span class="title function_">append</span>(<span class="string">&quot;line&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;focusLine&quot;</span>)</span><br><span class="line">    .<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;none&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hLine = svg.<span class="title function_">append</span>(<span class="string">&quot;line&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;focusLine&quot;</span>)</span><br><span class="line">    .<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;none&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> givecuo = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;givecuo&quot;</span>)</span><br><span class="line">    .<span class="title function_">style</span>(<span class="string">&quot;opacity&quot;</span>,<span class="number">0.0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> title = givecuo.<span class="title function_">append</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> des = givecuo.<span class="title function_">selectAll</span>(<span class="string">&quot;.des&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> desColor = des.<span class="title function_">append</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;desColor&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> desText = des.<span class="title function_">append</span>(<span class="string">&quot;div&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;desText&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> focusCircle = svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;focusCircle&quot;</span>)</span><br><span class="line">    .<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line"></span><br><span class="line">focusCircle.<span class="title function_">append</span>(<span class="string">&quot;circle&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;r&quot;</span>,<span class="number">4.5</span>)</span><br><span class="line"></span><br><span class="line">focusCircle.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;dx&quot;</span>,<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>,<span class="string">&quot;1em&quot;</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    è®¾ç½®ä¸€ä¸ªé€æ˜çš„ç›‘è§†é¼ æ ‡äº‹ä»¶çŸ©å½¢</span></span><br><span class="line"><span class="comment">    å½“é¼ æ ‡ç§»å‡ºæ—¶ï¼Œå†æ¬¡å°†é€æ˜åº¦è®¾ç½®ä¸º0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;rect&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;overlay&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;x&quot;</span>,padding.<span class="property">left</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;y&quot;</span>,padding.<span class="property">top</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,padding.<span class="property">width</span> - padding.<span class="property">left</span> - padding.<span class="property">right</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span> - padding.<span class="property">top</span> - padding.<span class="property">bottom</span>)</span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&quot;mouseover&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        givecuo.<span class="title function_">style</span>(<span class="string">&quot;left&quot;</span>, (d3.<span class="property">event</span>.<span class="property">pageX</span>) + <span class="string">&quot;px&quot;</span>)</span><br><span class="line">            .<span class="title function_">style</span>(<span class="string">&quot;top&quot;</span>, (d3.<span class="property">event</span>.<span class="property">pageY</span> + <span class="number">20</span>) + <span class="string">&quot;px&quot;</span>)</span><br><span class="line">            .<span class="title function_">style</span>(<span class="string">&quot;opacity&quot;</span>, <span class="number">1.0</span>)</span><br><span class="line">        focusCircle.<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>,<span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">        vLine.<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">        hLine.<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&quot;mousemove&quot;</span>, mousemove)</span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&quot;mouseout&quot;</span>, <span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        focusCircle.<span class="title function_">style</span>(<span class="string">&quot;display&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line">        givecuo.<span class="title function_">style</span>(<span class="string">&quot;opacity&quot;</span>,<span class="number">0.0</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    å½“é¼ æ ‡ç»è¿‡æ—¶è°ƒç”¨ mousemoveå‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mousemove</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æŠ˜çº¿çš„æºæ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> data = databases[<span class="number">0</span>].<span class="property">total</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–é¼ æ ‡ç›¸å¯¹çš„é€æ˜çŸ©å½¢å·¦ä¸Šè§’çš„åæ ‡ä¸º (0,0)</span></span><br><span class="line">    <span class="keyword">var</span> mouseX = d3.<span class="title function_">mouse</span>(<span class="variable language_">this</span>)[<span class="number">0</span>] - padding.<span class="property">left</span>;</span><br><span class="line">    <span class="keyword">var</span> mouseY = d3.<span class="title function_">mouse</span>(<span class="variable language_">this</span>)[<span class="number">1</span>] - padding.<span class="property">top</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡æ¯”ä¾‹å°ºçš„åå‡½æ•°è®¡ç®—å‡ºåŸæ•°æ®çš„å€¼ y0 æ˜¯ GDPçš„å€¼</span></span><br><span class="line">    <span class="keyword">var</span> x0 = xScale.<span class="title function_">invert</span>(mouseX)</span><br><span class="line">    <span class="keyword">var</span> y0 = yScale.<span class="title function_">invert</span>(mouseY)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¼€å§‹å››èˆäº”è·¯</span></span><br><span class="line">    x0 = <span class="title class_">Math</span>.<span class="title function_">round</span>(x0)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ†åˆ«æŸ¥æ‰¾ç´¢å¼•å’Œæ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> bisect = d3.<span class="title function_">bisector</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d[<span class="number">0</span>]</span><br><span class="line">    &#125;).<span class="property">left</span></span><br><span class="line">    <span class="keyword">var</span> index = <span class="title function_">bisect</span>(data, x0)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* åˆ†åˆ«è·å– å¹´ä»½å’Œ total */</span></span><br><span class="line">    <span class="keyword">var</span> x1 = data[index][<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> y1 = data[index][<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* åˆ†åˆ«é€šè¿‡ä½¿ç”¨ x å’Œ y çš„æ¯”ä¾‹å°ºæ¥è®¡ç®—å‡ºç„¦ç‚¹ä½ç½® */</span></span><br><span class="line">    <span class="keyword">var</span> focuX = <span class="title function_">xScale</span>(x1) + padding.<span class="property">left</span></span><br><span class="line">    <span class="keyword">var</span> focuY = <span class="title function_">yScale</span>(y1) + padding.<span class="property">top</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡è¯„è®®å°†ç„¦ç‚¹åˆ°æŒ‡å®šä½ç½®</span></span><br><span class="line">    focusCircle.<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + focuX + <span class="string">&quot;,&quot;</span> + focuY + <span class="string">&quot;)&quot;</span>);    <span class="comment">// åˆ†åˆ«è·å–å¹´ä»½ä»¥åŠæ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> year = x0</span><br><span class="line">    <span class="keyword">var</span> total = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k=<span class="number">0</span>;k&lt;databases.<span class="property">length</span>;k++) &#123;</span><br><span class="line">        total[k] = &#123;</span><br><span class="line">            <span class="attr">country</span>: databases[k].<span class="property">country</span>,</span><br><span class="line">                <span class="attr">value</span>: databases[k].<span class="property">total</span>[index][<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®æè¿°æ–‡å­—å†…å®¹</span></span><br><span class="line">    title.<span class="title function_">html</span>(<span class="string">&quot;&lt;strong&gt;&quot;</span> + year + <span class="string">&quot;å¹´&lt;/strong&gt;&quot;</span>);</span><br><span class="line">    desColor.<span class="title function_">style</span>(<span class="string">&quot;background-color&quot;</span>, <span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> color[i]</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ†åˆ«æ˜¾ç¤ºå›½å®¶ä»¥åŠå½“å‰æ•°æ®</span></span><br><span class="line">    desText.<span class="title function_">html</span>( <span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> total[i].<span class="property">country</span> + <span class="string">&quot;\t&quot;</span> + <span class="string">&quot;&lt;strong&gt;&quot;</span> + total[i].<span class="property">value</span> + <span class="string">&quot;&lt;/strong&gt;&quot;</span>;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æç¤ºæ¡†ä½ç½®</span></span><br><span class="line">    givecuo.<span class="title function_">style</span>(<span class="string">&quot;left&quot;</span>, (d3.<span class="property">event</span>.<span class="property">pageX</span>) + <span class="string">&quot;px&quot;</span>)</span><br><span class="line">        .<span class="title function_">style</span>(<span class="string">&quot;top&quot;</span>, (d3.<span class="property">event</span>.<span class="property">pageY</span> + <span class="number">20</span>) + <span class="string">&quot;px&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å‚ç›´çº¿å¯¹å…¶åæ ‡</span></span><br><span class="line">    <span class="keyword">var</span> vlx = <span class="title function_">xScale</span>(data[index][<span class="number">0</span>]) + padding.<span class="property">left</span>;</span><br><span class="line">    <span class="keyword">var</span> vly = <span class="title function_">yScale</span>(data[index][<span class="number">1</span>]) + padding.<span class="property">top</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‚ç›´çº¿çš„ç»ˆç‚¹å’Œèµ·ç‚¹</span></span><br><span class="line">    vLine.<span class="title function_">attr</span>(<span class="string">&quot;x1&quot;</span>, vlx)</span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&quot;y1&quot;</span>,padding.<span class="property">top</span>)</span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&quot;x2&quot;</span>,vlx)</span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&quot;y2&quot;</span>,padding.<span class="property">height</span> - padding.<span class="property">bottom</span>);</span><br><span class="line"></span><br><span class="line">    hLine.<span class="title function_">attr</span>(<span class="string">&quot;x1&quot;</span>,vlx)</span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&quot;y1&quot;</span>,vly)</span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&quot;x2&quot;</span>,padding.<span class="property">left</span>)</span><br><span class="line">        .<span class="title function_">attr</span>(<span class="string">&quot;y2&quot;</span>,vly)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡å­—æ ‡è®°ä¸æ–‡å­—è·¯å¾„ */</span></span><br><span class="line"><span class="keyword">var</span> gMark = svg.<span class="title function_">selectAll</span>(<span class="string">&quot;.gMark&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;translate(&quot;</span> + (padding.<span class="property">left</span> + i * padding.<span class="property">markStep</span>) + <span class="string">&quot;,&quot;</span> + (padding.<span class="property">height</span> - padding.<span class="property">bottom</span> + <span class="number">40</span>) + <span class="string">&quot;)&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">gMark.<span class="title function_">append</span>(<span class="string">&quot;rect&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;x&quot;</span>,<span class="number">0</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;y&quot;</span>,<span class="number">0</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="keyword">function</span> (<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> color[i]</span><br><span class="line">    &#125;)</span><br><span class="line">gMark.<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;dx&quot;</span>,<span class="number">15</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;dy&quot;</span>,<span class="string">&quot;.5em&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">text</span>(<span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d.<span class="property">country</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åæ ‡è½´ */</span></span><br><span class="line"><span class="keyword">var</span> xAxis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">    .<span class="title function_">scale</span>(xScale)</span><br><span class="line">    .<span class="title function_">tickFormat</span>(d3.<span class="title function_">format</span>(<span class="string">&quot;d&quot;</span>))</span><br><span class="line">    .<span class="title function_">orient</span>(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yAxis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">    .<span class="title function_">scale</span>(yScale)</span><br><span class="line">    .<span class="title function_">tickFormat</span>(d3.<span class="title function_">format</span>(<span class="string">&quot;d&quot;</span>))</span><br><span class="line">    .<span class="title function_">orient</span>(<span class="string">&quot;left&quot;</span>)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + (padding.<span class="property">height</span> - padding.<span class="property">bottom</span>) + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">    .<span class="title function_">call</span>(xAxis)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + padding.<span class="property">top</span> + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">    .<span class="title function_">call</span>(yAxis)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>CSS</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.axis</span> path,   <span class="comment">/* åæ ‡è½´è·¯å¾„è®¾ç½® */</span></span><br><span class="line"><span class="selector-class">.axis</span> line &#123;    <span class="comment">/* è®¾ç½® åæ ‡è½´çš„çº¿æ¡ */</span></span><br><span class="line">  fill: none;   <span class="comment">/* è®¾ç½®åæ ‡è½´å®½åº¦ */</span></span><br><span class="line">  stroke: <span class="number">#929292</span>;  <span class="comment">/* åæ ‡è½´é¢œè‰² */</span></span><br><span class="line">  shape-rendering: crispEdges;  <span class="comment">/* å°†å½¢çŠ¶æ¸²æŸ“ä¸ºæ¸…æ™°çš„è¾¹ç¼˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.axis</span> text &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  stroke: <span class="number">#929292</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.focusLine</span> &#123;</span><br><span class="line">  stroke: <span class="number">#b2b2b2</span>;</span><br><span class="line">  stroke-dasharray: <span class="number">10</span>,<span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.givecuo</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.givecuo</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">3px</span> solid red;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.givecuo</span> <span class="selector-class">.desColor</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">1px</span> <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.givecuo</span> <span class="selector-class">.desText</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.overlay</span> &#123;</span><br><span class="line">  fill: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/18.D3 å¯¹è§’çº¿ç”Ÿæˆå™¨/">D3 å¯¹è§’çº¿ç”Ÿæˆå™¨</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210402104825.png"><br>å¯¹è§’çº¿ç”Ÿæˆå™¨ï¼ˆ<code>Diagonal enerator</code>ï¼‰ï¼Œä¸»è¦ä½¿ç”¨<code>ä¸‰æ¬¡è´èµ›å°”æ›²çº¿</code>å°†ä¸¤ä¸ªç‚¹è¿›è¡Œè¿æ¥ï¼Œé€šè¿‡ä½¿ç”¨<code>d3.svg.diagonal()</code>åˆ›å»ºï¼Œå…±æœ‰ä¸¤ä¸ªè®¿é—®å™¨ä¸€ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«ä¸ºï¼šâ€œ<code>source()ã€target()ã€projection()</code>â€</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è®¾ç½®åŸºæœ¬ svg æ ¼å¼ */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¯¹è§’çº¿åæ ‡ */</span></span><br><span class="line"><span class="keyword">var</span> databases = &#123;</span><br><span class="line">    <span class="attr">source</span>: &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">2</span>, <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">target</span>: &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">300</span>, <span class="attr">y</span>: <span class="number">900</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰å¯¹è§’çº¿ç”Ÿæˆå™¨ */</span></span><br><span class="line"><span class="keyword">var</span> diagonal = d3.<span class="property">svg</span>.<span class="title function_">diagonal</span>()</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="title function_">diagonal</span>(databases))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;#51d576&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<h2 id="projection"><a href="#projection" class="headerlink" title="projection"></a>projection</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210402105518.png"><br>projection() ä¸»è¦æ˜¯å°†<code>åæ ‡è¿›è¡Œè½¬æ¢</code>ï¼Œé€šå¸¸<strong>target</strong>åæ ‡ä¼š<code>é¦–å…ˆ</code>è°ƒç”¨è¯¥æŠ•å½±è¿›è¡Œè½¬æ¢ï¼Œä¹‹åç”Ÿæˆæ–°çš„è·¯å¾„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è®¾ç½®åŸºæœ¬ svg æ ¼å¼ */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">1800</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¯¹è§’çº¿åæ ‡ */</span></span><br><span class="line"><span class="keyword">var</span> databases = &#123;</span><br><span class="line">    <span class="attr">source</span>: &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">2</span>, <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">target</span>: &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">300</span>, <span class="attr">y</span>: <span class="number">900</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰å¯¹è§’çº¿ç”Ÿæˆå™¨ */</span></span><br><span class="line"><span class="keyword">var</span> diagonal = d3.<span class="property">svg</span>.<span class="title function_">diagonal</span>()</span><br><span class="line">    .<span class="title function_">projection</span>(<span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = d.<span class="property">x</span> * <span class="number">2</span></span><br><span class="line">        <span class="keyword">var</span> y = d.<span class="property">y</span> * <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> [x,y]</span><br><span class="line">    &#125;)</span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="title function_">diagonal</span>(databases))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;#51d576&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> diagonal = d3.<span class="property">svg</span>.<span class="title function_">diagonal</span>()</span><br><span class="line">    .<span class="title function_">projection</span>(<span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> x = d.<span class="property">x</span> * <span class="number">2</span></span><br><span class="line">        <span class="keyword">var</span> y = d.<span class="property">y</span> * <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> [x,y]</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæœ€ç»ˆçš„<code>target</code>è·¯å¾„å°†ä¼šåœ¨<code>åŸæœ‰</code>çš„å¤§å°ä¸‹å°†ä¼šè¢«æ”¾å¤§æˆ<code>2</code>å€ã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/17.D3 å¼¦ç”Ÿæˆå™¨/">D3 å¼¦ç”Ÿæˆå™¨</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210402091624.png"><br>å¼¦ç”Ÿæˆå™¨ï¼ˆ<code>Chord Generator</code>ï¼‰ï¼Œä¸»è¦ç”¨äºå°†ä¸¤ä¸ª<code>å¼§</code>è¿›è¡Œè¿æ¥ï¼Œå¯é€šè¿‡ä½¿ç”¨<code>d3.svg.chord()</code>è¿›è¡Œå£°æ˜ï¼Œåˆ†åˆ«æœ‰äº”ä¸ªè®¿é—®å™¨ï¼šâ€œ<code>sourceï¼ˆèµ·å§‹å¼§ï¼‰ã€targetï¼ˆç»ˆæ­¢å¼§ï¼‰ã€radiusï¼ˆåŠå¾„ï¼‰ã€startAngleï¼ˆèµ·å§‹è§’åº¦ï¼‰ã€endAngleï¼ˆç»ˆæ­¢è§’åº¦ï¼‰</code>â€ï¼Œå¼¦ç”Ÿæˆå™¨æ˜¯ç”Ÿæˆå¼¦å›¾çš„é‡è¦ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* svg åŸºæœ¬ç»“æ„ */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼¦æ•°æ® */</span></span><br><span class="line"><span class="keyword">var</span> databases = &#123;</span><br><span class="line">    <span class="attr">source</span>: &#123;</span><br><span class="line">        <span class="attr">startAngle</span>: <span class="number">0.2</span>,</span><br><span class="line">        <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">0.3</span>,</span><br><span class="line">        <span class="attr">radius</span>: <span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">target</span>: &#123;</span><br><span class="line">        <span class="attr">startAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">1.0</span>,</span><br><span class="line">        <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">1.6</span>,</span><br><span class="line">        <span class="attr">radius</span>: <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å£°æ˜å¼¦ */</span></span><br><span class="line"><span class="keyword">var</span> chord = d3.<span class="property">svg</span>.<span class="title function_">chord</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼¦ç»˜åˆ¶ */</span></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="title function_">chord</span>(databases))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(200,200)&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;#51d576&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/16.D3 å¼§ç”Ÿæˆå™¨/">D3 å¼§ç”Ÿæˆå™¨</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401111956.png"><br>å¼§ç”Ÿæˆå™¨ï¼ˆ<code>Arc Generator</code>ï¼‰å¯ä»¥é€šè¿‡<code>innerRadiusï¼ˆå†…åŠå¾„è®¿é—®å™¨ï¼‰ã€outerRadiusï¼ˆå¤–åŠå¾„è®¿é—®å™¨ï¼‰ã€startAngleï¼ˆèµ·å§‹è§’åº¦ï¼‰ã€endAngleï¼ˆç»ˆæ­¢è§’åº¦è®¿é—®å™¨ï¼‰</code>å››ç±»è®¿é—®å™¨æ¥ç»˜åˆ¶<code>åœ†å¼§</code>ä»¥åŠ<code>é¥¼çŠ¶å›¾å’Œå¼¦å›¾</code>ç­‰å›¾è¡¨ã€‚</p>
<h2 id="innerRadius-and-outerRadius"><a href="#innerRadius-and-outerRadius" class="headerlink" title="innerRadius and outerRadius"></a>innerRadius and outerRadius</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401195444.png"></p>
<h2 id="ä¸€å¼§"><a href="#ä¸€å¼§" class="headerlink" title="ä¸€å¼§"></a>ä¸€å¼§</h2><p>åœ¨ä¸‹è¿° code ä¸­ï¼Œ<code>startAngle</code> or <code>startAngle</code>å³ä»£è¡¨<code>åœ†å¼§</code>çš„åº¦æ•°ï¼Œé€šå¸¸çš„æƒ…å†µä¸‹<code>0Â°</code>éœ€è¦ä½¿ç”¨<code>0</code>ä»£æ›¿ï¼ŒåŒæ ·<code>180Â°</code>ä¹Ÿéœ€è¦é€šè¿‡<code>3.1415926</code>æ¥è¿›è¡Œä»£æ›¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»–æ˜¯æŒ‰ç…§<code>é¡ºæ—¶é’ˆ</code>æ–¹å‘æ¥è¿›è¡Œå¡«å……æˆ–å¢åŠ çš„ï¼Œå…¶ä¸­<code>outerRadius</code>ä¸<code>innerRadius</code>åˆ†åˆ«è¡¨ç¤º<strong>åœ†å¼§åŠå¾„</strong>ä»¥åŠ<strong>å†…å¼§åŠå¾„</strong>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">1800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">500</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,padding.<span class="property">height</span>)</span><br><span class="line"><span class="keyword">var</span> databases = &#123;</span><br><span class="line">    <span class="attr">startAngle</span>: <span class="number">9</span>,</span><br><span class="line">    <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">1.10</span>    <span class="comment">/* æä¾›åŸºæœ¬çš„æ•°å­¦åŠŸèƒ½å’Œå¸¸æ•°åœ¨å†…çš„å¯¹è±¡ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> archPath = d3.<span class="property">svg</span>.<span class="title function_">arc</span>()</span><br><span class="line">    .<span class="title function_">innerRadius</span>(<span class="number">200</span>)</span><br><span class="line">    .<span class="title function_">outerRadius</span>(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>, <span class="title function_">archPath</span>(databases))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>,<span class="string">&quot;translate(255,255)&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;#026836&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="string">&quot;10px&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;#22a547&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="å¤šå¼§"><a href="#å¤šå¼§" class="headerlink" title="å¤šå¼§"></a>å¤šå¼§</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401195556.png"><br>åœ¨ D3 ä¸­ï¼Œå¤šå¼§ä¸»è¦ç”¨äºç»˜åˆ¶è¯¸å¦‚<code>é¥¼çŠ¶å›¾</code>ç­‰å­¦æœ¯å›¾è¡¨ï¼Œé€šè¿‡ä½¿ç”¨å¤šå¼§å¹¶å°†å…¶<code>startAngle</code>ä¸<code>endAngle</code>å½¢æˆ<strong>é¦–ä½å‘¼åº”</strong>ä¹‹åŠ¿ï¼Œæœ€ç»ˆä»–ä»¬çš„åº¦æ•°å…±ä¸º<code>360Â°</code>å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* svg åˆ›å»ºä¸å¤§å° */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¥¼å›¾æ•°æ® */</span></span><br><span class="line"><span class="keyword">var</span> databases = [</span><br><span class="line">    &#123; <span class="attr">startAngle</span>: <span class="number">0</span>, <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">0.6</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">startAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">0.6</span>, <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">startAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span>, <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">1.7</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">startAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">1.7</span>, <span class="attr">endAngle</span>: <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* innner and outer ä¸ code */</span></span><br><span class="line"><span class="keyword">var</span> archPath = d3.<span class="property">svg</span>.<span class="title function_">arc</span>()</span><br><span class="line">    .<span class="title function_">innerRadius</span>(<span class="number">0</span>)</span><br><span class="line">    .<span class="title function_">outerRadius</span>(<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> color = d3.<span class="property">scale</span>.<span class="title function_">category20b</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åœ†ä½ç½®ä¸åŸºæœ¬æ ·å¼ */</span></span><br><span class="line">svg.<span class="title function_">selectAll</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">archPath</span>(d)</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, <span class="string">&quot;translate(255,255)&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>, <span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>, <span class="string">&quot;1px&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>, <span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">color</span>(i)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–‡å­—æ ·å¼ä¸ä½ç½® */</span></span><br><span class="line">svg.<span class="title function_">selectAll</span>(<span class="string">&quot;text&quot;</span>)</span><br><span class="line">    .<span class="title function_">data</span>(databases)</span><br><span class="line">    .<span class="title function_">enter</span>()</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;text&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;translate(255,255)&quot;</span> +</span><br><span class="line">            <span class="string">&quot;translate(&quot;</span> + archPath.<span class="title function_">centroid</span>(d) + <span class="string">&quot;)&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;text-anchor&quot;</span>, <span class="string">&quot;middle&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;white&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;font-size&quot;</span>,<span class="string">&quot;10px&quot;</span>)</span><br><span class="line">    .<span class="title function_">text</span>(<span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>((d.<span class="property">endAngle</span> - d.<span class="property">startAngle</span>) * <span class="number">180</span> / <span class="title class_">Math</span>.<span class="property">PI</span>) + <span class="string">&quot;Â°&quot;</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/15.D3 åŒºåŸŸé€‰æ‹©å™¨/">D3 åŒºåŸŸç”Ÿæˆå™¨</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401032524.png"><br>åŒºåŸŸç”Ÿæˆå™¨ï¼ˆ<code>Area Generator</code>ï¼‰ä¸»è¦ä½œç”¨æ˜¯<code>ç”Ÿæˆä¸€å—åŒºåŸŸ</code>ï¼Œé€šå¸¸åŒºåŸŸé€‰æ‹©å™¨çš„<code>æ•°æ®è®¿é—®å™¨</code>æœ‰<strong>å…­ä¸ª</strong>ï¼Œå³â€<code>x()ï¼Œx0()ã€x1()ã€y0()ã€y1()</code>â€œï¼Œå¯é€šè¿‡ä½¿ç”¨<code>d3.svg.area()</code>è¿›è¡Œåˆ›å»ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> databases = [<span class="number">80</span>,<span class="number">120</span>,<span class="number">130</span>,<span class="number">70</span>,<span class="number">60</span>,<span class="number">90</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> areaPath = d3.<span class="property">svg</span>.<span class="title function_">area</span>()</span><br><span class="line">    .<span class="title function_">x</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">50</span> + i * <span class="number">80</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y0</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> padding.<span class="property">height</span> / <span class="number">2</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y1</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> padding.<span class="property">height</span> / <span class="number">2</span> - d</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="title function_">areaPath</span>(databases))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;#92f8c5&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>, <span class="string">&quot;3px&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;#bdfedf&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401032539.png"><br>é€šè¿‡ä¸Šè¿°çš„ code ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°svgè·¯å¾„ä¸ºï¼šâ€<code>M50,330L130,280L210,270L290,330L370,340L450,320L450,400L370,400L290,400L210,400L130,400L50,400Z</code>â€œçš„æ•°æ®ï¼Œè¿™ä¸€åˆ‡å½’æ ¹äº<code>xã€y0ã€y1</code>çš„åŒºåŸŸè®¿é—®å™¨ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨<code>interpolate</code>æ–¹æ³•ï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">800</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> databases = [<span class="number">80</span>,<span class="number">120</span>,<span class="number">130</span>,<span class="number">70</span>,<span class="number">60</span>,<span class="number">90</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> areaPath = d3.<span class="property">svg</span>.<span class="title function_">area</span>()</span><br><span class="line">    .<span class="title function_">x</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">50</span> + i * <span class="number">80</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y0</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> padding.<span class="property">height</span> / <span class="number">2</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y1</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> padding.<span class="property">height</span> / <span class="number">2</span> - d</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">interpolate</span>(<span class="string">&quot;basis&quot;</span>)</span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="title function_">areaPath</span>(databases))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;#92f8c5&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>, <span class="string">&quot;3px&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;#bdfedf&quot;</span>)</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/14.D3 è·¯å¾„ä¸çº¿æ®µç”Ÿæˆå™¨/">D3 è·¯å¾„ä¸çº¿æ®µç”Ÿæˆå™¨</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<h2 id="çº¿æ®µ"><a href="#çº¿æ®µ" class="headerlink" title="çº¿æ®µ"></a>çº¿æ®µ</h2><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210331111028.png"><br>çº¿æ®µç”Ÿæˆå™¨ï¼ˆ<code>Line segment generator</code>ï¼‰çš„ä¸»è¦ä½œç”¨å°±æ˜¯ï¼Œè®©åŸæœ¬åªæœ‰<code>ä¸¤ä¸ª</code>ç‚¹çš„çº¿æ®µï¼Œå¯ä»¥è¢«åˆ’åˆ†æˆ<code>æ— æ•°</code>ç‚¹ï¼Œé€šè¿‡è®¾ç½®é€šè¿‡è®¾ç½®çº¿æ®µç”Ÿæˆå™¨å¯ä»¥ä½¿å¾—ç»˜ç”»å‡ºå„æ ·å½¢çŠ¶ï¼Œè€Œä»…ä»…é€šè¿‡<code>[x1,y1],[x2,y2]</code>çš„æ–¹æ³•æ˜¯æ— æ³•è¾¾åˆ°çš„ï¼Œåœ¨è¿™ä¸ªæƒ…å†µå’Œéœ€æ±‚çš„æƒ…å†µä¸‹ï¼ŒD3 æä¾›äº†<code>è·¯å¾„ç”Ÿæˆå™¨ï¼ˆPath Generatorï¼‰</code>çš„æ¦‚å¿µï¼Œå¯ä»¥<strong>è‡ªåŠ¨æ ¹æ®æ•°æ®ç”Ÿæˆè·¯å¾„</strong>ï¼Œè€Œç”¨äºç”Ÿæˆçº¿æ®µçš„è¿‡ç¨‹è¢«ç§°ä¹‹ä¸º<code>çº¿æ®µç”Ÿæˆå™¨ï¼ˆLine Generatorï¼‰</code>ï¼š</p>
<blockquote>
<p>line</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,<span class="number">800</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,<span class="number">800</span>)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;line&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;x1&quot;</span>,<span class="number">0</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;y1&quot;</span>,<span class="number">400</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;x2&quot;</span>,<span class="number">200</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;y2&quot;</span>,<span class="number">10</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="string">&quot;3px&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>path</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,<span class="number">800</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,<span class="number">800</span>)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="string">&quot;M20,201L300,20&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="string">&quot;3px&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="çº¿æ®µç”Ÿæˆå™¨"><a href="#çº¿æ®µç”Ÿæˆå™¨" class="headerlink" title="çº¿æ®µç”Ÿæˆå™¨"></a>çº¿æ®µç”Ÿæˆå™¨</h2><p>çº¿æ®µç”Ÿæˆå™¨ï¼ˆ<code>Line Generator</code>ï¼‰ï¼Œä¸»è¦å¯ä»¥é€šè¿‡ä½¿ç”¨<code>d3.svg.line()</code>æ–¹æ³•è¿›è¡Œåˆ›å»ºï¼Œé€šè¿‡çº¿æ®µçš„ç‚¹æ•°æ®ï¼Œå’Œæ¯ä¸€é¡¹çš„<code>[x,y]</code>æ¥è¿›è¡Œå®šä¹‰åæ ‡ï¼Œå¯¹äºçº¿æ®µç”Ÿæˆå™¨ï¼ŒD3 æä¾›äº†å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>d3.svg.line()</td>
<td>åˆ›å»ºä¸€ä¸ªçº¿æ®µç”Ÿæˆå™¨</td>
<td></td>
</tr>
<tr>
<td>line()</td>
<td>ä½¿ç”¨çº¿æ®µç”Ÿæˆå™¨ç»˜åˆ¶æ•°æ®</td>
<td></td>
</tr>
<tr>
<td></td>
<td>line.x()</td>
<td>è®¾ç½®æˆ–è·å–çº¿æ®µ<code>x</code>åæ ‡è®¿é—®å™¨ï¼ˆä½¿ç”¨ä»€ä¹ˆä½œä¸ºçº¿æ®µçš„xåæ ‡ï¼‰</td>
</tr>
<tr>
<td></td>
<td>line.y()</td>
<td>è®¾ç½®æˆ–è·å– <code>y</code>åæ ‡çš„è®¿é—®å™¨</td>
</tr>
<tr>
<td>line.interpolate()</td>
<td>è®¾ç½®æˆ–è·å–çº¿æ®µçš„<code>æ’å€¼</code>æ¨¡å¼</td>
<td></td>
</tr>
<tr>
<td>line.tension()</td>
<td>è®¾ç½®æˆ–è·å–å¼ åŠ›ç³»æ•°</td>
<td>éœ€è¦æ’å€¼æ¨¡å¼ä¸ºï¼š<code>cardinalã€cardinal-openã€cardinal-closed</code>æ—¶æœ‰æ•ˆ</td>
</tr>
<tr>
<td>line.defined</td>
<td>è®¾ç½®æˆ–è·å–ä¸€ä¸ªè®¿é—®å™¨ï¼Œç”¨äºç¡®å®šçº¿æ®µæ˜¯å¦<code>å­˜åœ¨</code></td>
<td>åªæœ‰å½“æ•°æ®å­˜åœ¨æ—¶ä¼šè¢«<code>ç»˜åˆ¶</code></td>
</tr>
</tbody></table>
<h3 id="d3-svg-line"><a href="#d3-svg-line" class="headerlink" title="d3.svg.line()"></a>d3.svg.line()</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210331111037.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,<span class="number">800</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,<span class="number">800</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lines = [[<span class="number">100</span>,<span class="number">100</span>],[<span class="number">200</span>,<span class="number">200</span>],[<span class="number">400</span>,<span class="number">200</span>],[<span class="number">500</span>,<span class="number">100</span>]]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linePath = d3.<span class="property">svg</span>.<span class="title function_">line</span>()</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>,<span class="title function_">linePath</span>(lines))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>,<span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="string">&quot;1px&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°çš„ code ä¸­ï¼Œä¸»è¦æä¾›äº†<code>å››ä¸ªç‚¹</code>ï¼Œå³ä»–æ­¤æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>d3.svg.line(lines)</code>è®©å…¶é€šè¿‡ä½¿ç”¨<code>çº¿æ®µç”Ÿæˆå™¨</code>è¿›è¡Œåˆ›å»ºï¼Œä¹‹åè‡ªåŠ¨ç”Ÿæˆäº†è·¯å¾„ä¸º<code>M100,100L200,200L400,200L500,100</code>çš„æŠ˜çº¿è·¯å¾„ã€‚</p>
<h3 id="è®¿é—®å™¨ä¸-interpolate"><a href="#è®¿é—®å™¨ä¸-interpolate" class="headerlink" title="è®¿é—®å™¨ä¸ interpolate()"></a>è®¿é—®å™¨ä¸ interpolate()</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401014007.png"></p>
<h4 id="è®¿é—®å™¨"><a href="#è®¿é—®å™¨" class="headerlink" title="è®¿é—®å™¨"></a>è®¿é—®å™¨</h4><p>åœ¨D3ä¸­ï¼Œè®¿é—®å™¨å³<code>line.x()</code>ä¸<code>line.y()</code>ï¼Œä¸»è¦é€šè¿‡ä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">x</span>(<span class="params">d</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> d[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">y</span>(<span class="params">d</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> d[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸è®¿é—®å™¨ä¸»è¦çš„ä½œç”¨å°±æ˜¯å¯¹<code>x</code>ä¸<code>y</code>åæ ‡è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œé€šè¿‡ä½¿ç”¨è®¿é—®å™¨ï¼Œæˆ‘ä»¬å¯ä»¥è¾¾åˆ°ç»è¿‡è°ƒæ•™å¾ˆä¹…çš„åæ ‡æ•°æ®ï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lines = [<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>,<span class="number">400</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linePath = d3.<span class="property">svg</span>.<span class="title function_">line</span>()</span><br><span class="line">    .<span class="title function_">x</span>(<span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> i%<span class="number">2</span>==<span class="number">0</span> ? <span class="number">50</span> : <span class="number">0</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401014022.png"></p>
<p>å› æ­¤æˆ‘ä»¬ä¼šå¾—åˆ°<code>M100,50L200,0L300,50L400,0</code>çš„SVGè·¯å¾„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">1800</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">1800</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">    .<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>,padding.<span class="property">width</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>,padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lines = [<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>,<span class="number">400</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> linePath = d3.<span class="property">svg</span>.<span class="title function_">line</span>()</span><br><span class="line">    .<span class="title function_">x</span>(<span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> d;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">y</span>(<span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> i%<span class="number">2</span>==<span class="number">0</span> ? <span class="number">50</span> : <span class="number">10</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;path&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;d&quot;</span>, <span class="title function_">linePath</span>(lines))</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke&quot;</span>, <span class="string">&quot;black&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;stroke-width&quot;</span>,<span class="string">&quot;2px&quot;</span>)</span><br><span class="line">    .<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>,<span class="string">&quot;none&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆæ ¹æ®ä¸Šè¿°çš„<code>lines</code>ä¸<code>linePath</code>ï¼Œå°†ä¼šç»„æˆä¸€ç»„åæ ‡å³ï¼šâ€<code>[100,50]ï¼Œ[200,0]ï¼Œ[300,50]ï¼Œ[400,0]</code>â€œï¼Œè€Œä»–ä»¬çš„ç»„æˆä¸»è¦ä¸<code>line</code>ä»¥åŠ<code>linePath</code>æœ‰å…³ï¼š<br><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401014039.png"></p>
<h4 id="interpolate"><a href="#interpolate" class="headerlink" title="interpolate"></a>interpolate</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">| ID | DA |</span><br><span class="line">| --- | --- |</span><br><span class="line">| interpolate(&quot;```basis&quot;```) | ![](https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401014352.png) |</span><br><span class="line">| interpolate(&quot;```cardinal```&quot;) | ![](https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401014101.png) |</span><br><span class="line">| interpolate(&quot;```stop```) | ![](https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210401014259.png) |</span><br><span class="line">```js</span><br><span class="line">var padding = &#123;</span><br><span class="line">    width: 1800,</span><br><span class="line">    height: 1800</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var svg = d3.select(&quot;body&quot;)</span><br><span class="line">    .append(&quot;svg&quot;)</span><br><span class="line">    .attr(&quot;width&quot;,padding.width)</span><br><span class="line">    .attr(&quot;height&quot;,padding.height)</span><br><span class="line"></span><br><span class="line">var lines = [100,200,300,400]</span><br><span class="line"></span><br><span class="line">    var linePath = d3.svg.line()</span><br><span class="line">    .x(function(d) &#123;</span><br><span class="line">        return d;</span><br><span class="line">    &#125;)</span><br><span class="line">    .y(function(d,i) &#123;</span><br><span class="line">        return i%2==0 ? 50 : 0</span><br><span class="line">    &#125;)</span><br><span class="line">    .interpolate(&quot;basis&quot;)</span><br><span class="line"></span><br><span class="line">svg.append(&quot;path&quot;)</span><br><span class="line">    .attr(&quot;d&quot;, linePath(lines))</span><br><span class="line">    .attr(&quot;stroke&quot;, &quot;black&quot;)</span><br><span class="line">    .attr(&quot;stroke-width&quot;,&quot;2px&quot;)</span><br><span class="line">    .attr(&quot;fill&quot;,&quot;none&quot;)</span><br></pre></td></tr></table></figure>


	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/13.D3 é¢œè‰²ä¸æ’å€¼/">D3 é¢œè‰²ä¸æ’å€¼</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<h2 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h2><h3 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h3><p>RGB è‰²å½©æ¨¡å¼ (<code>RGB color mode</code>)ï¼Œæ˜¯ä¸€ç§å·¥ä¸šç•Œçš„é¢œè‰²æ ‡å‡†ï¼Œä¸»è¦æœ‰<code>çº¢ï¼ˆRï¼ŒRedï¼‰ã€ç»¿ï¼ˆGï¼ŒGreenï¼‰ã€è“ï¼ˆBï¼ŒBlueï¼‰</code>ä¸‰è‰²ï¼Œå³<code>RGB</code>ï¼Œé€šè¿‡<strong>ç›¸äº’ä¹‹é—´çš„å åŠ </strong>æ¥å–å¾—å„ç§å„æ ·çš„<code>é¢œè‰²</code>ã€‚RGB ä¸»è¦è¦†ç›–äº†ç›®å‰æ‰€æœ‰å¸¸ç”¨å’Œäººç±»è‚‰çœ¼å¯ç”¨çš„é¢œè‰²ï¼Œä¹Ÿæ˜¯æœ€ä¸ºå¸¸ç”¨çš„é¢œè‰²æ¨¡å¼ä¹‹ä¸€ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒRGB çš„äº®åº¦å„æœ‰ <code>0ï½255</code>ä¸ªäº®åº¦ï¼Œé€šè¿‡ä»–ä»¬ä¸‰ä¸ªé€šé“çš„<strong>å åŠ </strong>å¯ä»¥ç»„åˆå‡ºå¤§çº¦<code>1678</code>ä¸‡ä¸­é¢œè‰²ï¼Œé€šå¸¸ä¹Ÿä¼šè¢«ç§°ä¹‹ä¸º<code>1600</code>ä¸‡è‰²æˆ–åƒä¸‡è‰²ï¼Œè¿˜å¯ä»¥è¢«ç§°ä¹‹ä¸º<code>24ä½è‰²</code>ï¼Œåœ¨D3ä¸­ä»–æœ‰å¦‚ä¸‹æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>d3.rgb(rï¼Œgï¼Œb)</td>
<td>åˆ†åˆ«è¾“å‡º<code> r\g\b</code>æ¥åˆ›å»ºé¢œè‰²ï¼ˆèŒƒå›´éƒ½æ˜¯0,255ï¼‰</td>
<td></td>
</tr>
<tr>
<td>d3.rgb(<code>color</code>)</td>
<td>é€šè¿‡è¾“å‡ºç›¸åº”çš„å­—ç¬¦ä¸²æ¥åˆ›å»ºé¢œè‰²ï¼š</td>
<td></td>
</tr>
<tr>
<td></td>
<td>RGB <code>åè¿›åˆ¶</code></td>
<td>rgb(255, 255, 255)</td>
</tr>
<tr>
<td></td>
<td>RGB <code>åå…­è¿›åˆ¶</code></td>
<td>#ff0d0d</td>
</tr>
<tr>
<td></td>
<td>RGB <code>åå…­è¿›åˆ¶</code>ç¼©å†™</td>
<td>#ff0</td>
</tr>
<tr>
<td></td>
<td>HSL <code>åè¿›åˆ¶</code></td>
<td>hsl(120, 0.5, 0.5)</td>
</tr>
<tr>
<td></td>
<td>é¢œè‰²<code>åç§°</code></td>
<td>red</td>
</tr>
<tr>
<td>rgb.brighter()</td>
<td>ä½¿å¾—é¢œè‰²å˜å¾—æ›´åŠ æ˜äº®</td>
<td>RGBçš„å„ä¸ªé€šé“ x 0.7 ^ -kï¼ˆå¦‚æœ <code>k</code>æ²¡æœ‰ï¼Œé‚£ä¹ˆ<code>k</code>çš„å€¼å°±ä¸º<code>1</code>ï¼‰ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯<strong>åªæœ‰å½“æŸé€šé“çš„å€¼çš„èŒƒå›´åœ¨ 30~255 ä¹‹é—´æ—¶ï¼Œæ‰ä¼šè¿›è¡Œç›¸åº”çš„è®¡ç®—</strong></td>
</tr>
<tr>
<td>rgb.darker()</td>
<td>é¢œè‰²å˜å¾—æ›´åŠ é»¯æ·¡</td>
<td>RGBå„ä¸ªå€¼ x 0.7 ^ k</td>
</tr>
<tr>
<td>rgb.hsl()</td>
<td>è¿”å›è¯¥é¢œè‰²å¯¹åº”çš„ <code>HSL</code>å€¼</td>
<td></td>
</tr>
<tr>
<td>rgb.toString()</td>
<td>ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›é¢œè‰²å€¼ <code>#ffffff</code></td>
<td></td>
</tr>
<tr>
<td><code>brighter()</code></td>
<td><code>darker()</code></td>
<td>è¿”å›ä¸€ä¸ªæ–°çš„é¢œè‰²å¯¹è±¡ï¼Œ<code>å½“å‰å¯¹è±¡å¹¶ä¸ä¼šè¿›è¡Œæ”¹å˜</code></td>
</tr>
<tr>
<td>hsl()</td>
<td>è¿”å›å½“å‰é¢œè‰²æ‰€å¯¹åº”çš„ <code>HSL</code>å€¼</td>
<td></td>
</tr>
</tbody></table>
<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><p><img src="https://gitee.com/analysis-of-river-snow/drawing-bed/raw/master/20210330163559.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> color = d3.<span class="title function_">rgb</span>(<span class="number">166</span>,<span class="number">12</span>,<span class="number">12</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(color.<span class="title function_">has</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(color.<span class="title function_">darker</span>(<span class="number">2</span>).<span class="title function_">toString</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(color.<span class="title function_">brighter</span>(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°çš„ codeä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>has()</code>æ¥è¿”å› <code>color</code>çš„<code>has</code>é¢œè‰²å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨<code>toString()</code>æ¥è¿”å›è¯¥é¢œè‰²çš„<code>åå…­è¿›åˆ¶</code>ï¼Œ<code>darker()ä¸brighter()</code>æ•°å€¼ä¸º<code>2</code>å³äº®åº¦ä¸º<code>2</code>ï¼Œæš—åº¦ä¸º<code>2</code>çš„é¢œè‰²<code>å˜å€¼</code>ã€‚</p>
<h2 id="HSL"><a href="#HSL" class="headerlink" title="HSL"></a>HSL</h2><p><img src="https://gitee.com/analysis-of-river-snow/drawing-bed/raw/master/20210330163521.png"><br>HSL ä¸ RGB çš„åŒºåˆ«å°±æ˜¯ï¼Œä»–æ˜¯é€šè¿‡å°† <code>RGB è‰²å½©æ¨¡å¼</code>å†…çš„å„ä¸ªç»„æˆé¢œè‰²æ”¾åœ¨åœ†æŸ±åæ ‡ç³»çš„è¡¨ç¤ºæ–¹æ³•ã€‚è¿™ç§è¡¨ç¤ºæ–¹æ³•ä¼šæ¯”åŸºäº<code>ç¬›å¡å°”åæ ‡ç³»</code>çš„é›†åˆç»“æ„ä¸­çš„RGBæ›´åŠ ç›´è§‚ã€‚</p>
<p>HSL é¢œè‰²ç©ºé—´ä¸»è¦é€šè¿‡<code>è‰²ç›¸ï¼ˆHï¼ŒHueï¼‰ã€é¥±å’Œåº¦ï¼ˆSï¼ŒSaturationï¼‰ã€äº®åº¦ï¼ˆLï¼ŒLightnessï¼‰</code>ä¸‰ä¸ªç›¸äº’å åŠ æ¥å¾—åˆ°å„ç§é¢œè‰²ï¼Œä»–çš„è‰²ç›¸èŒƒå›´æ˜¯<code>0Â°ï½360Â°</code>ï¼Œé¥±å’Œåº¦å’Œäº®åº¦åˆ†åˆ«ä¸º<code>0ï½1</code>ã€‚å…¶ä¸­<strong>è‰²ç›¸Â°</strong>æ˜¯ä¸€ä¸ªè§’åº¦ï¼Œæ¯ä¸ª<code>è§’åº¦</code>éƒ½å¯ä»¥ä»£è¡¨å…¶ä¸­çš„<code>ä¸€ä¸ªé¢œè‰²</code>ï¼Œä¾‹å¦‚<code>0Â°</code>ä»£è¡¨çº¢è‰²ï¼Œ<code>120Â°</code>ä»£è¡¨ç»¿è‰²ï¼Œ<code>240Â°</code>ä»£è¡¨è“è‰²ã€‚</p>
<p>é€šå¸¸çš„æƒ…å†µä¸‹ï¼Œé¥±å’Œåº¦è¶Šå¤§ï¼Œé¢œè‰²å°±è¶Šé²œè‰³ï¼Œè€Œäº®åº¦å€¼ä¸»è¦æ§åˆ¶è‰²å½©çš„<code>æ˜æš—å˜åŒ–</code>ï¼Œå½“äº®åº¦è¶Šå¤§ï¼Œå°±è¶Šæ¥è¿‘ä¸ç™½è‰²ï¼Œåä¹‹å€¼è¶Šå°å°±è¶Šæ¥è¿‘é»‘è‰²ï¼Œé»˜è®¤çš„æƒ…å†µä¸‹<strong>RGBä¸HSLçš„é¢œè‰²æ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„</strong>ã€‚</p>
<h3 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
</tr>
</thead>
<tbody><tr>
<td>d3.hsl(<code>h,s,l</code>)</td>
<td>æ ¹æ®<code>hã€sã€l</code>å€¼æ¥åˆ›å»ºHALé¢œè‰²</td>
</tr>
<tr>
<td>d3.hsl(<code>color</code>)</td>
<td>æ ¹æ®å­—ç¬¦ä¸²æ¥åˆ›å»º<code>HSL</code>é¢œè‰²</td>
</tr>
<tr>
<td>hsl.brighter()</td>
<td>ä½¿å¾—é¢œè‰²å˜å¾—<code>æ›´äº®</code></td>
</tr>
<tr>
<td>hsl.darker()</td>
<td>ä½¿å¾—é¢œè‰²å˜å¾—<code>æ›´æš—</code></td>
</tr>
<tr>
<td>hsl.rgb()</td>
<td>è¿”å›å¯¹åº”çš„<code>rgb</code>é¢œè‰²</td>
</tr>
<tr>
<td>hsl.toString</td>
<td>è¿”å›ä»¥<code>RGB</code>å­—ç¬¦ä¸²åå…­è¿›åˆ¶å½¢å¼è¾“å‡ºçš„é¢œè‰²</td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/analysis-of-river-snow/drawing-bed/raw/master/20210331002823.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rgb = d3.<span class="title function_">rgb</span>(<span class="number">166</span>,<span class="number">12</span>,<span class="number">12</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(rgb.<span class="title function_">hsl</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hsl = d3.<span class="title function_">hsl</span>(<span class="number">0</span>,<span class="number">0.8651685393258428</span>,<span class="number">0.34901960784313724</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(hsl.<span class="title function_">rgb</span>().<span class="title function_">toString</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(hsl.<span class="title function_">darker</span>(<span class="number">2</span>).<span class="title function_">toString</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(hsl.<span class="title function_">brighter</span>(<span class="number">2</span>).<span class="title function_">toString</span>())</span><br></pre></td></tr></table></figure>

<h2 id="æ’å€¼"><a href="#æ’å€¼" class="headerlink" title="æ’å€¼"></a>æ’å€¼</h2><p><img src="https://gitee.com/analysis-of-river-snow/drawing-bed/raw/master/20210331020916.png"><br>æ’å€¼ï¼ˆ<code>Interpolation</code>ï¼‰ä¸»è¦ç”¨äºè®¡ç®—<code>ä»‹äº</code>ä¸¤ä¸ªé¢œè‰²ä¹‹é—´çš„é¢œè‰²ï¼Œä¸»è¦å¯ä»¥é€šè¿‡ä½¿ç”¨<code>d3.interpolateRgb()</code>æ¥å¤„ç†<code>RGB</code>é¢œè‰²ä¹‹é—´çš„æ’å€¼è¿ç®—ã€‚è€Œå¦‚æœæ˜¯<code>HSL</code>é¢œè‰²åˆ™å¯ä»¥é€šè¿‡ä½¿ç”¨<code>d3.interpolateHsl()</code>æ¥å¤„ç†<code>HSL</code>é¢œè‰²ä¹‹é—´çš„æ’å€¼è¿ç®—ã€‚<strong>é™¤æ­¤ä¹‹å¤–</strong>ï¼ŒD3 è¿˜æä¾›äº†ä¸€ç§æ›´åŠ <code>æ™ºèƒ½</code>çš„æ–¹æ³•å³ï¼š<code>d3.interpolate()</code>ï¼Œä»–ä¼šè‡ªåŠ¨çš„åˆ¤æ–­é¢œè‰²ç±»å‹ï¼Œè¿˜å¯ä»¥å¤„ç†<strong>å­—ç¬¦ä¸²</strong>ä¹‹é—´çš„å·®å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ragOne = d3.<span class="title function_">rgb</span>(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">var</span> ragTwo = d3.<span class="title function_">rgb</span>(<span class="number">0</span>,<span class="number">255</span>,<span class="number">255</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> interpolate = d3.<span class="title function_">interpolate</span>(ragOne,ragTwo)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">interpolate</span>(<span class="number">0</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">interpolate</span>(<span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°çš„ code ä¸­ï¼Œ<code>ragOne</code>ä¸<code>ragTwo</code>çš„æ’å€¼é€šè¿‡<code>interpolate</code>æ¥è‡ªåŠ¨åˆ¤æ–­é¢œè‰²ç±»å‹ï¼Œå¹¶æ ¹æ®è®¾ç½®çš„<code>æ’å€¼</code>è¿›è¡Œè®¡ç®—ï¼Œå½“æ’å€¼ä¸º<code>0</code>æ—¶è¿”å›äº†<code>#ff0000</code>é¢œè‰²ï¼Œè€Œå½“æ’å€¼ä¸º<code>0.5</code>æ—¶ï¼Œåˆ™è¿”å›äº†<code>#808080</code>é¢œè‰²ã€‚</p>

	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/12.D3 æ•£ç‚¹å›¾/">D3 æ•£ç‚¹å›¾</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330093420.png"><br>æ•£ç‚¹å›¾ï¼ˆ<code>scatterplot</code>ï¼‰ï¼Œä¸»è¦åœ¨<code>å›å½’åˆ†æï¼ˆregression analysisï¼‰</code>ä¸­ä¸»è¦ç”¨äºç¡®å®š<strong>ä¸¤ç§</strong>æˆ–ä¸¤ç§ä»¥ä¸Šçš„<code>å˜é‡</code>é—´äº’ç›¸ä¾èµ–çš„<code>å®šé‡å…³ç³»</code>çš„ä¸€ç§ç»Ÿè®¡åˆ†ææ–¹æ³•ã€‚æ•£ç‚¹å›¾ä¹Ÿå¯ä»¥ç”¨äºè¡¨è¿°<code>è¶‹åŠ¿çš„å¢åŠ çš„èšåˆæ•°æ®</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å®šä¹‰é«˜åº¦ä¸å®½åº¦ï¼Œå…¶ä¸­åŒ…æ‹¬ xå’Œyè½´çš„å®½åº¦ */</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">	<span class="attr">width</span>: <span class="number">700</span>,</span><br><span class="line">	<span class="attr">height</span>: <span class="number">700</span>,</span><br><span class="line">	<span class="attr">xAxisWidth</span>: <span class="number">500</span>,</span><br><span class="line">	<span class="attr">yAxisWidth</span>: <span class="number">500</span>,</span><br><span class="line">	<span class="attr">right</span>: <span class="number">30</span>,</span><br><span class="line">	<span class="attr">bottom</span>: <span class="number">30</span>,</span><br><span class="line">	<span class="attr">left</span>: <span class="number">130</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰æ•°æ® x,y */</span></span><br><span class="line"><span class="keyword">var</span> center = [[<span class="number">0.8</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0.8</span>],[<span class="number">0.4</span>,<span class="number">0.3</span>],[<span class="number">0.6</span>,<span class="number">0.4</span>],[<span class="number">0.2</span>,<span class="number">0.6</span>],[<span class="number">0.8</span>,<span class="number">0.2</span>],[<span class="number">0.2</span>,<span class="number">0.1</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰é¢œè‰²åºæ•°æ¯”ä¾‹å°º */</span></span><br><span class="line"><span class="keyword">var</span> color = d3.<span class="property">scale</span>.<span class="title function_">category10</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span></span><br><span class="line"><span class="comment">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">	.<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x/y è½´æ¯”ä¾‹å°º */</span></span><br><span class="line"><span class="keyword">var</span> xScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">	.<span class="title function_">domain</span>([<span class="number">0</span>, <span class="number">1</span> * d3.<span class="title function_">max</span>(center, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> d[<span class="number">1</span>];</span><br><span class="line">	&#125;)])</span><br><span class="line">	.<span class="title function_">range</span>([<span class="number">0</span>, padding.<span class="property">xAxisWidth</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">	.<span class="title function_">domain</span>([<span class="number">0</span>, <span class="number">1</span> * d3.<span class="title function_">max</span>(center, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> d[<span class="number">1</span>];</span><br><span class="line">	&#125;)])</span><br><span class="line">	.<span class="title function_">range</span>([<span class="number">0</span>, padding.<span class="property">yAxisWidth</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å®šä¹‰åœ† */</span></span><br><span class="line"><span class="keyword">var</span> cirlce = svg.<span class="title function_">selectAll</span>(<span class="string">&quot;circle&quot;</span>)</span><br><span class="line">	.<span class="title function_">data</span>(center)</span><br><span class="line">	.<span class="title function_">enter</span>()</span><br><span class="line">	.<span class="title function_">append</span>(<span class="string">&quot;circle&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;fill&quot;</span>, <span class="keyword">function</span>(<span class="params">d,i</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="title function_">color</span>(i)</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;cx&quot;</span>, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> padding.<span class="property">left</span> + <span class="title function_">xScale</span>(d[<span class="number">0</span>])</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;cy&quot;</span>, <span class="keyword">function</span>(<span class="params">d</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> padding.<span class="property">height</span> - padding.<span class="property">bottom</span> - <span class="title function_">yScale</span>(d[<span class="number">1</span>])</span><br><span class="line">	&#125;)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;r&quot;</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* x/y åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°º */</span></span><br><span class="line"><span class="keyword">var</span> xAxis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">	.<span class="title function_">scale</span>(xScale)</span><br><span class="line">	.<span class="title function_">orient</span>(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line">	.<span class="title function_">ticks</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">	yScale.<span class="title function_">range</span>([padding.<span class="property">yAxisWidth</span>, <span class="number">0</span>])	<span class="comment">/* åå‘è¾“å‡º */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> yAxis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">	.<span class="title function_">scale</span>(yScale)</span><br><span class="line">	.<span class="title function_">orient</span>(<span class="string">&quot;left&quot;</span>)</span><br><span class="line">	.<span class="title function_">ticks</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„æ•°æ®å¹¶è®¡ç®—å‡ºä½ç½® */</span></span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, <span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + (padding.<span class="property">height</span> - padding.<span class="property">bottom</span>) + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">	.<span class="title function_">call</span>(xAxis)</span><br><span class="line">svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, <span class="string">&quot;translate(&quot;</span> + padding.<span class="property">left</span> + <span class="string">&quot;,&quot;</span> + (padding.<span class="property">height</span> - padding.<span class="property">bottom</span> - padding.<span class="property">yAxisWidth</span>) + <span class="string">&quot;)&quot;</span>)</span><br><span class="line">	.<span class="title function_">call</span>(yAxis)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>CSS</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.axis</span> path,   <span class="comment">/* åæ ‡è½´è·¯å¾„è®¾ç½® */</span></span><br><span class="line"><span class="selector-class">.axis</span> line &#123;    <span class="comment">/* è®¾ç½® åæ ‡è½´çš„çº¿æ¡ */</span></span><br><span class="line">  fill: none;   <span class="comment">/* è®¾ç½®åæ ‡è½´å®½åº¦ */</span></span><br><span class="line">  stroke: <span class="number">#929292</span>;  <span class="comment">/* åæ ‡è½´é¢œè‰² */</span></span><br><span class="line">  shape-rendering: crispEdges;  <span class="comment">/* å°†å½¢çŠ¶æ¸²æŸ“ä¸ºæ¸…æ™°çš„è¾¹ç¼˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.axis</span> text &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  stroke: <span class="number">#929292</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
	

	

</article>




	<article>
	
		<h1><a href="/2022/04/21/javascript/d3/11.D3 åæ ‡è½´ä¸åˆ»åº¦/">D3 åæ ‡è½´ä¸åˆ»åº¦</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2022-04-21</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-none-link" href="/tags/d3-v3/" rel="tag">d3 v3</a> <a class="article__tag-none-link" href="/tags/javascript/" rel="tag">javascript</a> <a class="article__tag-none-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" rel="tag">æ•°æ®å¯è§†åŒ–</a>
			</span>
		
	</div>

	

	
		<p>åæ ‡è½´ï¼ˆ<code>Axis</code>ï¼‰é€šå¸¸åœ¨ä¸€äº›å­¦æœ¯å›¾è¡¨ä¸­è¿›è¡Œè¿ç”¨ï¼Œé€šå¸¸å¾ˆå¤šçš„æƒ…å†µä¸‹å›¾è¡¨ä¸­æ•°æ®éƒ½æ˜¯ç»è¿‡<code>æ¯”ä¾‹å°º</code>å†…è®¡ç®—çš„å‡ºçš„å¤§å°ä¸åæ ‡ä½ç½®ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦åˆ»åº¦å°ºæ¥è¿›è¡Œ<strong>æ ‡æ³¨</strong>ï¼Œæ¥è¾…åŠ©è¯»è€…è¿›è¡Œè§‚çœ‹ï¼Œå¯ä»¥é€šè¿‡ä¸‹å›¾æ¥æ˜æ˜¾æ„Ÿå—åˆ°å·®è·ï¼š<br><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002022.png"><br>é€šå¸¸çš„æƒ…å†µä¸‹ï¼Œè¯»è€…å¯ä¼šå¯¹å›¾æ ‡çš„<code>ç¾è§‚æ€§</code>å’Œ<code>ä¸“ä¸šæ€§</code>éƒ½ä¼šé€‰æ‹©æœ‰åæ ‡è½´å’Œåˆ»åº¦çš„å›¾è¡¨ï¼Œé€šå¸¸åœ¨ d3.js ä¸­ç»˜ç”»å‡ºä¸€ä¸ªåæ ‡è½´éœ€è¦ä»¥ä¸‹æ–¹æ³•çš„æ”¯æŒï¼š</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>DA</th>
<th>FA</th>
</tr>
</thead>
<tbody><tr>
<td>d3.svg.axis()</td>
<td>åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„æ–°åæ ‡è½´</td>
<td></td>
</tr>
<tr>
<td>axis(é€‰æ‹©é›†)</td>
<td>å°†æ­¤åæ ‡è½´ç»‘å®šåˆ°æŒ‡å®šçš„é€‰æ‹©é›†ä¸­ï¼ˆéœ€è¦å…·æœ‰<code>&lt;svg&gt;</code>æˆ–<code>&lt;g&gt;</code>å…ƒç´ ï¼‰</td>
<td></td>
</tr>
<tr>
<td></td>
<td>axis.scale()</td>
<td>è®¾å®šæˆ–è·å–åæ ‡è½´çš„æ¯”ä¾‹å°º</td>
</tr>
<tr>
<td></td>
<td>axis.orient(<code>top[bottomã€leftã€right]</code>)</td>
<td>è®¾å®šæˆ–è·å–åæ ‡è½´çš„æ–¹å‘</td>
</tr>
<tr>
<td>åˆ»åº¦</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>axis.ticks()</td>
<td>è®¾ç½®æˆ–è·å–åæ ‡è½´çš„åˆ†å‰²æ•°ï¼ˆé»˜è®¤ä¸º<code>10</code>ï¼‰</td>
</tr>
<tr>
<td></td>
<td>axis.tickValues()</td>
<td>è®¾ç½®æˆ–è·å–åæ ‡è½´çš„<strong>æŒ‡å®šåˆ»åº¦</strong></td>
</tr>
<tr>
<td></td>
<td>axis.tickSize()</td>
<td>è®¾ç½®æˆ–è·å–åæ ‡è½´å†…å¤–çš„åˆ»åº¦é•¿åº¦ï¼ˆé»˜è®¤ä¸º<code>6</code>ï¼‰</td>
</tr>
<tr>
<td></td>
<td></td>
<td>axis.innerTickSize() è®¾ç½®æˆ–è·å–åæ ‡è½´<code>å†…åˆ»åº¦</code>çš„é•¿åº¦</td>
</tr>
<tr>
<td></td>
<td></td>
<td>axis.outerTickSize() è®¾ç½®æˆ–è·å–åæ ‡è½´<code>å¤–åˆ»åº¦</code>çš„é•¿åº¦</td>
</tr>
<tr>
<td></td>
<td>axis.tickFormat()</td>
<td>è®¾ç½®æˆ–è·å–åˆ»åº¦å°ºçš„<code>æ ¼å¼</code>æˆ–<code>å•ä½</code></td>
</tr>
</tbody></table>
<h2 id="åæ ‡è½´"><a href="#åæ ‡è½´" class="headerlink" title="åæ ‡è½´"></a>åæ ‡è½´</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002102.png"><br>åœ¨ä¸Šå›¾ä¸­æˆ‘ä»¬ä¸»è¦å…ˆé€šè¿‡å®šä¹‰<code>åæ ‡è½´</code>çš„åŸºæœ¬é«˜åº¦ä¸å®½åº¦ä»¥åŠæœ€ç»ˆçš„<code>ä½ç½®</code>ï¼Œå…¶ä¸»è¦åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«ä¸º<code>ä½ç½®ã€æ·»åŠ ã€æ¯”ä¾‹å°ºã€åæ ‡è½´ä»¥åŠä¸€ä¸ªåæ ‡è½´çš„å¤–éƒ¨æ–¹æ³•</code>é€šè¿‡å››ä¸ªé˜¶æ®µå¯ä»¥ç”Ÿæˆä¸€ä¸ªæ ‡å‡†ä¸”å¸¦æœ‰åˆ»åº¦å°ºçš„ä¸€ä¸ªåæ ‡è½´ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰åæ ‡è½´é«˜åº¦ä¸å®½åº¦ä»¥åŠ(x,y)çš„ä½ç½®</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">	<span class="attr">width</span>: <span class="number">600</span>,</span><br><span class="line">	<span class="attr">height</span>: <span class="number">600</span>,</span><br><span class="line">	<span class="attr">translate</span>: <span class="string">&quot;translate(20,20)&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span></span><br><span class="line"><span class="comment">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">	.<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¯”ä¾‹å°º */</span></span><br><span class="line"><span class="keyword">var</span> xScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">	.<span class="title function_">domain</span>([<span class="number">0</span>,<span class="number">10</span>])			<span class="comment">/* å®šä¹‰åŸŸèŒƒå›´ */</span></span><br><span class="line">	.<span class="title function_">range</span>([<span class="number">0</span>,<span class="number">500</span>])	<span class="comment">/* å€¼åŸŸå³ä¸ºåˆ»åº¦å°ºé•¿åº¦ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°ºï¼Œè®¾ç½®æ¯”ä¾‹å°ºä½ç½®ä¸º &quot;bottom&quot; å³åº•éƒ¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> axis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">	.<span class="title function_">scale</span>(xScale)</span><br><span class="line">	.<span class="title function_">orient</span>(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„ï¼š</span></span><br><span class="line"><span class="comment">		1. ä½ç½®/èµ°å‘	@transform</span></span><br><span class="line"><span class="comment">		2. æ ·å¼	@class</span></span><br><span class="line"><span class="comment">		3. å‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> gAxis = svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, padding.<span class="property">translate</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">	.<span class="title function_">call</span>(axis)		<span class="comment">/* å°†è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æŸä¸ªå‚æ•° */</span></span><br></pre></td></tr></table></figure>

<h4 id="bottom-and-left"><a href="#bottom-and-left" class="headerlink" title="bottom and left"></a>bottom and left</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330015825.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">```js</span><br><span class="line">/* å®šä¹‰é«˜åº¦ä¸å®½åº¦ï¼Œå…¶ä¸­åŒ…æ‹¬ xå’Œyè½´çš„å®½åº¦ */</span><br><span class="line">var padding = &#123;</span><br><span class="line">	width: 700,</span><br><span class="line">	height: 700,</span><br><span class="line">	xAxisWidth: 500,</span><br><span class="line">	yAxisWidth: 500,</span><br><span class="line">	right: 30,</span><br><span class="line">	bottom: 30,</span><br><span class="line">	left: 130,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰æ•°æ®</span><br><span class="line">var center = [[1,1]]</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span><br><span class="line">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span><br><span class="line"> */</span><br><span class="line">var svg = d3.select(&quot;body&quot;)</span><br><span class="line">	.append(&quot;svg&quot;)</span><br><span class="line">	.attr(&quot;width&quot;, padding.width)</span><br><span class="line">	.attr(&quot;height&quot;, padding.height)</span><br><span class="line"></span><br><span class="line">/* x/y è½´æ¯”ä¾‹å°º */</span><br><span class="line">var xScale = d3.scale.linear()</span><br><span class="line">	.domain([0, 1 * d3.max(center, function(d) &#123;</span><br><span class="line">		return d[1];</span><br><span class="line">	&#125;)])</span><br><span class="line">	.range([0, padding.xAxisWidth])</span><br><span class="line"></span><br><span class="line">var yScale = d3.scale.linear()</span><br><span class="line">	.domain([0, 1 * d3.max(center, function(d) &#123;</span><br><span class="line">		return d[1];</span><br><span class="line">	&#125;)])</span><br><span class="line">	.range([0, padding.yAxisWidth])</span><br><span class="line"></span><br><span class="line">/* x/y åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°º */</span><br><span class="line">var xAxis = d3.svg.axis()</span><br><span class="line">	.scale(xScale)</span><br><span class="line">	.orient(&quot;bottom&quot;)</span><br><span class="line">	.ticks(5)</span><br><span class="line"></span><br><span class="line">yScale.range([padding.yAxisWidth, 0])	/* åå‘è¾“å‡º */</span><br><span class="line"></span><br><span class="line">var yAxis = d3.svg.axis()</span><br><span class="line">	.scale(yScale)</span><br><span class="line">	.orient(&quot;left&quot;)</span><br><span class="line">	.ticks(5)</span><br><span class="line"></span><br><span class="line">/* åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„æ•°æ®å¹¶è®¡ç®—å‡ºä½ç½® */</span><br><span class="line">svg.append(&quot;g&quot;)</span><br><span class="line">	.attr(&quot;class&quot;,&quot;axis&quot;)</span><br><span class="line">	.attr(&quot;transform&quot;, &quot;translate(&quot; + padding.left + &quot;,&quot; + (padding.height - padding.bottom) + &quot;)&quot;)</span><br><span class="line">	.call(xAxis)</span><br><span class="line">svg.append(&quot;g&quot;)</span><br><span class="line">	.attr(&quot;class&quot;,&quot;axis&quot;)</span><br><span class="line">	.attr(&quot;transform&quot;, &quot;translate(&quot; + padding.left + &quot;,&quot; + (padding.height - padding.bottom - padding.yAxisWidth) + &quot;)&quot;)</span><br><span class="line">	.call(yAxis)</span><br></pre></td></tr></table></figure>


<h3 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a>æ ·å¼</h3><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002119.png"><br>é™¤äº†ç”Ÿæˆ <code>svg</code> åæ ‡è½´ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡ä¸º<code>pathï¼ˆè·¯å¾„ï¼‰ã€lineï¼ˆåˆ»åº¦å°ºï¼‰ã€textï¼ˆæ–‡æœ¬ï¼‰</code>è¿™ä¸‰ä¸ª<code>svg</code>å…ƒç´ æ·»åŠ æ ·å¼ï¼Œè®©å…¶å˜å¾—ç®€æ´ã€‚</p>
<blockquote>
<p>less</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@color</span>: #<span class="number">929292</span>;</span><br><span class="line"><span class="selector-class">.axis</span> path,   <span class="comment">/* åæ ‡è½´è·¯å¾„è®¾ç½® */</span></span><br><span class="line"><span class="selector-class">.axis</span> line &#123;    <span class="comment">/* è®¾ç½® åæ ‡è½´çš„çº¿æ¡ */</span></span><br><span class="line">  fill: none;   <span class="comment">/* è®¾ç½®åæ ‡è½´å®½åº¦ */</span></span><br><span class="line">  stroke: @color;  <span class="comment">/* åæ ‡è½´é¢œè‰² */</span></span><br><span class="line">  shape-rendering: crispEdges;  <span class="comment">/* å°†å½¢çŠ¶æ¸²æŸ“ä¸ºæ¸…æ™°çš„è¾¹ç¼˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.axis</span> text &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  stroke: @color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>css</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.axis</span> path,   <span class="comment">/* åæ ‡è½´è·¯å¾„è®¾ç½® */</span></span><br><span class="line"><span class="selector-class">.axis</span> line &#123;    <span class="comment">/* è®¾ç½® åæ ‡è½´çš„çº¿æ¡ */</span></span><br><span class="line">  fill: none;   <span class="comment">/* è®¾ç½®åæ ‡è½´å®½åº¦ */</span></span><br><span class="line">  stroke: <span class="number">#929292</span>;  <span class="comment">/* åæ ‡è½´é¢œè‰² */</span></span><br><span class="line">  shape-rendering: crispEdges;  <span class="comment">/* å°†å½¢çŠ¶æ¸²æŸ“ä¸ºæ¸…æ™°çš„è¾¹ç¼˜ */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.axis</span> text &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  stroke: <span class="number">#929292</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ»åº¦"><a href="#åˆ»åº¦" class="headerlink" title="åˆ»åº¦"></a>åˆ»åº¦</h2><p>åˆ»åº¦ï¼Œä¸»è¦ä¾èµ–äºåæ ‡è½´ï¼Œæ˜¯ä¸€ä¸ªä¸“ä¸šå­¦æœ¯å›¾è¡¨ä¸­è¾ƒä¸ºé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å±æ€§æˆ–æ–¹æ³•æ¥å®šä¹‰åˆ»åº¦çš„<code>æ–¹å‘ã€é—´éš”ã€é•¿åº¦ã€æ–‡å­—æ ¼å¼</code>ç­‰ã€‚</p>
<h3 id="åˆ»åº¦ä½ç½®"><a href="#åˆ»åº¦ä½ç½®" class="headerlink" title="åˆ»åº¦ä½ç½®"></a>åˆ»åº¦ä½ç½®</h3><h4 id="ticks"><a href="#ticks" class="headerlink" title="ticks()"></a>ticks()</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002150.png"><br>é€šå¸¸çš„æƒ…å†µä¸‹<code>ticks()</code>ä¸»è¦ç”¨äº<code>æ§åˆ¶</code>åˆ»åº¦å°ºçš„ç”Ÿæˆï¼Œåœ¨ d3.js ä¸­ ticksçš„æ¦‚å¿µæ˜¯æŒ‡ï¼šâ€œ<strong>ä¸€ä¸ªè‡³åˆ°å¦ä¸€ä¸ªåˆ†å‰²çš„ç‰¹å®šæ•°é‡</strong>â€ï¼Œå³<strong>åˆ†å‰²çš„æ•°é‡</strong>ã€‚å¦‚å°†<code>ticks()</code>è®¾ç½®ä¸º<strong>5</strong>ï¼Œé‚£ä¹ˆå°†ä¼šè¾“å‡ºå…·æœ‰åˆ»åº¦ä¸º<code>0ï¼Œ2ï¼Œ4ï¼Œ6ï¼Œ8ï¼Œ10</code>çš„åæ ‡è½´ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰åæ ‡è½´é«˜åº¦ä¸å®½åº¦ä»¥åŠ(x,y)çš„ä½ç½®</span></span><br><span class="line"><span class="keyword">var</span> padding = &#123;</span><br><span class="line">	<span class="attr">width</span>: <span class="number">600</span>,</span><br><span class="line">	<span class="attr">height</span>: <span class="number">600</span>,</span><br><span class="line">			<span class="attr">translate</span>: <span class="string">&quot;translate(20,20)&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span></span><br><span class="line"><span class="comment">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> svg = d3.<span class="title function_">select</span>(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">	.<span class="title function_">append</span>(<span class="string">&quot;svg&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;width&quot;</span>, padding.<span class="property">width</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;height&quot;</span>, padding.<span class="property">height</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¯”ä¾‹å°º */</span></span><br><span class="line"><span class="keyword">var</span> xScale = d3.<span class="property">scale</span>.<span class="title function_">linear</span>()</span><br><span class="line">	.<span class="title function_">domain</span>([<span class="number">0</span>,<span class="number">10</span>])			<span class="comment">/* å®šä¹‰åŸŸèŒƒå›´ */</span></span><br><span class="line">	.<span class="title function_">range</span>([<span class="number">0</span>,<span class="number">500</span>])	<span class="comment">/* å€¼åŸŸå³ä¸ºåˆ»åº¦å°ºé•¿åº¦ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°ºï¼Œè®¾ç½®æ¯”ä¾‹å°ºä½ç½®ä¸º &quot;bottom&quot; å³åº•éƒ¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> axis = d3.<span class="property">svg</span>.<span class="title function_">axis</span>()</span><br><span class="line">	.<span class="title function_">scale</span>(xScale)</span><br><span class="line">	.<span class="title function_">orient</span>(<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line">	.<span class="title function_">ticks</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„ï¼š</span></span><br><span class="line"><span class="comment">		1. ä½ç½®/èµ°å‘	@transform</span></span><br><span class="line"><span class="comment">		2. æ ·å¼	@class</span></span><br><span class="line"><span class="comment">		3. å‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> gAxis = svg.<span class="title function_">append</span>(<span class="string">&quot;g&quot;</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;transform&quot;</span>, padding.<span class="property">translate</span>)</span><br><span class="line">	.<span class="title function_">attr</span>(<span class="string">&quot;class&quot;</span>,<span class="string">&quot;axis&quot;</span>)</span><br><span class="line">	.<span class="title function_">call</span>(axis)		<span class="comment">/* å°†è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æŸä¸ªå‚æ•° */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="tickValues"><a href="#tickValues" class="headerlink" title="tickValues()"></a>tickValues()</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002206.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">// å®šä¹‰åæ ‡è½´é«˜åº¦ä¸å®½åº¦ä»¥åŠ(x,y)çš„ä½ç½®</span><br><span class="line">var padding = &#123;</span><br><span class="line">	width: 600,</span><br><span class="line">	height: 600,</span><br><span class="line">			translate: &quot;translate(20,20)&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span><br><span class="line">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span><br><span class="line"> */</span><br><span class="line">var svg = d3.select(&quot;body&quot;)</span><br><span class="line">	.append(&quot;svg&quot;)</span><br><span class="line">	.attr(&quot;width&quot;, padding.width)</span><br><span class="line">	.attr(&quot;height&quot;, padding.height)</span><br><span class="line"></span><br><span class="line">/* æ¯”ä¾‹å°º */</span><br><span class="line">var xScale = d3.scale.linear()</span><br><span class="line">	.domain([0,10])			/* å®šä¹‰åŸŸèŒƒå›´ */</span><br><span class="line">	.range([0,500])	/* å€¼åŸŸå³ä¸ºåˆ»åº¦å°ºé•¿åº¦ */</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°ºï¼Œè®¾ç½®æ¯”ä¾‹å°ºä½ç½®ä¸º &quot;bottom&quot; å³åº•éƒ¨</span><br><span class="line"> */</span><br><span class="line">var axis = d3.svg.axis()</span><br><span class="line">	.scale(xScale)</span><br><span class="line">	.orient(&quot;bottom&quot;)</span><br><span class="line">	.tickValues([0, 2.2, 4, 6, 8, 10])</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„ï¼š</span><br><span class="line">		1. ä½ç½®/èµ°å‘	@transform</span><br><span class="line">		2. æ ·å¼	@class</span><br><span class="line">		3. å‚æ•°ä¼ é€’</span><br><span class="line"> */</span><br><span class="line">var gAxis = svg.append(&quot;g&quot;)</span><br><span class="line">	.attr(&quot;transform&quot;, padding.translate)</span><br><span class="line">	.attr(&quot;class&quot;,&quot;axis&quot;)</span><br><span class="line">	.call(axis)		/* å°†è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æŸä¸ªå‚æ•° */</span><br></pre></td></tr></table></figure>

<h3 id="åˆ»åº¦é•¿åº¦"><a href="#åˆ»åº¦é•¿åº¦" class="headerlink" title="åˆ»åº¦é•¿åº¦"></a>åˆ»åº¦é•¿åº¦</h3><h4 id="tickSize"><a href="#tickSize" class="headerlink" title="tickSize()"></a>tickSize()</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002218.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">// å®šä¹‰åæ ‡è½´é«˜åº¦ä¸å®½åº¦ä»¥åŠ(x,y)çš„ä½ç½®</span><br><span class="line">var padding = &#123;</span><br><span class="line">	width: 600,</span><br><span class="line">	height: 600,</span><br><span class="line">			translate: &quot;translate(20,20)&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span><br><span class="line">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span><br><span class="line"> */</span><br><span class="line">var svg = d3.select(&quot;body&quot;)</span><br><span class="line">	.append(&quot;svg&quot;)</span><br><span class="line">	.attr(&quot;width&quot;, padding.width)</span><br><span class="line">	.attr(&quot;height&quot;, padding.height)</span><br><span class="line"></span><br><span class="line">/* æ¯”ä¾‹å°º */</span><br><span class="line">var xScale = d3.scale.linear()</span><br><span class="line">	.domain([0,10])			/* å®šä¹‰åŸŸèŒƒå›´ */</span><br><span class="line">	.range([0,500])	/* å€¼åŸŸå³ä¸ºåˆ»åº¦å°ºé•¿åº¦ */</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°ºï¼Œè®¾ç½®æ¯”ä¾‹å°ºä½ç½®ä¸º &quot;bottom&quot; å³åº•éƒ¨</span><br><span class="line"> */</span><br><span class="line">var axis = d3.svg.axis()</span><br><span class="line">	.scale(xScale)</span><br><span class="line">	.orient(&quot;bottom&quot;)</span><br><span class="line">	.tickSize(6,8)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„ï¼š</span><br><span class="line">		1. ä½ç½®/èµ°å‘	@transform</span><br><span class="line">		2. æ ·å¼	@class</span><br><span class="line">		3. å‚æ•°ä¼ é€’</span><br><span class="line"> */</span><br><span class="line">var gAxis = svg.append(&quot;g&quot;)</span><br><span class="line">	.attr(&quot;transform&quot;, padding.translate)</span><br><span class="line">	.attr(&quot;class&quot;,&quot;axis&quot;)</span><br><span class="line">	.call(axis)		/* å°†è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æŸä¸ªå‚æ•° */</span><br></pre></td></tr></table></figure>

<h4 id="innerTickSize-and-outerTickSize"><a href="#innerTickSize-and-outerTickSize" class="headerlink" title="innerTickSize() and outerTickSize()"></a>innerTickSize() and outerTickSize()</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002240.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">// å®šä¹‰åæ ‡è½´é«˜åº¦ä¸å®½åº¦ä»¥åŠ(x,y)çš„ä½ç½®</span><br><span class="line">var padding = &#123;</span><br><span class="line">	width: 600,</span><br><span class="line">	height: 600,</span><br><span class="line">			translate: &quot;translate(20,20)&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	1.é€‰æ‹©bodyå…ƒç´ ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª&lt;svg&gt;å…ƒç´ </span><br><span class="line">	2.å¹¶è®¾ç½®&lt;svg&gt;çš„é«˜\å®½ä¸º 600.</span><br><span class="line"> */</span><br><span class="line">var svg = d3.select(&quot;body&quot;)</span><br><span class="line">	.append(&quot;svg&quot;)</span><br><span class="line">	.attr(&quot;width&quot;, padding.width)</span><br><span class="line">	.attr(&quot;height&quot;, padding.height)</span><br><span class="line"></span><br><span class="line">/* æ¯”ä¾‹å°º */</span><br><span class="line">var xScale = d3.scale.linear()</span><br><span class="line">	.domain([0,10])			/* å®šä¹‰åŸŸèŒƒå›´ */</span><br><span class="line">	.range([0,500])	/* å€¼åŸŸå³ä¸ºåˆ»åº¦å°ºé•¿åº¦ */</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	åæ ‡è½´é€‰æ‹©æ¯”ä¾‹å°ºï¼Œè®¾ç½®æ¯”ä¾‹å°ºä½ç½®ä¸º &quot;bottom&quot; å³åº•éƒ¨</span><br><span class="line"> */</span><br><span class="line">var axis = d3.svg.axis()</span><br><span class="line">	.scale(xScale)</span><br><span class="line">	.orient(&quot;bottom&quot;)</span><br><span class="line">	.innerTickSize(6)</span><br><span class="line">	.outerTickSize(8)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">	åœ¨ svg å…ƒç´ ä¸­æ·»åŠ ä¸€ä¸ªåŒ…å«åæ ‡è½´çš„ï¼š</span><br><span class="line">		1. ä½ç½®/èµ°å‘	@transform</span><br><span class="line">		2. æ ·å¼	@class</span><br><span class="line">		3. å‚æ•°ä¼ é€’</span><br><span class="line"> */</span><br><span class="line">var gAxis = svg.append(&quot;g&quot;)</span><br><span class="line">	.attr(&quot;transform&quot;, padding.translate)</span><br><span class="line">	.attr(&quot;class&quot;,&quot;axis&quot;)</span><br><span class="line">	.call(axis)		/* å°†è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æŸä¸ªå‚æ•° */</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æ–‡å­—æ ¼å¼"><a href="#æ–‡å­—æ ¼å¼" class="headerlink" title="æ–‡å­—æ ¼å¼"></a>æ–‡å­—æ ¼å¼</h3><h4 id="TickFormat"><a href="#TickFormat" class="headerlink" title="TickFormat"></a>TickFormat</h4><p><img src="https://49812933408852955071488026628034-1301075051.cos.ap-nanjing.myqcloud.com/20210330002253.png"></p>
<figure class="highlight plaintext"><figcaption><span>code å°†ä¼šåœ¨åˆ»åº¦ååŠ ä¸Šä¸€ä¸ª```ç™¾åˆ†æ¯”```ä½œä¸ºå•ä½ï¼š</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```js</span><br><span class="line">var gAxis = svg.append(&quot;g&quot;)</span><br><span class="line">	.attr(&quot;transform&quot;, padding.translate)</span><br><span class="line">	.attr(&quot;class&quot;,&quot;axis&quot;)</span><br><span class="line">	.call(axis.tickFormat(d =&gt; d+ &quot;%&quot;))		/* å°†è‡ªèº«ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™æŸä¸ªå‚æ•° */</span><br></pre></td></tr></table></figure>


	

	

</article>





	<span class="different-posts">ğŸ“– <a href="/page/10">more posts</a> ğŸ“–</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ blog <br><br> é€šè¿‡ <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>+<a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a> è¿›è¡Œæ„å»ºçš„ï¼Œå­˜æ”¾åœ¨ <a target="_blank" rel="noopener" href="https://github.com/vendanges/vendanges.github.io">Github</a> ä¸Šã€‚</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2022 John Doe | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
